function R0(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in e)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(e,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b0={exports:{}},Ea={},L0={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),Wh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Jh=Symbol.for("react.memo"),$h=Symbol.for("react.lazy"),qu=Symbol.iterator;function eg(e){return e===null||typeof e!="object"?null:(e=qu&&e[qu]||e["@@iterator"],typeof e=="function"?e:null)}var k0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,P0={};function Xi(e,n,i){this.props=e,this.context=n,this.refs=P0,this.updater=i||k0}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F0(){}F0.prototype=Xi.prototype;function Mc(e,n,i){this.props=e,this.context=n,this.refs=P0,this.updater=i||k0}var Oc=Mc.prototype=new F0;Oc.constructor=Mc;B0(Oc,Xi.prototype);Oc.isPureReactComponent=!0;var Ju=Array.isArray,j0=Object.prototype.hasOwnProperty,Rc={current:null},U0={key:!0,ref:!0,__self:!0,__source:!0};function z0(e,n,i){var a,u={},f=null,g=null;if(n!=null)for(a in n.ref!==void 0&&(g=n.ref),n.key!==void 0&&(f=""+n.key),n)j0.call(n,a)&&!U0.hasOwnProperty(a)&&(u[a]=n[a]);var C=arguments.length-2;if(C===1)u.children=i;else if(1<C){for(var m=Array(C),p=0;p<C;p++)m[p]=arguments[p+2];u.children=m}if(e&&e.defaultProps)for(a in C=e.defaultProps,C)u[a]===void 0&&(u[a]=C[a]);return{$$typeof:$s,type:e,key:f,ref:g,props:u,_owner:Rc.current}}function tg(e,n){return{$$typeof:$s,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Dc(e){return typeof e=="object"&&e!==null&&e.$$typeof===$s}function ng(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var $u=/\/+/g;function il(e,n){return typeof e=="object"&&e!==null&&e.key!=null?ng(""+e.key):n.toString(36)}function ko(e,n,i,a,u){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case $s:case Wh:g=!0}}if(g)return g=e,u=u(g),e=a===""?"."+il(g,0):a,Ju(u)?(i="",e!=null&&(i=e.replace($u,"$&/")+"/"),ko(u,n,i,"",function(p){return p})):u!=null&&(Dc(u)&&(u=tg(u,i+(!u.key||g&&g.key===u.key?"":(""+u.key).replace($u,"$&/")+"/")+e)),n.push(u)),1;if(g=0,a=a===""?".":a+":",Ju(e))for(var C=0;C<e.length;C++){f=e[C];var m=a+il(f,C);g+=ko(f,n,i,m,u)}else if(m=eg(e),typeof m=="function")for(e=m.call(e),C=0;!(f=e.next()).done;)f=f.value,m=a+il(f,C++),g+=ko(f,n,i,m,u);else if(f==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return g}function wo(e,n,i){if(e==null)return e;var a=[],u=0;return ko(e,a,"","",function(f){return n.call(i,f,u++)}),a}function rg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Bo={transition:null},ig={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:Rc};function H0(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:wo,forEach:function(e,n,i){wo(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return wo(e,function(){n++}),n},toArray:function(e){return wo(e,function(n){return n})||[]},only:function(e){if(!Dc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Xi;Ce.Fragment=Gh;Ce.Profiler=Xh;Ce.PureComponent=Mc;Ce.StrictMode=Yh;Ce.Suspense=qh;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;Ce.act=H0;Ce.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=B0({},e.props),u=e.key,f=e.ref,g=e._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,g=Rc.current),n.key!==void 0&&(u=""+n.key),e.type&&e.type.defaultProps)var C=e.type.defaultProps;for(m in n)j0.call(n,m)&&!U0.hasOwnProperty(m)&&(a[m]=n[m]===void 0&&C!==void 0?C[m]:n[m])}var m=arguments.length-2;if(m===1)a.children=i;else if(1<m){C=Array(m);for(var p=0;p<m;p++)C[p]=arguments[p+2];a.children=C}return{$$typeof:$s,type:e.type,key:u,ref:f,props:a,_owner:g}};Ce.createContext=function(e){return e={$$typeof:Zh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qh,_context:e},e.Consumer=e};Ce.createElement=z0;Ce.createFactory=function(e){var n=z0.bind(null,e);return n.type=e,n};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:Kh,render:e}};Ce.isValidElement=Dc;Ce.lazy=function(e){return{$$typeof:$h,_payload:{_status:-1,_result:e},_init:rg}};Ce.memo=function(e,n){return{$$typeof:Jh,type:e,compare:n===void 0?null:n}};Ce.startTransition=function(e){var n=Bo.transition;Bo.transition={};try{e()}finally{Bo.transition=n}};Ce.unstable_act=H0;Ce.useCallback=function(e,n){return jt.current.useCallback(e,n)};Ce.useContext=function(e){return jt.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};Ce.useEffect=function(e,n){return jt.current.useEffect(e,n)};Ce.useId=function(){return jt.current.useId()};Ce.useImperativeHandle=function(e,n,i){return jt.current.useImperativeHandle(e,n,i)};Ce.useInsertionEffect=function(e,n){return jt.current.useInsertionEffect(e,n)};Ce.useLayoutEffect=function(e,n){return jt.current.useLayoutEffect(e,n)};Ce.useMemo=function(e,n){return jt.current.useMemo(e,n)};Ce.useReducer=function(e,n,i){return jt.current.useReducer(e,n,i)};Ce.useRef=function(e){return jt.current.useRef(e)};Ce.useState=function(e){return jt.current.useState(e)};Ce.useSyncExternalStore=function(e,n,i){return jt.current.useSyncExternalStore(e,n,i)};Ce.useTransition=function(){return jt.current.useTransition()};Ce.version="18.3.1";L0.exports=Ce;var X=L0.exports;const Ci=D0(X),sg=R0({__proto__:null,default:Ci},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=X,ag=Symbol.for("react.element"),lg=Symbol.for("react.fragment"),cg=Object.prototype.hasOwnProperty,ug=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fg={key:!0,ref:!0,__self:!0,__source:!0};function V0(e,n,i){var a,u={},f=null,g=null;i!==void 0&&(f=""+i),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(g=n.ref);for(a in n)cg.call(n,a)&&!fg.hasOwnProperty(a)&&(u[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)u[a]===void 0&&(u[a]=n[a]);return{$$typeof:ag,type:e,key:f,ref:g,props:u,_owner:ug.current}}Ea.Fragment=lg;Ea.jsx=V0;Ea.jsxs=V0;b0.exports=Ea;var w=b0.exports,Rl={},W0={exports:{}},ln={},G0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ne,de){var ge=ne.length;ne.push(de);e:for(;0<ge;){var Ye=ge-1>>>1,ve=ne[Ye];if(0<u(ve,de))ne[Ye]=de,ne[ge]=ve,ge=Ye;else break e}}function i(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var de=ne[0],ge=ne.pop();if(ge!==de){ne[0]=ge;e:for(var Ye=0,ve=ne.length,un=ve>>>1;Ye<un;){var Ze=2*(Ye+1)-1,zr=ne[Ze],ae=Ze+1,or=ne[ae];if(0>u(zr,ge))ae<ve&&0>u(or,zr)?(ne[Ye]=or,ne[ae]=ge,Ye=ae):(ne[Ye]=zr,ne[Ze]=ge,Ye=Ze);else if(ae<ve&&0>u(or,ge))ne[Ye]=or,ne[ae]=ge,Ye=ae;else break e}}return de}function u(ne,de){var ge=ne.sortIndex-de.sortIndex;return ge!==0?ge:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,C=g.now();e.unstable_now=function(){return g.now()-C}}var m=[],p=[],E=1,A=null,N=3,b=!1,k=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ne){for(var de=i(p);de!==null;){if(de.callback===null)a(p);else if(de.startTime<=ne)a(p),de.sortIndex=de.expirationTime,n(m,de);else break;de=i(p)}}function j(ne){if(B=!1,M(ne),!k)if(i(m)!==null)k=!0,et($);else{var de=i(p);de!==null&&pe(j,de.startTime-ne)}}function $(ne,de){k=!1,B&&(B=!1,R(ee),ee=-1),b=!0;var ge=N;try{for(M(de),A=i(m);A!==null&&(!(A.expirationTime>de)||ne&&!Fe());){var Ye=A.callback;if(typeof Ye=="function"){A.callback=null,N=A.priorityLevel;var ve=Ye(A.expirationTime<=de);de=e.unstable_now(),typeof ve=="function"?A.callback=ve:A===i(m)&&a(m),M(de)}else a(m);A=i(m)}if(A!==null)var un=!0;else{var Ze=i(p);Ze!==null&&pe(j,Ze.startTime-de),un=!1}return un}finally{A=null,N=ge,b=!1}}var J=!1,V=null,ee=-1,G=5,xe=-1;function Fe(){return!(e.unstable_now()-xe<G)}function ue(){if(V!==null){var ne=e.unstable_now();xe=ne;var de=!0;try{de=V(!0,ne)}finally{de?Se():(J=!1,V=null)}}else J=!1}var Se;if(typeof O=="function")Se=function(){O(ue)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,W=ot.port2;ot.port1.onmessage=ue,Se=function(){W.postMessage(null)}}else Se=function(){U(ue,0)};function et(ne){V=ne,J||(J=!0,Se())}function pe(ne,de){ee=U(function(){ne(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){k||b||(k=!0,et($))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(ne){switch(N){case 1:case 2:case 3:var de=3;break;default:de=N}var ge=N;N=de;try{return ne()}finally{N=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=N;N=ne;try{return de()}finally{N=ge}},e.unstable_scheduleCallback=function(ne,de,ge){var Ye=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ye+ge:Ye):ge=Ye,ne){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ge+ve,ne={id:E++,callback:de,priorityLevel:ne,startTime:ge,expirationTime:ve,sortIndex:-1},ge>Ye?(ne.sortIndex=ge,n(p,ne),i(m)===null&&ne===i(p)&&(B?(R(ee),ee=-1):B=!0,pe(j,ge-Ye))):(ne.sortIndex=ve,n(m,ne),k||b||(k=!0,et($))),ne},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(ne){var de=N;return function(){var ge=N;N=de;try{return ne.apply(this,arguments)}finally{N=ge}}}})(Y0);G0.exports=Y0;var dg=G0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=X,an=dg;function Z(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Ls={};function ai(e,n){Ui(e,n),Ui(e+"Capture",n)}function Ui(e,n){for(Ls[e]=n,e=0;e<n.length;e++)X0.add(n[e])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e1={},t1={};function pg(e){return Dl.call(t1,e)?!0:Dl.call(e1,e)?!1:gg.test(e)?t1[e]=!0:(e1[e]=!0,!1)}function xg(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mg(e,n,i,a){if(n===null||typeof n>"u"||xg(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ut(e,n,i,a,u,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];_t[n]=new Ut(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function Lc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(bc,Lc);_t[n]=new Ut(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(bc,Lc);_t[n]=new Ut(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(bc,Lc);_t[n]=new Ut(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function kc(e,n,i,a){var u=_t.hasOwnProperty(n)?_t[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(mg(n,i,u,a)&&(i=null),a||u===null?pg(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var sr=hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ai=Symbol.for("react.fragment"),Bc=Symbol.for("react.strict_mode"),bl=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),Pc=Symbol.for("react.forward_ref"),Ll=Symbol.for("react.suspense"),kl=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),K0=Symbol.for("react.offscreen"),n1=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=n1&&e[n1]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,sl;function Cs(e){if(sl===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);sl=n&&n[1]||""}return`
`+sl+e}var ol=!1;function al(e,n){if(!e||ol)return"";ol=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(p){var a=p}Reflect.construct(e,[],n)}else{try{n.call()}catch(p){a=p}e.call(n.prototype)}else{try{throw Error()}catch(p){a=p}e()}}catch(p){if(p&&a&&typeof p.stack=="string"){for(var u=p.stack.split(`
`),f=a.stack.split(`
`),g=u.length-1,C=f.length-1;1<=g&&0<=C&&u[g]!==f[C];)C--;for(;1<=g&&0<=C;g--,C--)if(u[g]!==f[C]){if(g!==1||C!==1)do if(g--,C--,0>C||u[g]!==f[C]){var m=`
`+u[g].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=g&&0<=C);break}}}finally{ol=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Cs(e):""}function wg(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ai:return"Fragment";case Ei:return"Portal";case bl:return"Profiler";case Bc:return"StrictMode";case Ll:return"Suspense";case kl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z0:return(e.displayName||"Context")+".Consumer";case Q0:return(e._context.displayName||"Context")+".Provider";case Pc:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fc:return n=e.displayName||null,n!==null?n:Bl(e.type)||"Memo";case xr:n=e._payload,e=e._init;try{return Bl(e(n))}catch{}}return null}function yg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(n);case 8:return n===Bc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cg(e){var n=q0(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Co(e){e._valueTracker||(e._valueTracker=Cg(e))}function J0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=q0(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function Xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pl(e,n){var i=n.checked;return $e({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function r1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=Dr(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function $0(e,n){n=n.checked,n!=null&&kc(e,"checked",n,!1)}function Fl(e,n){$0(e,n);var i=Dr(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?jl(e,n.type,i):n.hasOwnProperty("defaultValue")&&jl(e,n.type,Dr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function i1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function jl(e,n,i){(n!=="number"||Xo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Es=Array.isArray;function Li(e,n,i,a){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Dr(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Ul(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Z(91));return $e({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(Z(92));if(Es(i)){if(1<i.length)throw Error(Z(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Dr(i)}}function ef(e,n){var i=Dr(n.value),a=Dr(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function o1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function tf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?tf(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,nf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ks(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eg=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){Eg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Is[n]=Is[e]})});function rf(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Is.hasOwnProperty(e)&&Is[e]?(""+n).trim():n+"px"}function sf(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=rf(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Ag=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(e,n){if(n){if(Ag[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Z(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Z(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Z(62))}}function Vl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,ki=null,Bi=null;function a1(e){if(e=no(e)){if(typeof Gl!="function")throw Error(Z(280));var n=e.stateNode;n&&(n=Na(n),Gl(e.stateNode,e.type,n))}}function of(e){ki?Bi?Bi.push(e):Bi=[e]:ki=e}function af(){if(ki){var e=ki,n=Bi;if(Bi=ki=null,a1(e),n)for(e=0;e<n.length;e++)a1(n[e])}}function lf(e,n){return e(n)}function cf(){}var ll=!1;function uf(e,n,i){if(ll)return e(n,i);ll=!0;try{return lf(e,n,i)}finally{ll=!1,(ki!==null||Bi!==null)&&(cf(),af())}}function Bs(e,n){var i=e.stateNode;if(i===null)return null;var a=Na(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Z(231,n,typeof i));return i}var Yl=!1;if(tr)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Yl=!1}function Sg(e,n,i,a,u,f,g,C,m){var p=Array.prototype.slice.call(arguments,3);try{n.apply(i,p)}catch(E){this.onError(E)}}var Ns=!1,Qo=null,Zo=!1,Xl=null,vg={onError:function(e){Ns=!0,Qo=e}};function Ig(e,n,i,a,u,f,g,C,m){Ns=!1,Qo=null,Sg.apply(vg,arguments)}function Ng(e,n,i,a,u,f,g,C,m){if(Ig.apply(this,arguments),Ns){if(Ns){var p=Qo;Ns=!1,Qo=null}else throw Error(Z(198));Zo||(Zo=!0,Xl=p)}}function li(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function ff(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function l1(e){if(li(e)!==e)throw Error(Z(188))}function Tg(e){var n=e.alternate;if(!n){if(n=li(e),n===null)throw Error(Z(188));return n!==e?null:e}for(var i=e,a=n;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return l1(u),e;if(f===a)return l1(u),n;f=f.sibling}throw Error(Z(188))}if(i.return!==a.return)i=u,a=f;else{for(var g=!1,C=u.child;C;){if(C===i){g=!0,i=u,a=f;break}if(C===a){g=!0,a=u,i=f;break}C=C.sibling}if(!g){for(C=f.child;C;){if(C===i){g=!0,i=f,a=u;break}if(C===a){g=!0,a=f,i=u;break}C=C.sibling}if(!g)throw Error(Z(189))}}if(i.alternate!==a)throw Error(Z(190))}if(i.tag!==3)throw Error(Z(188));return i.stateNode.current===i?e:n}function df(e){return e=Tg(e),e!==null?hf(e):null}function hf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=hf(e);if(n!==null)return n;e=e.sibling}return null}var gf=an.unstable_scheduleCallback,c1=an.unstable_cancelCallback,_g=an.unstable_shouldYield,Mg=an.unstable_requestPaint,lt=an.unstable_now,Og=an.unstable_getCurrentPriorityLevel,Uc=an.unstable_ImmediatePriority,pf=an.unstable_UserBlockingPriority,Ko=an.unstable_NormalPriority,Rg=an.unstable_LowPriority,xf=an.unstable_IdlePriority,Aa=null,Gn=null;function Dg(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Aa,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:kg,bg=Math.log,Lg=Math.LN2;function kg(e){return e>>>=0,e===0?32:31-(bg(e)/Lg|0)|0}var Ao=64,So=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qo(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var C=g&~u;C!==0?a=As(C):(f&=g,f!==0&&(a=As(f)))}else g=i&~u,g!==0?a=As(g):f!==0&&(a=As(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&u)&&(u=a&-a,f=n&-n,u>=f||u===16&&(f&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-On(n),u=1<<i,a|=e[i],n&=~u;return a}function Bg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pg(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-On(f),C=1<<g,m=u[g];m===-1?(!(C&i)||C&a)&&(u[g]=Bg(C,n)):m<=n&&(e.expiredLanes|=C),f&=~C}}function Ql(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mf(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function cl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function eo(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-On(n),e[n]=i}function Fg(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-On(i),f=1<<u;n[u]=0,a[u]=-1,e[u]=-1,i&=~f}}function zc(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-On(i),u=1<<a;u&n|e[a]&n&&(e[a]|=n),i&=~u}}var be=0;function wf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yf,Hc,Cf,Ef,Af,Zl=!1,vo=[],Sr=null,vr=null,Ir=null,Ps=new Map,Fs=new Map,wr=[],jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u1(e,n){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(n.pointerId)}}function gs(e,n,i,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},n!==null&&(n=no(n),n!==null&&Hc(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Ug(e,n,i,a,u){switch(n){case"focusin":return Sr=gs(Sr,e,n,i,a,u),!0;case"dragenter":return vr=gs(vr,e,n,i,a,u),!0;case"mouseover":return Ir=gs(Ir,e,n,i,a,u),!0;case"pointerover":var f=u.pointerId;return Ps.set(f,gs(Ps.get(f)||null,e,n,i,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Fs.set(f,gs(Fs.get(f)||null,e,n,i,a,u)),!0}return!1}function Sf(e){var n=Kr(e.target);if(n!==null){var i=li(n);if(i!==null){if(n=i.tag,n===13){if(n=ff(i),n!==null){e.blockedOn=n,Af(e.priority,function(){Cf(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Kl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Wl=a,i.target.dispatchEvent(a),Wl=null}else return n=no(i),n!==null&&Hc(n),e.blockedOn=i,!1;n.shift()}return!0}function f1(e,n,i){Po(e)&&i.delete(n)}function zg(){Zl=!1,Sr!==null&&Po(Sr)&&(Sr=null),vr!==null&&Po(vr)&&(vr=null),Ir!==null&&Po(Ir)&&(Ir=null),Ps.forEach(f1),Fs.forEach(f1)}function ps(e,n){e.blockedOn===n&&(e.blockedOn=null,Zl||(Zl=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,zg)))}function js(e){function n(u){return ps(u,e)}if(0<vo.length){ps(vo[0],e);for(var i=1;i<vo.length;i++){var a=vo[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Sr!==null&&ps(Sr,e),vr!==null&&ps(vr,e),Ir!==null&&ps(Ir,e),Ps.forEach(n),Fs.forEach(n),i=0;i<wr.length;i++)a=wr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<wr.length&&(i=wr[0],i.blockedOn===null);)Sf(i),i.blockedOn===null&&wr.shift()}var Pi=sr.ReactCurrentBatchConfig,Jo=!0;function Hg(e,n,i,a){var u=be,f=Pi.transition;Pi.transition=null;try{be=1,Vc(e,n,i,a)}finally{be=u,Pi.transition=f}}function Vg(e,n,i,a){var u=be,f=Pi.transition;Pi.transition=null;try{be=4,Vc(e,n,i,a)}finally{be=u,Pi.transition=f}}function Vc(e,n,i,a){if(Jo){var u=Kl(e,n,i,a);if(u===null)yl(e,n,a,$o,i),u1(e,a);else if(Ug(u,e,n,i,a))a.stopPropagation();else if(u1(e,a),n&4&&-1<jg.indexOf(e)){for(;u!==null;){var f=no(u);if(f!==null&&yf(f),f=Kl(e,n,i,a),f===null&&yl(e,n,a,$o,i),f===u)break;u=f}u!==null&&a.stopPropagation()}else yl(e,n,a,null,i)}}var $o=null;function Kl(e,n,i,a){if($o=null,e=jc(a),e=Kr(e),e!==null)if(n=li(e),n===null)e=null;else if(i=n.tag,i===13){if(e=ff(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return $o=e,null}function vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Og()){case Uc:return 1;case pf:return 4;case Ko:case Rg:return 16;case xf:return 536870912;default:return 16}default:return 16}}var Cr=null,Wc=null,Fo=null;function If(){if(Fo)return Fo;var e,n=Wc,i=n.length,a,u="value"in Cr?Cr.value:Cr.textContent,f=u.length;for(e=0;e<i&&n[e]===u[e];e++);var g=i-e;for(a=1;a<=g&&n[i-a]===u[f-a];a++);return Fo=u.slice(e,1<a?1-a:void 0)}function jo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Io(){return!0}function d1(){return!1}function cn(e){function n(i,a,u,f,g){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(f):f[C]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Io:d1,this.isPropagationStopped=d1,this}return $e(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=cn(Qi),to=$e({},Qi,{view:0,detail:0}),Wg=cn(to),ul,fl,xs,Sa=$e({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(ul=e.screenX-xs.screenX,fl=e.screenY-xs.screenY):fl=ul=0,xs=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),h1=cn(Sa),Gg=$e({},Sa,{dataTransfer:0}),Yg=cn(Gg),Xg=$e({},to,{relatedTarget:0}),dl=cn(Xg),Qg=$e({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zg=cn(Qg),Kg=$e({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=cn(Kg),Jg=$e({},Qi,{data:0}),g1=cn(Jg),$g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=t2[e])?!!n[e]:!1}function Yc(){return n2}var r2=$e({},to,{key:function(e){if(e.key){var n=$g[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(e){return e.type==="keypress"?jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i2=cn(r2),s2=$e({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p1=cn(s2),o2=$e({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),a2=cn(o2),l2=$e({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),c2=cn(l2),u2=$e({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f2=cn(u2),d2=[9,13,27,32],Xc=tr&&"CompositionEvent"in window,Ts=null;tr&&"documentMode"in document&&(Ts=document.documentMode);var h2=tr&&"TextEvent"in window&&!Ts,Nf=tr&&(!Xc||Ts&&8<Ts&&11>=Ts),x1=" ",m1=!1;function Tf(e,n){switch(e){case"keyup":return d2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function g2(e,n){switch(e){case"compositionend":return _f(n);case"keypress":return n.which!==32?null:(m1=!0,x1);case"textInput":return e=n.data,e===x1&&m1?null:e;default:return null}}function p2(e,n){if(Si)return e==="compositionend"||!Xc&&Tf(e,n)?(e=If(),Fo=Wc=Cr=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nf&&n.locale!=="ko"?null:n.data;default:return null}}var x2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!x2[e.type]:n==="textarea"}function Mf(e,n,i,a){of(a),n=ea(n,"onChange"),0<n.length&&(i=new Gc("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var _s=null,Us=null;function m2(e){Uf(e,0)}function va(e){var n=Ni(e);if(J0(n))return e}function w2(e,n){if(e==="change")return n}var Of=!1;if(tr){var hl;if(tr){var gl="oninput"in document;if(!gl){var y1=document.createElement("div");y1.setAttribute("oninput","return;"),gl=typeof y1.oninput=="function"}hl=gl}else hl=!1;Of=hl&&(!document.documentMode||9<document.documentMode)}function C1(){_s&&(_s.detachEvent("onpropertychange",Rf),Us=_s=null)}function Rf(e){if(e.propertyName==="value"&&va(Us)){var n=[];Mf(n,Us,e,jc(e)),uf(m2,n)}}function y2(e,n,i){e==="focusin"?(C1(),_s=n,Us=i,_s.attachEvent("onpropertychange",Rf)):e==="focusout"&&C1()}function C2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va(Us)}function E2(e,n){if(e==="click")return va(n)}function A2(e,n){if(e==="input"||e==="change")return va(n)}function S2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:S2;function zs(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!Dl.call(n,u)||!Dn(e[u],n[u]))return!1}return!0}function E1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A1(e,n){var i=E1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=E1(i)}}function Df(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Df(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bf(){for(var e=window,n=Xo();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Xo(e.document)}return n}function Qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function v2(e){var n=bf(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Df(i.ownerDocument.documentElement,i)){if(a!==null&&Qc(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=A1(i,f);var g=A1(i,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I2=tr&&"documentMode"in document&&11>=document.documentMode,vi=null,ql=null,Ms=null,Jl=!1;function S1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Jl||vi==null||vi!==Xo(a)||(a=vi,"selectionStart"in a&&Qc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ms&&zs(Ms,a)||(Ms=a,a=ea(ql,"onSelect"),0<a.length&&(n=new Gc("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=vi)))}function No(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ii={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},pl={},Lf={};tr&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Ia(e){if(pl[e])return pl[e];if(!Ii[e])return e;var n=Ii[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Lf)return pl[e]=n[i];return e}var kf=Ia("animationend"),Bf=Ia("animationiteration"),Pf=Ia("animationstart"),Ff=Ia("transitionend"),jf=new Map,v1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,n){jf.set(e,n),ai(n,[e])}for(var xl=0;xl<v1.length;xl++){var ml=v1[xl],N2=ml.toLowerCase(),T2=ml[0].toUpperCase()+ml.slice(1);kr(N2,"on"+T2)}kr(kf,"onAnimationEnd");kr(Bf,"onAnimationIteration");kr(Pf,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Ff,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function I1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Ng(a,n,void 0,e),e.currentTarget=null}function Uf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var g=a.length-1;0<=g;g--){var C=a[g],m=C.instance,p=C.currentTarget;if(C=C.listener,m!==f&&u.isPropagationStopped())break e;I1(u,C,p),f=m}else for(g=0;g<a.length;g++){if(C=a[g],m=C.instance,p=C.currentTarget,C=C.listener,m!==f&&u.isPropagationStopped())break e;I1(u,C,p),f=m}}}if(Zo)throw e=Xl,Zo=!1,Xl=null,e}function Ve(e,n){var i=n[rc];i===void 0&&(i=n[rc]=new Set);var a=e+"__bubble";i.has(a)||(zf(n,e,2,!1),i.add(a))}function wl(e,n,i){var a=0;n&&(a|=4),zf(i,e,a,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[To]){e[To]=!0,X0.forEach(function(i){i!=="selectionchange"&&(_2.has(i)||wl(i,!1,e),wl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[To]||(n[To]=!0,wl("selectionchange",!1,n))}}function zf(e,n,i,a){switch(vf(n)){case 1:var u=Hg;break;case 4:u=Vg;break;default:u=Vc}i=u.bind(null,n,i,e),u=void 0,!Yl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function yl(e,n,i,a,u){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var C=a.stateNode.containerInfo;if(C===u||C.nodeType===8&&C.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var m=g.tag;if((m===3||m===4)&&(m=g.stateNode.containerInfo,m===u||m.nodeType===8&&m.parentNode===u))return;g=g.return}for(;C!==null;){if(g=Kr(C),g===null)return;if(m=g.tag,m===5||m===6){a=f=g;continue e}C=C.parentNode}}a=a.return}uf(function(){var p=f,E=jc(i),A=[];e:{var N=jf.get(e);if(N!==void 0){var b=Gc,k=e;switch(e){case"keypress":if(jo(i)===0)break e;case"keydown":case"keyup":b=i2;break;case"focusin":k="focus",b=dl;break;case"focusout":k="blur",b=dl;break;case"beforeblur":case"afterblur":b=dl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=h1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=a2;break;case kf:case Bf:case Pf:b=Zg;break;case Ff:b=c2;break;case"scroll":b=Wg;break;case"wheel":b=f2;break;case"copy":case"cut":case"paste":b=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=p1}var B=(n&4)!==0,U=!B&&e==="scroll",R=B?N!==null?N+"Capture":null:N;B=[];for(var O=p,M;O!==null;){M=O;var j=M.stateNode;if(M.tag===5&&j!==null&&(M=j,R!==null&&(j=Bs(O,R),j!=null&&B.push(Vs(O,j,M)))),U)break;O=O.return}0<B.length&&(N=new b(N,k,null,i,E),A.push({event:N,listeners:B}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",N&&i!==Wl&&(k=i.relatedTarget||i.fromElement)&&(Kr(k)||k[nr]))break e;if((b||N)&&(N=E.window===E?E:(N=E.ownerDocument)?N.defaultView||N.parentWindow:window,b?(k=i.relatedTarget||i.toElement,b=p,k=k?Kr(k):null,k!==null&&(U=li(k),k!==U||k.tag!==5&&k.tag!==6)&&(k=null)):(b=null,k=p),b!==k)){if(B=h1,j="onMouseLeave",R="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(B=p1,j="onPointerLeave",R="onPointerEnter",O="pointer"),U=b==null?N:Ni(b),M=k==null?N:Ni(k),N=new B(j,O+"leave",b,i,E),N.target=U,N.relatedTarget=M,j=null,Kr(E)===p&&(B=new B(R,O+"enter",k,i,E),B.target=M,B.relatedTarget=U,j=B),U=j,b&&k)t:{for(B=b,R=k,O=0,M=B;M;M=yi(M))O++;for(M=0,j=R;j;j=yi(j))M++;for(;0<O-M;)B=yi(B),O--;for(;0<M-O;)R=yi(R),M--;for(;O--;){if(B===R||R!==null&&B===R.alternate)break t;B=yi(B),R=yi(R)}B=null}else B=null;b!==null&&N1(A,N,b,B,!1),k!==null&&U!==null&&N1(A,U,k,B,!0)}}e:{if(N=p?Ni(p):window,b=N.nodeName&&N.nodeName.toLowerCase(),b==="select"||b==="input"&&N.type==="file")var $=w2;else if(w1(N))if(Of)$=A2;else{$=C2;var J=y2}else(b=N.nodeName)&&b.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&($=E2);if($&&($=$(e,p))){Mf(A,$,i,E);break e}J&&J(e,N,p),e==="focusout"&&(J=N._wrapperState)&&J.controlled&&N.type==="number"&&jl(N,"number",N.value)}switch(J=p?Ni(p):window,e){case"focusin":(w1(J)||J.contentEditable==="true")&&(vi=J,ql=p,Ms=null);break;case"focusout":Ms=ql=vi=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,S1(A,i,E);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":S1(A,i,E)}var V;if(Xc)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Si?Tf(e,i)&&(ee="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ee="onCompositionStart");ee&&(Nf&&i.locale!=="ko"&&(Si||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Si&&(V=If()):(Cr=E,Wc="value"in Cr?Cr.value:Cr.textContent,Si=!0)),J=ea(p,ee),0<J.length&&(ee=new g1(ee,e,null,i,E),A.push({event:ee,listeners:J}),V?ee.data=V:(V=_f(i),V!==null&&(ee.data=V)))),(V=h2?g2(e,i):p2(e,i))&&(p=ea(p,"onBeforeInput"),0<p.length&&(E=new g1("onBeforeInput","beforeinput",null,i,E),A.push({event:E,listeners:p}),E.data=V))}Uf(A,n)})}function Vs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function ea(e,n){for(var i=n+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Bs(e,i),f!=null&&a.unshift(Vs(e,f,u)),f=Bs(e,n),f!=null&&a.push(Vs(e,f,u))),e=e.return}return a}function yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function N1(e,n,i,a,u){for(var f=n._reactName,g=[];i!==null&&i!==a;){var C=i,m=C.alternate,p=C.stateNode;if(m!==null&&m===a)break;C.tag===5&&p!==null&&(C=p,u?(m=Bs(i,f),m!=null&&g.unshift(Vs(i,m,C))):u||(m=Bs(i,f),m!=null&&g.push(Vs(i,m,C)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var M2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function T1(e){return(typeof e=="string"?e:""+e).replace(M2,`
`).replace(O2,"")}function _o(e,n,i){if(n=T1(n),T1(e)!==n&&i)throw Error(Z(425))}function ta(){}var $l=null,ec=null;function tc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,D2=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(e){return _1.resolve(null).then(e).catch(b2)}:nc;function b2(e){setTimeout(function(){throw e})}function Cl(e,n){var i=n,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),js(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);js(n)}function Nr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function M1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Zi,Ws="__reactProps$"+Zi,nr="__reactContainer$"+Zi,rc="__reactEvents$"+Zi,L2="__reactListeners$"+Zi,k2="__reactHandles$"+Zi;function Kr(e){var n=e[Wn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[nr]||i[Wn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=M1(e);e!==null;){if(i=e[Wn])return i;e=M1(e)}return n}e=i,i=e.parentNode}return null}function no(e){return e=e[Wn]||e[nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Na(e){return e[Ws]||null}var ic=[],Ti=-1;function Br(e){return{current:e}}function Ge(e){0>Ti||(e.current=ic[Ti],ic[Ti]=null,Ti--)}function ze(e,n){Ti++,ic[Ti]=e.current,e.current=n}var br={},Lt=Br(br),Zt=Br(!1),ti=br;function zi(e,n){var i=e.type.contextTypes;if(!i)return br;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in i)u[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Kt(e){return e=e.childContextTypes,e!=null}function na(){Ge(Zt),Ge(Lt)}function O1(e,n,i){if(Lt.current!==br)throw Error(Z(168));ze(Lt,n),ze(Zt,i)}function Hf(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(Z(108,yg(e)||"Unknown",u));return $e({},i,a)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,ti=Lt.current,ze(Lt,e),ze(Zt,Zt.current),!0}function R1(e,n,i){var a=e.stateNode;if(!a)throw Error(Z(169));i?(e=Hf(e,n,ti),a.__reactInternalMemoizedMergedChildContext=e,Ge(Zt),Ge(Lt),ze(Lt,e)):Ge(Zt),ze(Zt,i)}var Kn=null,Ta=!1,El=!1;function Vf(e){Kn===null?Kn=[e]:Kn.push(e)}function B2(e){Ta=!0,Vf(e)}function Pr(){if(!El&&Kn!==null){El=!0;var e=0,n=be;try{var i=Kn;for(be=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Kn=null,Ta=!1}catch(u){throw Kn!==null&&(Kn=Kn.slice(e+1)),gf(Uc,Pr),u}finally{be=n,El=!1}}return null}var _i=[],Mi=0,ia=null,sa=0,pn=[],xn=0,ni=null,qn=1,Jn="";function Qr(e,n){_i[Mi++]=sa,_i[Mi++]=ia,ia=e,sa=n}function Wf(e,n,i){pn[xn++]=qn,pn[xn++]=Jn,pn[xn++]=ni,ni=e;var a=qn;e=Jn;var u=32-On(a)-1;a&=~(1<<u),i+=1;var f=32-On(n)+u;if(30<f){var g=u-u%5;f=(a&(1<<g)-1).toString(32),a>>=g,u-=g,qn=1<<32-On(n)+u|i<<u|a,Jn=f+e}else qn=1<<f|i<<u|a,Jn=e}function Zc(e){e.return!==null&&(Qr(e,1),Wf(e,1,0))}function Kc(e){for(;e===ia;)ia=_i[--Mi],_i[Mi]=null,sa=_i[--Mi],_i[Mi]=null;for(;e===ni;)ni=pn[--xn],pn[xn]=null,Jn=pn[--xn],pn[xn]=null,qn=pn[--xn],pn[xn]=null}var on=null,sn=null,Qe=!1,Mn=null;function Gf(e,n){var i=mn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function D1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,on=e,sn=Nr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,on=e,sn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ni!==null?{id:qn,overflow:Jn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=mn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,on=e,sn=null,!0):!1;default:return!1}}function sc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oc(e){if(Qe){var n=sn;if(n){var i=n;if(!D1(e,n)){if(sc(e))throw Error(Z(418));n=Nr(i.nextSibling);var a=on;n&&D1(e,n)?Gf(a,i):(e.flags=e.flags&-4097|2,Qe=!1,on=e)}}else{if(sc(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Qe=!1,on=e}}}function b1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function Mo(e){if(e!==on)return!1;if(!Qe)return b1(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!tc(e.type,e.memoizedProps)),n&&(n=sn)){if(sc(e))throw Yf(),Error(Z(418));for(;n;)Gf(e,n),n=Nr(n.nextSibling)}if(b1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){sn=Nr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}sn=null}}else sn=on?Nr(e.stateNode.nextSibling):null;return!0}function Yf(){for(var e=sn;e;)e=Nr(e.nextSibling)}function Hi(){sn=on=null,Qe=!1}function qc(e){Mn===null?Mn=[e]:Mn.push(e)}var P2=sr.ReactCurrentBatchConfig;function ms(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Z(309));var a=i.stateNode}if(!a)throw Error(Z(147,e));var u=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var C=u.refs;g===null?delete C[f]:C[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(Z(284));if(!i._owner)throw Error(Z(290,e))}return e}function Oo(e,n){throw e=Object.prototype.toString.call(n),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function L1(e){var n=e._init;return n(e._payload)}function Xf(e){function n(R,O){if(e){var M=R.deletions;M===null?(R.deletions=[O],R.flags|=16):M.push(O)}}function i(R,O){if(!e)return null;for(;O!==null;)n(R,O),O=O.sibling;return null}function a(R,O){for(R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function u(R,O){return R=Or(R,O),R.index=0,R.sibling=null,R}function f(R,O,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<O?(R.flags|=2,O):M):(R.flags|=2,O)):(R.flags|=1048576,O)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function C(R,O,M,j){return O===null||O.tag!==6?(O=_l(M,R.mode,j),O.return=R,O):(O=u(O,M),O.return=R,O)}function m(R,O,M,j){var $=M.type;return $===Ai?E(R,O,M.props.children,j,M.key):O!==null&&(O.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===xr&&L1($)===O.type)?(j=u(O,M.props),j.ref=ms(R,O,M),j.return=R,j):(j=Yo(M.type,M.key,M.props,null,R.mode,j),j.ref=ms(R,O,M),j.return=R,j)}function p(R,O,M,j){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=Ml(M,R.mode,j),O.return=R,O):(O=u(O,M.children||[]),O.return=R,O)}function E(R,O,M,j,$){return O===null||O.tag!==7?(O=ei(M,R.mode,j,$),O.return=R,O):(O=u(O,M),O.return=R,O)}function A(R,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return O=_l(""+O,R.mode,M),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case yo:return M=Yo(O.type,O.key,O.props,null,R.mode,M),M.ref=ms(R,null,O),M.return=R,M;case Ei:return O=Ml(O,R.mode,M),O.return=R,O;case xr:var j=O._init;return A(R,j(O._payload),M)}if(Es(O)||ds(O))return O=ei(O,R.mode,M,null),O.return=R,O;Oo(R,O)}return null}function N(R,O,M,j){var $=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return $!==null?null:C(R,O,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case yo:return M.key===$?m(R,O,M,j):null;case Ei:return M.key===$?p(R,O,M,j):null;case xr:return $=M._init,N(R,O,$(M._payload),j)}if(Es(M)||ds(M))return $!==null?null:E(R,O,M,j,null);Oo(R,M)}return null}function b(R,O,M,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return R=R.get(M)||null,C(O,R,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yo:return R=R.get(j.key===null?M:j.key)||null,m(O,R,j,$);case Ei:return R=R.get(j.key===null?M:j.key)||null,p(O,R,j,$);case xr:var J=j._init;return b(R,O,M,J(j._payload),$)}if(Es(j)||ds(j))return R=R.get(M)||null,E(O,R,j,$,null);Oo(O,j)}return null}function k(R,O,M,j){for(var $=null,J=null,V=O,ee=O=0,G=null;V!==null&&ee<M.length;ee++){V.index>ee?(G=V,V=null):G=V.sibling;var xe=N(R,V,M[ee],j);if(xe===null){V===null&&(V=G);break}e&&V&&xe.alternate===null&&n(R,V),O=f(xe,O,ee),J===null?$=xe:J.sibling=xe,J=xe,V=G}if(ee===M.length)return i(R,V),Qe&&Qr(R,ee),$;if(V===null){for(;ee<M.length;ee++)V=A(R,M[ee],j),V!==null&&(O=f(V,O,ee),J===null?$=V:J.sibling=V,J=V);return Qe&&Qr(R,ee),$}for(V=a(R,V);ee<M.length;ee++)G=b(V,R,ee,M[ee],j),G!==null&&(e&&G.alternate!==null&&V.delete(G.key===null?ee:G.key),O=f(G,O,ee),J===null?$=G:J.sibling=G,J=G);return e&&V.forEach(function(Fe){return n(R,Fe)}),Qe&&Qr(R,ee),$}function B(R,O,M,j){var $=ds(M);if(typeof $!="function")throw Error(Z(150));if(M=$.call(M),M==null)throw Error(Z(151));for(var J=$=null,V=O,ee=O=0,G=null,xe=M.next();V!==null&&!xe.done;ee++,xe=M.next()){V.index>ee?(G=V,V=null):G=V.sibling;var Fe=N(R,V,xe.value,j);if(Fe===null){V===null&&(V=G);break}e&&V&&Fe.alternate===null&&n(R,V),O=f(Fe,O,ee),J===null?$=Fe:J.sibling=Fe,J=Fe,V=G}if(xe.done)return i(R,V),Qe&&Qr(R,ee),$;if(V===null){for(;!xe.done;ee++,xe=M.next())xe=A(R,xe.value,j),xe!==null&&(O=f(xe,O,ee),J===null?$=xe:J.sibling=xe,J=xe);return Qe&&Qr(R,ee),$}for(V=a(R,V);!xe.done;ee++,xe=M.next())xe=b(V,R,ee,xe.value,j),xe!==null&&(e&&xe.alternate!==null&&V.delete(xe.key===null?ee:xe.key),O=f(xe,O,ee),J===null?$=xe:J.sibling=xe,J=xe);return e&&V.forEach(function(ue){return n(R,ue)}),Qe&&Qr(R,ee),$}function U(R,O,M,j){if(typeof M=="object"&&M!==null&&M.type===Ai&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case yo:e:{for(var $=M.key,J=O;J!==null;){if(J.key===$){if($=M.type,$===Ai){if(J.tag===7){i(R,J.sibling),O=u(J,M.props.children),O.return=R,R=O;break e}}else if(J.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===xr&&L1($)===J.type){i(R,J.sibling),O=u(J,M.props),O.ref=ms(R,J,M),O.return=R,R=O;break e}i(R,J);break}else n(R,J);J=J.sibling}M.type===Ai?(O=ei(M.props.children,R.mode,j,M.key),O.return=R,R=O):(j=Yo(M.type,M.key,M.props,null,R.mode,j),j.ref=ms(R,O,M),j.return=R,R=j)}return g(R);case Ei:e:{for(J=M.key;O!==null;){if(O.key===J)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){i(R,O.sibling),O=u(O,M.children||[]),O.return=R,R=O;break e}else{i(R,O);break}else n(R,O);O=O.sibling}O=Ml(M,R.mode,j),O.return=R,R=O}return g(R);case xr:return J=M._init,U(R,O,J(M._payload),j)}if(Es(M))return k(R,O,M,j);if(ds(M))return B(R,O,M,j);Oo(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,O!==null&&O.tag===6?(i(R,O.sibling),O=u(O,M),O.return=R,R=O):(i(R,O),O=_l(M,R.mode,j),O.return=R,R=O),g(R)):i(R,O)}return U}var Vi=Xf(!0),Qf=Xf(!1),oa=Br(null),aa=null,Oi=null,Jc=null;function $c(){Jc=Oi=aa=null}function eu(e){var n=oa.current;Ge(oa),e._currentValue=n}function ac(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function Fi(e,n){aa=e,Jc=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Qt=!0),e.firstContext=null)}function yn(e){var n=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:n,next:null},Oi===null){if(aa===null)throw Error(Z(308));Oi=e,aa.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return n}var qr=null;function tu(e){qr===null?qr=[e]:qr.push(e)}function Zf(e,n,i,a){var u=n.interleaved;return u===null?(i.next=i,tu(n)):(i.next=u.next,u.next=i),n.interleaved=i,rr(e,a)}function rr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var mr=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Te&2){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,rr(e,i)}return u=a.interleaved,u===null?(n.next=n,tu(a)):(n.next=u.next,u.next=n),a.interleaved=n,rr(e,i)}function Uo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,zc(e,i)}}function k1(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?u=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?u=f=n:f=f.next=n}else u=f=n;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function la(e,n,i,a){var u=e.updateQueue;mr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var m=C,p=m.next;m.next=null,g===null?f=p:g.next=p,g=m;var E=e.alternate;E!==null&&(E=E.updateQueue,C=E.lastBaseUpdate,C!==g&&(C===null?E.firstBaseUpdate=p:C.next=p,E.lastBaseUpdate=m))}if(f!==null){var A=u.baseState;g=0,E=p=m=null,C=f;do{var N=C.lane,b=C.eventTime;if((a&N)===N){E!==null&&(E=E.next={eventTime:b,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var k=e,B=C;switch(N=n,b=i,B.tag){case 1:if(k=B.payload,typeof k=="function"){A=k.call(b,A,N);break e}A=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=B.payload,N=typeof k=="function"?k.call(b,A,N):k,N==null)break e;A=$e({},A,N);break e;case 2:mr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[C]:N.push(C))}else b={eventTime:b,lane:N,tag:C.tag,payload:C.payload,callback:C.callback,next:null},E===null?(p=E=b,m=A):E=E.next=b,g|=N;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;N=C,C=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(E===null&&(m=A),u.baseState=m,u.firstBaseUpdate=p,u.lastBaseUpdate=E,n=u.shared.interleaved,n!==null){u=n;do g|=u.lane,u=u.next;while(u!==n)}else f===null&&(u.shared.lanes=0);ii|=g,e.lanes=g,e.memoizedState=A}}function B1(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(Z(191,u));u.call(a)}}}var ro={},Yn=Br(ro),Gs=Br(ro),Ys=Br(ro);function Jr(e){if(e===ro)throw Error(Z(174));return e}function ru(e,n){switch(ze(Ys,n),ze(Gs,e),ze(Yn,ro),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:zl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=zl(n,e)}Ge(Yn),ze(Yn,n)}function Wi(){Ge(Yn),Ge(Gs),Ge(Ys)}function qf(e){Jr(Ys.current);var n=Jr(Yn.current),i=zl(n,e.type);n!==i&&(ze(Gs,e),ze(Yn,i))}function iu(e){Gs.current===e&&(Ge(Yn),Ge(Gs))}var qe=Br(0);function ca(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Al=[];function su(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var zo=sr.ReactCurrentDispatcher,Sl=sr.ReactCurrentBatchConfig,ri=0,Je=null,pt=null,Ct=null,ua=!1,Os=!1,Xs=0,F2=0;function Rt(){throw Error(Z(321))}function ou(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Dn(e[i],n[i]))return!1;return!0}function au(e,n,i,a,u,f){if(ri=f,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zo.current=e===null||e.memoizedState===null?H2:V2,e=i(a,u),Os){f=0;do{if(Os=!1,Xs=0,25<=f)throw Error(Z(301));f+=1,Ct=pt=null,n.updateQueue=null,zo.current=W2,e=i(a,u)}while(Os)}if(zo.current=fa,n=pt!==null&&pt.next!==null,ri=0,Ct=pt=Je=null,ua=!1,n)throw Error(Z(300));return e}function lu(){var e=Xs!==0;return Xs=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Je.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Cn(){if(pt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var n=Ct===null?Je.memoizedState:Ct.next;if(n!==null)Ct=n,pt=e;else{if(e===null)throw Error(Z(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ct===null?Je.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Qs(e,n){return typeof n=="function"?n(e):n}function vl(e){var n=Cn(),i=n.queue;if(i===null)throw Error(Z(311));i.lastRenderedReducer=e;var a=pt,u=a.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}a.baseQueue=u=f,i.pending=null}if(u!==null){f=u.next,a=a.baseState;var C=g=null,m=null,p=f;do{var E=p.lane;if((ri&E)===E)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),a=p.hasEagerState?p.eagerState:e(a,p.action);else{var A={lane:E,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(C=m=A,g=a):m=m.next=A,Je.lanes|=E,ii|=E}p=p.next}while(p!==null&&p!==f);m===null?g=a:m.next=C,Dn(a,n.memoizedState)||(Qt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=m,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do f=u.lane,Je.lanes|=f,ii|=f,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Il(e){var n=Cn(),i=n.queue;if(i===null)throw Error(Z(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,f=n.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Dn(f,n.memoizedState)||(Qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function Jf(){}function $f(e,n){var i=Je,a=Cn(),u=n(),f=!Dn(a.memoizedState,u);if(f&&(a.memoizedState=u,Qt=!0),a=a.queue,cu(nd.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,Zs(9,td.bind(null,i,a,u,n),void 0,null),Et===null)throw Error(Z(349));ri&30||ed(i,n,u)}return u}function ed(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function td(e,n,i,a){n.value=i,n.getSnapshot=a,rd(n)&&id(e)}function nd(e,n,i){return i(function(){rd(n)&&id(e)})}function rd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Dn(e,i)}catch{return!0}}function id(e){var n=rr(e,1);n!==null&&Rn(n,e,1,-1)}function P1(e){var n=Hn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},n.queue=e,e=e.dispatch=z2.bind(null,Je,e),[n.memoizedState,e]}function Zs(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function sd(){return Cn().memoizedState}function Ho(e,n,i,a){var u=Hn();Je.flags|=e,u.memoizedState=Zs(1|n,i,void 0,a===void 0?null:a)}function _a(e,n,i,a){var u=Cn();a=a===void 0?null:a;var f=void 0;if(pt!==null){var g=pt.memoizedState;if(f=g.destroy,a!==null&&ou(a,g.deps)){u.memoizedState=Zs(n,i,f,a);return}}Je.flags|=e,u.memoizedState=Zs(1|n,i,f,a)}function F1(e,n){return Ho(8390656,8,e,n)}function cu(e,n){return _a(2048,8,e,n)}function od(e,n){return _a(4,2,e,n)}function ad(e,n){return _a(4,4,e,n)}function ld(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cd(e,n,i){return i=i!=null?i.concat([e]):null,_a(4,4,ld.bind(null,n,e),i)}function uu(){}function ud(e,n){var i=Cn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&ou(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function fd(e,n){var i=Cn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&ou(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function dd(e,n,i){return ri&21?(Dn(i,n)||(i=mf(),Je.lanes|=i,ii|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=i)}function j2(e,n){var i=be;be=i!==0&&4>i?i:4,e(!0);var a=Sl.transition;Sl.transition={};try{e(!1),n()}finally{be=i,Sl.transition=a}}function hd(){return Cn().memoizedState}function U2(e,n,i){var a=Mr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},gd(e))pd(n,i);else if(i=Zf(e,n,i,a),i!==null){var u=Ft();Rn(i,e,a,u),xd(i,n,a)}}function z2(e,n,i){var a=Mr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(gd(e))pd(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,C=f(g,i);if(u.hasEagerState=!0,u.eagerState=C,Dn(C,g)){var m=n.interleaved;m===null?(u.next=u,tu(n)):(u.next=m.next,m.next=u),n.interleaved=u;return}}catch{}finally{}i=Zf(e,n,u,a),i!==null&&(u=Ft(),Rn(i,e,a,u),xd(i,n,a))}}function gd(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function pd(e,n){Os=ua=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function xd(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,zc(e,i)}}var fa={readContext:yn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},H2={readContext:yn,useCallback:function(e,n){return Hn().memoizedState=[e,n===void 0?null:n],e},useContext:yn,useEffect:F1,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ho(4194308,4,ld.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ho(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ho(4,2,e,n)},useMemo:function(e,n){var i=Hn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Hn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=U2.bind(null,Je,e),[a.memoizedState,e]},useRef:function(e){var n=Hn();return e={current:e},n.memoizedState=e},useState:P1,useDebugValue:uu,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=P1(!1),n=e[0];return e=j2.bind(null,e[1]),Hn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=Je,u=Hn();if(Qe){if(i===void 0)throw Error(Z(407));i=i()}else{if(i=n(),Et===null)throw Error(Z(349));ri&30||ed(a,n,i)}u.memoizedState=i;var f={value:i,getSnapshot:n};return u.queue=f,F1(nd.bind(null,a,f,e),[e]),a.flags|=2048,Zs(9,td.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=Hn(),n=Et.identifierPrefix;if(Qe){var i=Jn,a=qn;i=(a&~(1<<32-On(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Xs++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=F2++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},V2={readContext:yn,useCallback:ud,useContext:yn,useEffect:cu,useImperativeHandle:cd,useInsertionEffect:od,useLayoutEffect:ad,useMemo:fd,useReducer:vl,useRef:sd,useState:function(){return vl(Qs)},useDebugValue:uu,useDeferredValue:function(e){var n=Cn();return dd(n,pt.memoizedState,e)},useTransition:function(){var e=vl(Qs)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:Jf,useSyncExternalStore:$f,useId:hd,unstable_isNewReconciler:!1},W2={readContext:yn,useCallback:ud,useContext:yn,useEffect:cu,useImperativeHandle:cd,useInsertionEffect:od,useLayoutEffect:ad,useMemo:fd,useReducer:Il,useRef:sd,useState:function(){return Il(Qs)},useDebugValue:uu,useDeferredValue:function(e){var n=Cn();return pt===null?n.memoizedState=e:dd(n,pt.memoizedState,e)},useTransition:function(){var e=Il(Qs)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:Jf,useSyncExternalStore:$f,useId:hd,unstable_isNewReconciler:!1};function Nn(e,n){if(e&&e.defaultProps){n=$e({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function lc(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:$e({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ma={isMounted:function(e){return(e=e._reactInternals)?li(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Ft(),u=Mr(e),f=er(a,u);f.payload=n,i!=null&&(f.callback=i),n=Tr(e,f,u),n!==null&&(Rn(n,e,u,a),Uo(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Ft(),u=Mr(e),f=er(a,u);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Tr(e,f,u),n!==null&&(Rn(n,e,u,a),Uo(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),a=Mr(e),u=er(i,a);u.tag=2,n!=null&&(u.callback=n),n=Tr(e,u,a),n!==null&&(Rn(n,e,a,i),Uo(n,e,a))}};function j1(e,n,i,a,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):n.prototype&&n.prototype.isPureReactComponent?!zs(i,a)||!zs(u,f):!0}function md(e,n,i){var a=!1,u=br,f=n.contextType;return typeof f=="object"&&f!==null?f=yn(f):(u=Kt(n)?ti:Lt.current,a=n.contextTypes,f=(a=a!=null)?zi(e,u):br),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ma,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),n}function U1(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Ma.enqueueReplaceState(n,n.state,null)}function cc(e,n,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},nu(e);var f=n.contextType;typeof f=="object"&&f!==null?u.context=yn(f):(f=Kt(n)?ti:Lt.current,u.context=zi(e,f)),u.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(lc(e,n,f,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ma.enqueueReplaceState(u,u.state,null),la(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,n){try{var i="",a=n;do i+=wg(a),a=a.return;while(a);var u=i}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:u,digest:null}}function Nl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function uc(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var G2=typeof WeakMap=="function"?WeakMap:Map;function wd(e,n,i){i=er(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){ha||(ha=!0,Cc=a),uc(e,n)},i}function yd(e,n,i){i=er(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;i.payload=function(){return a(u)},i.callback=function(){uc(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){uc(e,n),typeof a!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function z1(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new G2;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(i)||(u.add(i),e=sp.bind(null,e,n,i),n.then(e,e))}function H1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function V1(e,n,i,a,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=er(-1,1),n.tag=2,Tr(i,n,1))),i.lanes|=1),e)}var Y2=sr.ReactCurrentOwner,Qt=!1;function Pt(e,n,i,a){n.child=e===null?Qf(n,null,i,a):Vi(n,e.child,i,a)}function W1(e,n,i,a,u){i=i.render;var f=n.ref;return Fi(n,u),a=au(e,n,i,a,f,u),i=lu(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,ir(e,n,u)):(Qe&&i&&Zc(n),n.flags|=1,Pt(e,n,a,u),n.child)}function G1(e,n,i,a,u){if(e===null){var f=i.type;return typeof f=="function"&&!wu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Cd(e,n,f,a,u)):(e=Yo(i.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&u)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:zs,i(g,a)&&e.ref===n.ref)return ir(e,n,u)}return n.flags|=1,e=Or(f,a),e.ref=n.ref,e.return=n,n.child=e}function Cd(e,n,i,a,u){if(e!==null){var f=e.memoizedProps;if(zs(f,a)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=a=f,(e.lanes&u)!==0)e.flags&131072&&(Qt=!0);else return n.lanes=e.lanes,ir(e,n,u)}return fc(e,n,i,a,u)}function Ed(e,n,i){var a=n.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Di,nn),nn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ze(Di,nn),nn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,ze(Di,nn),nn|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,ze(Di,nn),nn|=a;return Pt(e,n,u,i),n.child}function Ad(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function fc(e,n,i,a,u){var f=Kt(i)?ti:Lt.current;return f=zi(n,f),Fi(n,u),i=au(e,n,i,a,f,u),a=lu(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,ir(e,n,u)):(Qe&&a&&Zc(n),n.flags|=1,Pt(e,n,i,u),n.child)}function Y1(e,n,i,a,u){if(Kt(i)){var f=!0;ra(n)}else f=!1;if(Fi(n,u),n.stateNode===null)Vo(e,n),md(n,i,a),cc(n,i,a,u),a=!0;else if(e===null){var g=n.stateNode,C=n.memoizedProps;g.props=C;var m=g.context,p=i.contextType;typeof p=="object"&&p!==null?p=yn(p):(p=Kt(i)?ti:Lt.current,p=zi(n,p));var E=i.getDerivedStateFromProps,A=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function";A||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==a||m!==p)&&U1(n,g,a,p),mr=!1;var N=n.memoizedState;g.state=N,la(n,a,g,u),m=n.memoizedState,C!==a||N!==m||Zt.current||mr?(typeof E=="function"&&(lc(n,i,E,a),m=n.memoizedState),(C=mr||j1(n,i,C,a,N,m,p))?(A||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=m),g.props=a,g.state=m,g.context=p,a=C):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,Kf(e,n),C=n.memoizedProps,p=n.type===n.elementType?C:Nn(n.type,C),g.props=p,A=n.pendingProps,N=g.context,m=i.contextType,typeof m=="object"&&m!==null?m=yn(m):(m=Kt(i)?ti:Lt.current,m=zi(n,m));var b=i.getDerivedStateFromProps;(E=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==A||N!==m)&&U1(n,g,a,m),mr=!1,N=n.memoizedState,g.state=N,la(n,a,g,u);var k=n.memoizedState;C!==A||N!==k||Zt.current||mr?(typeof b=="function"&&(lc(n,i,b,a),k=n.memoizedState),(p=mr||j1(n,i,p,a,N,k,m)||!1)?(E||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,k,m),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,k,m)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=k),g.props=a,g.state=k,g.context=m,a=p):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),a=!1)}return dc(e,n,i,a,f,u)}function dc(e,n,i,a,u,f){Ad(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return u&&R1(n,i,!1),ir(e,n,f);a=n.stateNode,Y2.current=n;var C=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=Vi(n,e.child,null,f),n.child=Vi(n,null,C,f)):Pt(e,n,C,f),n.memoizedState=a.state,u&&R1(n,i,!0),n.child}function Sd(e){var n=e.stateNode;n.pendingContext?O1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&O1(e,n.context,!1),ru(e,n.containerInfo)}function X1(e,n,i,a,u){return Hi(),qc(u),n.flags|=256,Pt(e,n,i,a),n.child}var hc={dehydrated:null,treeContext:null,retryLane:0};function gc(e){return{baseLanes:e,cachePool:null,transitions:null}}function vd(e,n,i){var a=n.pendingProps,u=qe.current,f=!1,g=(n.flags&128)!==0,C;if((C=g)||(C=e!==null&&e.memoizedState===null?!1:(u&2)!==0),C?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ze(qe,u&1),e===null)return oc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(g=a.children,e=a.fallback,f?(a=n.mode,f=n.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Da(g,a,0,null),e=ei(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=gc(i),n.memoizedState=hc,e):fu(n,g));if(u=e.memoizedState,u!==null&&(C=u.dehydrated,C!==null))return X2(e,n,g,a,C,u,i);if(f){f=a.fallback,g=n.mode,u=e.child,C=u.sibling;var m={mode:"hidden",children:a.children};return!(g&1)&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=m,n.deletions=null):(a=Or(u,m),a.subtreeFlags=u.subtreeFlags&14680064),C!==null?f=Or(C,f):(f=ei(f,g,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,g=e.child.memoizedState,g=g===null?gc(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=hc,a}return f=e.child,e=f.sibling,a=Or(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function fu(e,n){return n=Da({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ro(e,n,i,a){return a!==null&&qc(a),Vi(n,e.child,null,i),e=fu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function X2(e,n,i,a,u,f,g){if(i)return n.flags&256?(n.flags&=-257,a=Nl(Error(Z(422))),Ro(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,u=n.mode,a=Da({mode:"visible",children:a.children},u,0,null),f=ei(f,u,g,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Vi(n,e.child,null,g),n.child.memoizedState=gc(g),n.memoizedState=hc,f);if(!(n.mode&1))return Ro(e,n,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var C=a.dgst;return a=C,f=Error(Z(419)),a=Nl(f,a,void 0),Ro(e,n,g,a)}if(C=(g&e.childLanes)!==0,Qt||C){if(a=Et,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(a.suspendedLanes|g)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,rr(e,u),Rn(a,e,u,-1))}return mu(),a=Nl(Error(Z(421))),Ro(e,n,g,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=op.bind(null,e),u._reactRetry=n,null):(e=f.treeContext,sn=Nr(u.nextSibling),on=n,Qe=!0,Mn=null,e!==null&&(pn[xn++]=qn,pn[xn++]=Jn,pn[xn++]=ni,qn=e.id,Jn=e.overflow,ni=n),n=fu(n,a.children),n.flags|=4096,n)}function Q1(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),ac(e.return,n,i)}function Tl(e,n,i,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=u)}function Id(e,n,i){var a=n.pendingProps,u=a.revealOrder,f=a.tail;if(Pt(e,n,a.children,i),a=qe.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q1(e,i,n);else if(e.tag===19)Q1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ze(qe,a),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&ca(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),Tl(n,!1,u,i,f);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&ca(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Tl(n,!0,i,null,f);break;case"together":Tl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ir(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ii|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(Z(153));if(n.child!==null){for(e=n.child,i=Or(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Or(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Q2(e,n,i){switch(n.tag){case 3:Sd(n),Hi();break;case 5:qf(n);break;case 1:Kt(n.type)&&ra(n);break;case 4:ru(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;ze(oa,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(ze(qe,qe.current&1),n.flags|=128,null):i&n.child.childLanes?vd(e,n,i):(ze(qe,qe.current&1),e=ir(e,n,i),e!==null?e.sibling:null);ze(qe,qe.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return Id(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ze(qe,qe.current),a)break;return null;case 22:case 23:return n.lanes=0,Ed(e,n,i)}return ir(e,n,i)}var Nd,pc,Td,_d;Nd=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};pc=function(){};Td=function(e,n,i,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,Jr(Yn.current);var f=null;switch(i){case"input":u=Pl(e,u),a=Pl(e,a),f=[];break;case"select":u=$e({},u,{value:void 0}),a=$e({},a,{value:void 0}),f=[];break;case"textarea":u=Ul(e,u),a=Ul(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ta)}Hl(i,a);var g;i=null;for(p in u)if(!a.hasOwnProperty(p)&&u.hasOwnProperty(p)&&u[p]!=null)if(p==="style"){var C=u[p];for(g in C)C.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ls.hasOwnProperty(p)?f||(f=[]):(f=f||[]).push(p,null));for(p in a){var m=a[p];if(C=u!=null?u[p]:void 0,a.hasOwnProperty(p)&&m!==C&&(m!=null||C!=null))if(p==="style")if(C){for(g in C)!C.hasOwnProperty(g)||m&&m.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in m)m.hasOwnProperty(g)&&C[g]!==m[g]&&(i||(i={}),i[g]=m[g])}else i||(f||(f=[]),f.push(p,i)),i=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,C=C?C.__html:void 0,m!=null&&C!==m&&(f=f||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(f=f||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&Ve("scroll",e),f||C===m||(f=[])):(f=f||[]).push(p,m))}i&&(f=f||[]).push("style",i);var p=f;(n.updateQueue=p)&&(n.flags|=4)}};_d=function(e,n,i,a){i!==a&&(n.flags|=4)};function ws(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function Z2(e,n,i){var a=n.pendingProps;switch(Kc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Kt(n.type)&&na(),Dt(n),null;case 3:return a=n.stateNode,Wi(),Ge(Zt),Ge(Lt),su(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Sc(Mn),Mn=null))),pc(e,n),Dt(n),null;case 5:iu(n);var u=Jr(Ys.current);if(i=n.type,e!==null&&n.stateNode!=null)Td(e,n,i,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(Z(166));return Dt(n),null}if(e=Jr(Yn.current),Mo(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[Wn]=n,a[Ws]=f,e=(n.mode&1)!==0,i){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(u=0;u<Ss.length;u++)Ve(Ss[u],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":r1(a,f),Ve("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ve("invalid",a);break;case"textarea":s1(a,f),Ve("invalid",a)}Hl(i,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var C=f[g];g==="children"?typeof C=="string"?a.textContent!==C&&(f.suppressHydrationWarning!==!0&&_o(a.textContent,C,e),u=["children",C]):typeof C=="number"&&a.textContent!==""+C&&(f.suppressHydrationWarning!==!0&&_o(a.textContent,C,e),u=["children",""+C]):Ls.hasOwnProperty(g)&&C!=null&&g==="onScroll"&&Ve("scroll",a)}switch(i){case"input":Co(a),i1(a,f,!0);break;case"textarea":Co(a),o1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ta)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Wn]=n,e[Ws]=a,Nd(e,n,!1,!1),n.stateNode=e;e:{switch(g=Vl(i,a),i){case"dialog":Ve("cancel",e),Ve("close",e),u=a;break;case"iframe":case"object":case"embed":Ve("load",e),u=a;break;case"video":case"audio":for(u=0;u<Ss.length;u++)Ve(Ss[u],e);u=a;break;case"source":Ve("error",e),u=a;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),u=a;break;case"details":Ve("toggle",e),u=a;break;case"input":r1(e,a),u=Pl(e,a),Ve("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=$e({},a,{value:void 0}),Ve("invalid",e);break;case"textarea":s1(e,a),u=Ul(e,a),Ve("invalid",e);break;default:u=a}Hl(i,u),C=u;for(f in C)if(C.hasOwnProperty(f)){var m=C[f];f==="style"?sf(e,m):f==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&nf(e,m)):f==="children"?typeof m=="string"?(i!=="textarea"||m!=="")&&ks(e,m):typeof m=="number"&&ks(e,""+m):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ls.hasOwnProperty(f)?m!=null&&f==="onScroll"&&Ve("scroll",e):m!=null&&kc(e,f,m,g))}switch(i){case"input":Co(e),i1(e,a,!1);break;case"textarea":Co(e),o1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Dr(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Li(e,!!a.multiple,f,!1):a.defaultValue!=null&&Li(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ta)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)_d(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(Z(166));if(i=Jr(Ys.current),Jr(Yn.current),Mo(n)){if(a=n.stateNode,i=n.memoizedProps,a[Wn]=n,(f=a.nodeValue!==i)&&(e=on,e!==null))switch(e.tag){case 3:_o(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_o(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Wn]=n,n.stateNode=a}return Dt(n),null;case 13:if(Ge(qe),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&sn!==null&&n.mode&1&&!(n.flags&128))Yf(),Hi(),n.flags|=98560,f=!1;else if(f=Mo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(Z(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(Z(317));f[Wn]=n}else Hi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Dt(n),f=!1}else Mn!==null&&(Sc(Mn),Mn=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||qe.current&1?xt===0&&(xt=3):mu())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return Wi(),pc(e,n),e===null&&Hs(n.stateNode.containerInfo),Dt(n),null;case 10:return eu(n.type._context),Dt(n),null;case 17:return Kt(n.type)&&na(),Dt(n),null;case 19:if(Ge(qe),f=n.memoizedState,f===null)return Dt(n),null;if(a=(n.flags&128)!==0,g=f.rendering,g===null)if(a)ws(f,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(g=ca(e),g!==null){for(n.flags|=128,ws(f,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ze(qe,qe.current&1|2),n.child}e=e.sibling}f.tail!==null&&lt()>Yi&&(n.flags|=128,a=!0,ws(f,!1),n.lanes=4194304)}else{if(!a)if(e=ca(g),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ws(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return Dt(n),null}else 2*lt()-f.renderingStartTime>Yi&&i!==1073741824&&(n.flags|=128,a=!0,ws(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=lt(),n.sibling=null,i=qe.current,ze(qe,a?i&1|2:i&1),n):(Dt(n),null);case 22:case 23:return xu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?nn&1073741824&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(Z(156,n.tag))}function K2(e,n){switch(Kc(n),n.tag){case 1:return Kt(n.type)&&na(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(),Ge(Zt),Ge(Lt),su(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return iu(n),null;case 13:if(Ge(qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(Z(340));Hi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(qe),null;case 4:return Wi(),null;case 10:return eu(n.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Do=!1,bt=!1,q2=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ri(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){st(e,n,a)}else i.current=null}function xc(e,n,i){try{i()}catch(a){st(e,n,a)}}var Z1=!1;function J2(e,n){if($l=Jo,e=bf(),Qc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,C=-1,m=-1,p=0,E=0,A=e,N=null;t:for(;;){for(var b;A!==i||u!==0&&A.nodeType!==3||(C=g+u),A!==f||a!==0&&A.nodeType!==3||(m=g+a),A.nodeType===3&&(g+=A.nodeValue.length),(b=A.firstChild)!==null;)N=A,A=b;for(;;){if(A===e)break t;if(N===i&&++p===u&&(C=g),N===f&&++E===a&&(m=g),(b=A.nextSibling)!==null)break;A=N,N=A.parentNode}A=b}i=C===-1||m===-1?null:{start:C,end:m}}else i=null}i=i||{start:0,end:0}}else i=null;for(ec={focusedElem:e,selectionRange:i},Jo=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var k=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var B=k.memoizedProps,U=k.memoizedState,R=n.stateNode,O=R.getSnapshotBeforeUpdate(n.elementType===n.type?B:Nn(n.type,B),U);R.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){st(n,n.return,j)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return k=Z1,Z1=!1,k}function Rs(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&xc(n,i,f)}u=u.next}while(u!==a)}}function Oa(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function mc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Md(e){var n=e.alternate;n!==null&&(e.alternate=null,Md(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wn],delete n[Ws],delete n[rc],delete n[L2],delete n[k2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Od(e){return e.tag===5||e.tag===3||e.tag===4}function K1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wc(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ta));else if(a!==4&&(e=e.child,e!==null))for(wc(e,n,i),e=e.sibling;e!==null;)wc(e,n,i),e=e.sibling}function yc(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(yc(e,n,i),e=e.sibling;e!==null;)yc(e,n,i),e=e.sibling}var Nt=null,Tn=!1;function gr(e,n,i){for(i=i.child;i!==null;)Rd(e,n,i),i=i.sibling}function Rd(e,n,i){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Aa,i)}catch{}switch(i.tag){case 5:bt||Ri(i,n);case 6:var a=Nt,u=Tn;Nt=null,gr(e,n,i),Nt=a,Tn=u,Nt!==null&&(Tn?(e=Nt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Nt.removeChild(i.stateNode));break;case 18:Nt!==null&&(Tn?(e=Nt,i=i.stateNode,e.nodeType===8?Cl(e.parentNode,i):e.nodeType===1&&Cl(e,i),js(e)):Cl(Nt,i.stateNode));break;case 4:a=Nt,u=Tn,Nt=i.stateNode.containerInfo,Tn=!0,gr(e,n,i),Nt=a,Tn=u;break;case 0:case 11:case 14:case 15:if(!bt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&xc(i,n,g),u=u.next}while(u!==a)}gr(e,n,i);break;case 1:if(!bt&&(Ri(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(C){st(i,n,C)}gr(e,n,i);break;case 21:gr(e,n,i);break;case 22:i.mode&1?(bt=(a=bt)||i.memoizedState!==null,gr(e,n,i),bt=a):gr(e,n,i);break;default:gr(e,n,i)}}function q1(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new q2),n.forEach(function(a){var u=ap.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function In(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var f=e,g=n,C=g;e:for(;C!==null;){switch(C.tag){case 5:Nt=C.stateNode,Tn=!1;break e;case 3:Nt=C.stateNode.containerInfo,Tn=!0;break e;case 4:Nt=C.stateNode.containerInfo,Tn=!0;break e}C=C.return}if(Nt===null)throw Error(Z(160));Rd(f,g,u),Nt=null,Tn=!1;var m=u.alternate;m!==null&&(m.return=null),u.return=null}catch(p){st(u,n,p)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Dd(n,e),n=n.sibling}function Dd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(n,e),Un(e),a&4){try{Rs(3,e,e.return),Oa(3,e)}catch(B){st(e,e.return,B)}try{Rs(5,e,e.return)}catch(B){st(e,e.return,B)}}break;case 1:In(n,e),Un(e),a&512&&i!==null&&Ri(i,i.return);break;case 5:if(In(n,e),Un(e),a&512&&i!==null&&Ri(i,i.return),e.flags&32){var u=e.stateNode;try{ks(u,"")}catch(B){st(e,e.return,B)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,C=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{C==="input"&&f.type==="radio"&&f.name!=null&&$0(u,f),Vl(C,g);var p=Vl(C,f);for(g=0;g<m.length;g+=2){var E=m[g],A=m[g+1];E==="style"?sf(u,A):E==="dangerouslySetInnerHTML"?nf(u,A):E==="children"?ks(u,A):kc(u,E,A,p)}switch(C){case"input":Fl(u,f);break;case"textarea":ef(u,f);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var b=f.value;b!=null?Li(u,!!f.multiple,b,!1):N!==!!f.multiple&&(f.defaultValue!=null?Li(u,!!f.multiple,f.defaultValue,!0):Li(u,!!f.multiple,f.multiple?[]:"",!1))}u[Ws]=f}catch(B){st(e,e.return,B)}}break;case 6:if(In(n,e),Un(e),a&4){if(e.stateNode===null)throw Error(Z(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(B){st(e,e.return,B)}}break;case 3:if(In(n,e),Un(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{js(n.containerInfo)}catch(B){st(e,e.return,B)}break;case 4:In(n,e),Un(e);break;case 13:In(n,e),Un(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(gu=lt())),a&4&&q1(e);break;case 22:if(E=i!==null&&i.memoizedState!==null,e.mode&1?(bt=(p=bt)||E,In(n,e),bt=p):In(n,e),Un(e),a&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!E&&e.mode&1)for(se=e,E=e.child;E!==null;){for(A=se=E;se!==null;){switch(N=se,b=N.child,N.tag){case 0:case 11:case 14:case 15:Rs(4,N,N.return);break;case 1:Ri(N,N.return);var k=N.stateNode;if(typeof k.componentWillUnmount=="function"){a=N,i=N.return;try{n=a,k.props=n.memoizedProps,k.state=n.memoizedState,k.componentWillUnmount()}catch(B){st(a,i,B)}}break;case 5:Ri(N,N.return);break;case 22:if(N.memoizedState!==null){$1(A);continue}}b!==null?(b.return=N,se=b):$1(A)}E=E.sibling}e:for(E=null,A=e;;){if(A.tag===5){if(E===null){E=A;try{u=A.stateNode,p?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(C=A.stateNode,m=A.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null,C.style.display=rf("display",g))}catch(B){st(e,e.return,B)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(B){st(e,e.return,B)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:In(n,e),Un(e),a&4&&q1(e);break;case 21:break;default:In(n,e),Un(e)}}function Un(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Od(i)){var a=i;break e}i=i.return}throw Error(Z(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(ks(u,""),a.flags&=-33);var f=K1(e);yc(e,f,u);break;case 3:case 4:var g=a.stateNode.containerInfo,C=K1(e);wc(e,C,g);break;default:throw Error(Z(161))}}catch(m){st(e,e.return,m)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $2(e,n,i){se=e,bd(e)}function bd(e,n,i){for(var a=(e.mode&1)!==0;se!==null;){var u=se,f=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||Do;if(!g){var C=u.alternate,m=C!==null&&C.memoizedState!==null||bt;C=Do;var p=bt;if(Do=g,(bt=m)&&!p)for(se=u;se!==null;)g=se,m=g.child,g.tag===22&&g.memoizedState!==null?e0(u):m!==null?(m.return=g,se=m):e0(u);for(;f!==null;)se=f,bd(f),f=f.sibling;se=u,Do=C,bt=p}J1(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,se=f):J1(e)}}function J1(e){for(;se!==null;){var n=se;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:bt||Oa(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!bt)if(i===null)a.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:Nn(n.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&B1(n,f,a);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}B1(n,g,i)}break;case 5:var C=n.stateNode;if(i===null&&n.flags&4){i=C;var m=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&i.focus();break;case"img":m.src&&(i.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var p=n.alternate;if(p!==null){var E=p.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&js(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}bt||n.flags&512&&mc(n)}catch(N){st(n,n.return,N)}}if(n===e){se=null;break}if(i=n.sibling,i!==null){i.return=n.return,se=i;break}se=n.return}}function $1(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var i=n.sibling;if(i!==null){i.return=n.return,se=i;break}se=n.return}}function e0(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Oa(4,n)}catch(m){st(n,i,m)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(m){st(n,u,m)}}var f=n.return;try{mc(n)}catch(m){st(n,f,m)}break;case 5:var g=n.return;try{mc(n)}catch(m){st(n,g,m)}}}catch(m){st(n,n.return,m)}if(n===e){se=null;break}var C=n.sibling;if(C!==null){C.return=n.return,se=C;break}se=n.return}}var ep=Math.ceil,da=sr.ReactCurrentDispatcher,du=sr.ReactCurrentOwner,wn=sr.ReactCurrentBatchConfig,Te=0,Et=null,ft=null,Tt=0,nn=0,Di=Br(0),xt=0,Ks=null,ii=0,Ra=0,hu=0,Ds=null,Xt=null,gu=0,Yi=1/0,Zn=null,ha=!1,Cc=null,_r=null,bo=!1,Er=null,ga=0,bs=0,Ec=null,Wo=-1,Go=0;function Ft(){return Te&6?lt():Wo!==-1?Wo:Wo=lt()}function Mr(e){return e.mode&1?Te&2&&Tt!==0?Tt&-Tt:P2.transition!==null?(Go===0&&(Go=mf()),Go):(e=be,e!==0||(e=window.event,e=e===void 0?16:vf(e.type)),e):1}function Rn(e,n,i,a){if(50<bs)throw bs=0,Ec=null,Error(Z(185));eo(e,i,a),(!(Te&2)||e!==Et)&&(e===Et&&(!(Te&2)&&(Ra|=i),xt===4&&yr(e,Tt)),qt(e,a),i===1&&Te===0&&!(n.mode&1)&&(Yi=lt()+500,Ta&&Pr()))}function qt(e,n){var i=e.callbackNode;Pg(e,n);var a=qo(e,e===Et?Tt:0);if(a===0)i!==null&&c1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&c1(i),n===1)e.tag===0?B2(t0.bind(null,e)):Vf(t0.bind(null,e)),D2(function(){!(Te&6)&&Pr()}),i=null;else{switch(wf(a)){case 1:i=Uc;break;case 4:i=pf;break;case 16:i=Ko;break;case 536870912:i=xf;break;default:i=Ko}i=zd(i,Ld.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Ld(e,n){if(Wo=-1,Go=0,Te&6)throw Error(Z(327));var i=e.callbackNode;if(ji()&&e.callbackNode!==i)return null;var a=qo(e,e===Et?Tt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=pa(e,a);else{n=a;var u=Te;Te|=2;var f=Bd();(Et!==e||Tt!==n)&&(Zn=null,Yi=lt()+500,$r(e,n));do try{rp();break}catch(C){kd(e,C)}while(!0);$c(),da.current=f,Te=u,ft!==null?n=0:(Et=null,Tt=0,n=xt)}if(n!==0){if(n===2&&(u=Ql(e),u!==0&&(a=u,n=Ac(e,u))),n===1)throw i=Ks,$r(e,0),yr(e,a),qt(e,lt()),i;if(n===6)yr(e,a);else{if(u=e.current.alternate,!(a&30)&&!tp(u)&&(n=pa(e,a),n===2&&(f=Ql(e),f!==0&&(a=f,n=Ac(e,f))),n===1))throw i=Ks,$r(e,0),yr(e,a),qt(e,lt()),i;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(Z(345));case 2:Zr(e,Xt,Zn);break;case 3:if(yr(e,a),(a&130023424)===a&&(n=gu+500-lt(),10<n)){if(qo(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Ft(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=nc(Zr.bind(null,e,Xt,Zn),n);break}Zr(e,Xt,Zn);break;case 4:if(yr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var g=31-On(a);f=1<<g,g=n[g],g>u&&(u=g),a&=~f}if(a=u,a=lt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ep(a/1960))-a,10<a){e.timeoutHandle=nc(Zr.bind(null,e,Xt,Zn),a);break}Zr(e,Xt,Zn);break;case 5:Zr(e,Xt,Zn);break;default:throw Error(Z(329))}}}return qt(e,lt()),e.callbackNode===i?Ld.bind(null,e):null}function Ac(e,n){var i=Ds;return e.current.memoizedState.isDehydrated&&($r(e,n).flags|=256),e=pa(e,n),e!==2&&(n=Xt,Xt=i,n!==null&&Sc(n)),e}function Sc(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function tp(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],f=u.getSnapshot;u=u.value;try{if(!Dn(f(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yr(e,n){for(n&=~hu,n&=~Ra,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-On(n),a=1<<i;e[i]=-1,n&=~a}}function t0(e){if(Te&6)throw Error(Z(327));ji();var n=qo(e,0);if(!(n&1))return qt(e,lt()),null;var i=pa(e,n);if(e.tag!==0&&i===2){var a=Ql(e);a!==0&&(n=a,i=Ac(e,a))}if(i===1)throw i=Ks,$r(e,0),yr(e,n),qt(e,lt()),i;if(i===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Zr(e,Xt,Zn),qt(e,lt()),null}function pu(e,n){var i=Te;Te|=1;try{return e(n)}finally{Te=i,Te===0&&(Yi=lt()+500,Ta&&Pr())}}function si(e){Er!==null&&Er.tag===0&&!(Te&6)&&ji();var n=Te;Te|=1;var i=wn.transition,a=be;try{if(wn.transition=null,be=1,e)return e()}finally{be=a,wn.transition=i,Te=n,!(Te&6)&&Pr()}}function xu(){nn=Di.current,Ge(Di)}function $r(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,R2(i)),ft!==null)for(i=ft.return;i!==null;){var a=i;switch(Kc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&na();break;case 3:Wi(),Ge(Zt),Ge(Lt),su();break;case 5:iu(a);break;case 4:Wi();break;case 13:Ge(qe);break;case 19:Ge(qe);break;case 10:eu(a.type._context);break;case 22:case 23:xu()}i=i.return}if(Et=e,ft=e=Or(e.current,null),Tt=nn=n,xt=0,Ks=null,hu=Ra=ii=0,Xt=Ds=null,qr!==null){for(n=0;n<qr.length;n++)if(i=qr[n],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=u,a.next=g}i.pending=a}qr=null}return e}function kd(e,n){do{var i=ft;try{if($c(),zo.current=fa,ua){for(var a=Je.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}ua=!1}if(ri=0,Ct=pt=Je=null,Os=!1,Xs=0,du.current=null,i===null||i.return===null){xt=1,Ks=n,ft=null;break}e:{var f=e,g=i.return,C=i,m=n;if(n=Tt,C.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,E=C,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var N=E.alternate;N?(E.updateQueue=N.updateQueue,E.memoizedState=N.memoizedState,E.lanes=N.lanes):(E.updateQueue=null,E.memoizedState=null)}var b=H1(g);if(b!==null){b.flags&=-257,V1(b,g,C,f,n),b.mode&1&&z1(f,p,n),n=b,m=p;var k=n.updateQueue;if(k===null){var B=new Set;B.add(m),n.updateQueue=B}else k.add(m);break e}else{if(!(n&1)){z1(f,p,n),mu();break e}m=Error(Z(426))}}else if(Qe&&C.mode&1){var U=H1(g);if(U!==null){!(U.flags&65536)&&(U.flags|=256),V1(U,g,C,f,n),qc(Gi(m,C));break e}}f=m=Gi(m,C),xt!==4&&(xt=2),Ds===null?Ds=[f]:Ds.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var R=wd(f,m,n);k1(f,R);break e;case 1:C=m;var O=f.type,M=f.stateNode;if(!(f.flags&128)&&(typeof O.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(_r===null||!_r.has(M)))){f.flags|=65536,n&=-n,f.lanes|=n;var j=yd(f,C,n);k1(f,j);break e}}f=f.return}while(f!==null)}Fd(i)}catch($){n=$,ft===i&&i!==null&&(ft=i=i.return);continue}break}while(!0)}function Bd(){var e=da.current;return da.current=fa,e===null?fa:e}function mu(){(xt===0||xt===3||xt===2)&&(xt=4),Et===null||!(ii&268435455)&&!(Ra&268435455)||yr(Et,Tt)}function pa(e,n){var i=Te;Te|=2;var a=Bd();(Et!==e||Tt!==n)&&(Zn=null,$r(e,n));do try{np();break}catch(u){kd(e,u)}while(!0);if($c(),Te=i,da.current=a,ft!==null)throw Error(Z(261));return Et=null,Tt=0,xt}function np(){for(;ft!==null;)Pd(ft)}function rp(){for(;ft!==null&&!_g();)Pd(ft)}function Pd(e){var n=Ud(e.alternate,e,nn);e.memoizedProps=e.pendingProps,n===null?Fd(e):ft=n,du.current=null}function Fd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=K2(i,n),i!==null){i.flags&=32767,ft=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(i=Z2(i,n,nn),i!==null){ft=i;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=e}while(n!==null);xt===0&&(xt=5)}function Zr(e,n,i){var a=be,u=wn.transition;try{wn.transition=null,be=1,ip(e,n,i,a)}finally{wn.transition=u,be=a}return null}function ip(e,n,i,a){do ji();while(Er!==null);if(Te&6)throw Error(Z(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Fg(e,f),e===Et&&(ft=Et=null,Tt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||bo||(bo=!0,zd(Ko,function(){return ji(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=wn.transition,wn.transition=null;var g=be;be=1;var C=Te;Te|=4,du.current=null,J2(e,i),Dd(i,e),v2(ec),Jo=!!$l,ec=$l=null,e.current=i,$2(i),Mg(),Te=C,be=g,wn.transition=f}else e.current=i;if(bo&&(bo=!1,Er=e,ga=u),f=e.pendingLanes,f===0&&(_r=null),Dg(i.stateNode),qt(e,lt()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(ha)throw ha=!1,e=Cc,Cc=null,e;return ga&1&&e.tag!==0&&ji(),f=e.pendingLanes,f&1?e===Ec?bs++:(bs=0,Ec=e):bs=0,Pr(),null}function ji(){if(Er!==null){var e=wf(ga),n=wn.transition,i=be;try{if(wn.transition=null,be=16>e?16:e,Er===null)var a=!1;else{if(e=Er,Er=null,ga=0,Te&6)throw Error(Z(331));var u=Te;for(Te|=4,se=e.current;se!==null;){var f=se,g=f.child;if(se.flags&16){var C=f.deletions;if(C!==null){for(var m=0;m<C.length;m++){var p=C[m];for(se=p;se!==null;){var E=se;switch(E.tag){case 0:case 11:case 15:Rs(8,E,f)}var A=E.child;if(A!==null)A.return=E,se=A;else for(;se!==null;){E=se;var N=E.sibling,b=E.return;if(Md(E),E===p){se=null;break}if(N!==null){N.return=b,se=N;break}se=b}}}var k=f.alternate;if(k!==null){var B=k.child;if(B!==null){k.child=null;do{var U=B.sibling;B.sibling=null,B=U}while(B!==null)}}se=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,se=g;else e:for(;se!==null;){if(f=se,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Rs(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,se=R;break e}se=f.return}}var O=e.current;for(se=O;se!==null;){g=se;var M=g.child;if(g.subtreeFlags&2064&&M!==null)M.return=g,se=M;else e:for(g=O;se!==null;){if(C=se,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Oa(9,C)}}catch($){st(C,C.return,$)}if(C===g){se=null;break e}var j=C.sibling;if(j!==null){j.return=C.return,se=j;break e}se=C.return}}if(Te=u,Pr(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Aa,e)}catch{}a=!0}return a}finally{be=i,wn.transition=n}}return!1}function n0(e,n,i){n=Gi(i,n),n=wd(e,n,1),e=Tr(e,n,1),n=Ft(),e!==null&&(eo(e,1,n),qt(e,n))}function st(e,n,i){if(e.tag===3)n0(e,e,i);else for(;n!==null;){if(n.tag===3){n0(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(_r===null||!_r.has(a))){e=Gi(i,e),e=yd(n,e,1),n=Tr(n,e,1),e=Ft(),n!==null&&(eo(n,1,e),qt(n,e));break}}n=n.return}}function sp(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Ft(),e.pingedLanes|=e.suspendedLanes&i,Et===e&&(Tt&i)===i&&(xt===4||xt===3&&(Tt&130023424)===Tt&&500>lt()-gu?$r(e,0):hu|=i),qt(e,n)}function jd(e,n){n===0&&(e.mode&1?(n=So,So<<=1,!(So&130023424)&&(So=4194304)):n=1);var i=Ft();e=rr(e,n),e!==null&&(eo(e,n,i),qt(e,i))}function op(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),jd(e,i)}function ap(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Z(314))}a!==null&&a.delete(n),jd(e,i)}var Ud;Ud=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Zt.current)Qt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return Qt=!1,Q2(e,n,i);Qt=!!(e.flags&131072)}else Qt=!1,Qe&&n.flags&1048576&&Wf(n,sa,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Vo(e,n),e=n.pendingProps;var u=zi(n,Lt.current);Fi(n,i),u=au(null,n,a,e,u,i);var f=lu();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(a)?(f=!0,ra(n)):f=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,nu(n),u.updater=Ma,n.stateNode=u,u._reactInternals=n,cc(n,a,e,i),n=dc(null,n,a,!0,f,i)):(n.tag=0,Qe&&f&&Zc(n),Pt(null,n,u,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Vo(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=cp(a),e=Nn(a,e),u){case 0:n=fc(null,n,a,e,i);break e;case 1:n=Y1(null,n,a,e,i);break e;case 11:n=W1(null,n,a,e,i);break e;case 14:n=G1(null,n,a,Nn(a.type,e),i);break e}throw Error(Z(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Nn(a,u),fc(e,n,a,u,i);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Nn(a,u),Y1(e,n,a,u,i);case 3:e:{if(Sd(n),e===null)throw Error(Z(387));a=n.pendingProps,f=n.memoizedState,u=f.element,Kf(e,n),la(n,a,null,i);var g=n.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){u=Gi(Error(Z(423)),n),n=X1(e,n,a,i,u);break e}else if(a!==u){u=Gi(Error(Z(424)),n),n=X1(e,n,a,i,u);break e}else for(sn=Nr(n.stateNode.containerInfo.firstChild),on=n,Qe=!0,Mn=null,i=Qf(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hi(),a===u){n=ir(e,n,i);break e}Pt(e,n,a,i)}n=n.child}return n;case 5:return qf(n),e===null&&oc(n),a=n.type,u=n.pendingProps,f=e!==null?e.memoizedProps:null,g=u.children,tc(a,u)?g=null:f!==null&&tc(a,f)&&(n.flags|=32),Ad(e,n),Pt(e,n,g,i),n.child;case 6:return e===null&&oc(n),null;case 13:return vd(e,n,i);case 4:return ru(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Vi(n,null,a,i):Pt(e,n,a,i),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Nn(a,u),W1(e,n,a,u,i);case 7:return Pt(e,n,n.pendingProps,i),n.child;case 8:return Pt(e,n,n.pendingProps.children,i),n.child;case 12:return Pt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,f=n.memoizedProps,g=u.value,ze(oa,a._currentValue),a._currentValue=g,f!==null)if(Dn(f.value,g)){if(f.children===u.children&&!Zt.current){n=ir(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var C=f.dependencies;if(C!==null){g=f.child;for(var m=C.firstContext;m!==null;){if(m.context===a){if(f.tag===1){m=er(-1,i&-i),m.tag=2;var p=f.updateQueue;if(p!==null){p=p.shared;var E=p.pending;E===null?m.next=m:(m.next=E.next,E.next=m),p.pending=m}}f.lanes|=i,m=f.alternate,m!==null&&(m.lanes|=i),ac(f.return,i,n),C.lanes|=i;break}m=m.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(Z(341));g.lanes|=i,C=g.alternate,C!==null&&(C.lanes|=i),ac(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Pt(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,Fi(n,i),u=yn(u),a=a(u),n.flags|=1,Pt(e,n,a,i),n.child;case 14:return a=n.type,u=Nn(a,n.pendingProps),u=Nn(a.type,u),G1(e,n,a,u,i);case 15:return Cd(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Nn(a,u),Vo(e,n),n.tag=1,Kt(a)?(e=!0,ra(n)):e=!1,Fi(n,i),md(n,a,u),cc(n,a,u,i),dc(null,n,a,!0,e,i);case 19:return Id(e,n,i);case 22:return Ed(e,n,i)}throw Error(Z(156,n.tag))};function zd(e,n){return gf(e,n)}function lp(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,i,a){return new lp(e,n,i,a)}function wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cp(e){if(typeof e=="function")return wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pc)return 11;if(e===Fc)return 14}return 2}function Or(e,n){var i=e.alternate;return i===null?(i=mn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Yo(e,n,i,a,u,f){var g=2;if(a=e,typeof e=="function")wu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ai:return ei(i.children,u,f,n);case Bc:g=8,u|=8;break;case bl:return e=mn(12,i,n,u|2),e.elementType=bl,e.lanes=f,e;case Ll:return e=mn(13,i,n,u),e.elementType=Ll,e.lanes=f,e;case kl:return e=mn(19,i,n,u),e.elementType=kl,e.lanes=f,e;case K0:return Da(i,u,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q0:g=10;break e;case Z0:g=9;break e;case Pc:g=11;break e;case Fc:g=14;break e;case xr:g=16,a=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return n=mn(g,i,n,u),n.elementType=e,n.type=a,n.lanes=f,n}function ei(e,n,i,a){return e=mn(7,e,a,n),e.lanes=i,e}function Da(e,n,i,a){return e=mn(22,e,a,n),e.elementType=K0,e.lanes=i,e.stateNode={isHidden:!1},e}function _l(e,n,i){return e=mn(6,e,null,n),e.lanes=i,e}function Ml(e,n,i){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function up(e,n,i,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function yu(e,n,i,a,u,f,g,C,m){return e=new up(e,n,i,C,m),n===1?(n=1,f===!0&&(n|=8)):n=0,f=mn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(f),e}function fp(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Hd(e){if(!e)return br;e=e._reactInternals;e:{if(li(e)!==e||e.tag!==1)throw Error(Z(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Z(171))}if(e.tag===1){var i=e.type;if(Kt(i))return Hf(e,i,n)}return n}function Vd(e,n,i,a,u,f,g,C,m){return e=yu(i,a,!0,e,u,f,g,C,m),e.context=Hd(null),i=e.current,a=Ft(),u=Mr(i),f=er(a,u),f.callback=n??null,Tr(i,f,u),e.current.lanes=u,eo(e,u,a),qt(e,a),e}function ba(e,n,i,a){var u=n.current,f=Ft(),g=Mr(u);return i=Hd(i),n.context===null?n.context=i:n.pendingContext=i,n=er(f,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Tr(u,n,g),e!==null&&(Rn(e,u,g,f),Uo(e,u,g)),g}function xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Cu(e,n){r0(e,n),(e=e.alternate)&&r0(e,n)}function dp(){return null}var Wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}La.prototype.render=Eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(Z(409));ba(e,n,null,null)};La.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;si(function(){ba(null,e,null,null)}),n[nr]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ef();e={blockedOn:null,target:e,priority:n};for(var i=0;i<wr.length&&n!==0&&n<wr[i].priority;i++);wr.splice(i,0,e),i===0&&Sf(e)}};function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i0(){}function hp(e,n,i,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var p=xa(g);f.call(p)}}var g=Vd(n,a,e,0,null,!1,!1,"",i0);return e._reactRootContainer=g,e[nr]=g.current,Hs(e.nodeType===8?e.parentNode:e),si(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var C=a;a=function(){var p=xa(m);C.call(p)}}var m=yu(e,0,!1,null,null,!1,!1,"",i0);return e._reactRootContainer=m,e[nr]=m.current,Hs(e.nodeType===8?e.parentNode:e),si(function(){ba(n,m,i,a)}),m}function Ba(e,n,i,a,u){var f=i._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var C=u;u=function(){var m=xa(g);C.call(m)}}ba(n,g,e,u)}else g=hp(i,n,e,u,a);return xa(g)}yf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=As(n.pendingLanes);i!==0&&(zc(n,i|1),qt(n,lt()),!(Te&6)&&(Yi=lt()+500,Pr()))}break;case 13:si(function(){var a=rr(e,1);if(a!==null){var u=Ft();Rn(a,e,1,u)}}),Cu(e,1)}};Hc=function(e){if(e.tag===13){var n=rr(e,134217728);if(n!==null){var i=Ft();Rn(n,e,134217728,i)}Cu(e,134217728)}};Cf=function(e){if(e.tag===13){var n=Mr(e),i=rr(e,n);if(i!==null){var a=Ft();Rn(i,e,n,a)}Cu(e,n)}};Ef=function(){return be};Af=function(e,n){var i=be;try{return be=e,n()}finally{be=i}};Gl=function(e,n,i){switch(n){case"input":if(Fl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var u=Na(a);if(!u)throw Error(Z(90));J0(a),Fl(a,u)}}}break;case"textarea":ef(e,i);break;case"select":n=i.value,n!=null&&Li(e,!!i.multiple,n,!1)}};lf=pu;cf=si;var gp={usingClientEntryPoint:!1,Events:[no,Ni,Na,of,af,pu]},ys={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pp={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=df(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Aa=Lo.inject(pp),Gn=Lo}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp;ln.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(n))throw Error(Z(200));return fp(e,n,null,i)};ln.createRoot=function(e,n){if(!Au(e))throw Error(Z(299));var i=!1,a="",u=Wd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=yu(e,1,!1,null,null,i,!1,a,u),e[nr]=n.current,Hs(e.nodeType===8?e.parentNode:e),new Eu(n)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=df(n),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return si(e)};ln.hydrate=function(e,n,i){if(!ka(n))throw Error(Z(200));return Ba(null,e,n,!0,i)};ln.hydrateRoot=function(e,n,i){if(!Au(e))throw Error(Z(405));var a=i!=null&&i.hydratedSources||null,u=!1,f="",g=Wd;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=Vd(n,null,e,1,i??null,u,!1,f,g),e[nr]=n.current,Hs(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new La(n)};ln.render=function(e,n,i){if(!ka(n))throw Error(Z(200));return Ba(null,e,n,!1,i)};ln.unmountComponentAtNode=function(e){if(!ka(e))throw Error(Z(40));return e._reactRootContainer?(si(function(){Ba(null,null,e,!1,function(){e._reactRootContainer=null,e[nr]=null})}),!0):!1};ln.unstable_batchedUpdates=pu;ln.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!ka(i))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Ba(e,n,i,!1,a)};ln.version="18.3.1-next-f1338f8080-20240426";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(e){console.error(e)}}Gd(),W0.exports=ln;var xp=W0.exports,s0=xp;Rl.createRoot=s0.createRoot,Rl.hydrateRoot=s0.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},qs.apply(this,arguments)}var Ar;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ar||(Ar={}));const o0="popstate";function mp(e){e===void 0&&(e={});function n(a,u){let{pathname:f,search:g,hash:C}=a.location;return vc("",{pathname:f,search:g,hash:C},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(a,u){return typeof u=="string"?u:ma(u)}return yp(n,i,null,e)}function ct(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Su(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function wp(){return Math.random().toString(36).substr(2,8)}function a0(e,n){return{usr:e.state,key:e.key,idx:n}}function vc(e,n,i,a){return i===void 0&&(i=null),qs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Ki(n):n,{state:i,key:n&&n.key||a||wp()})}function ma(e){let{pathname:n="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Ki(e){let n={};if(e){let i=e.indexOf("#");i>=0&&(n.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}function yp(e,n,i,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:f=!1}=a,g=u.history,C=Ar.Pop,m=null,p=E();p==null&&(p=0,g.replaceState(qs({},g.state,{idx:p}),""));function E(){return(g.state||{idx:null}).idx}function A(){C=Ar.Pop;let U=E(),R=U==null?null:U-p;p=U,m&&m({action:C,location:B.location,delta:R})}function N(U,R){C=Ar.Push;let O=vc(B.location,U,R);p=E()+1;let M=a0(O,p),j=B.createHref(O);try{g.pushState(M,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;u.location.assign(j)}f&&m&&m({action:C,location:B.location,delta:1})}function b(U,R){C=Ar.Replace;let O=vc(B.location,U,R);p=E();let M=a0(O,p),j=B.createHref(O);g.replaceState(M,"",j),f&&m&&m({action:C,location:B.location,delta:0})}function k(U){let R=u.location.origin!=="null"?u.location.origin:u.location.href,O=typeof U=="string"?U:ma(U);return O=O.replace(/ $/,"%20"),ct(R,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,R)}let B={get action(){return C},get location(){return e(u,g)},listen(U){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(o0,A),m=U,()=>{u.removeEventListener(o0,A),m=null}},createHref(U){return n(u,U)},createURL:k,encodeLocation(U){let R=k(U);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:N,replace:b,go(U){return g.go(U)}};return B}var l0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(l0||(l0={}));function Cp(e,n,i){return i===void 0&&(i="/"),Ep(e,n,i)}function Ep(e,n,i,a){let u=typeof n=="string"?Ki(n):n,f=vu(u.pathname||"/",i);if(f==null)return null;let g=Yd(e);Ap(g);let C=null;for(let m=0;C==null&&m<g.length;++m){let p=Lp(f);C=Rp(g[m],p)}return C}function Yd(e,n,i,a){n===void 0&&(n=[]),i===void 0&&(i=[]),a===void 0&&(a="");let u=(f,g,C)=>{let m={relativePath:C===void 0?f.path||"":C,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let p=Rr([a,m.relativePath]),E=i.concat(m);f.children&&f.children.length>0&&(ct(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Yd(f.children,n,E,p)),!(f.path==null&&!f.index)&&n.push({path:p,score:Mp(p,f.index),routesMeta:E})};return e.forEach((f,g)=>{var C;if(f.path===""||!((C=f.path)!=null&&C.includes("?")))u(f,g);else for(let m of Xd(f.path))u(f,g,m)}),n}function Xd(e){let n=e.split("/");if(n.length===0)return[];let[i,...a]=n,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return u?[f,""]:[f];let g=Xd(a.join("/")),C=[];return C.push(...g.map(m=>m===""?f:[f,m].join("/"))),u&&C.push(...g),C.map(m=>e.startsWith("/")&&m===""?"/":m)}function Ap(e){e.sort((n,i)=>n.score!==i.score?i.score-n.score:Op(n.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const Sp=/^:[\w-]+$/,vp=3,Ip=2,Np=1,Tp=10,_p=-2,c0=e=>e==="*";function Mp(e,n){let i=e.split("/"),a=i.length;return i.some(c0)&&(a+=_p),n&&(a+=Ip),i.filter(u=>!c0(u)).reduce((u,f)=>u+(Sp.test(f)?vp:f===""?Np:Tp),a)}function Op(e,n){return e.length===n.length&&e.slice(0,-1).every((a,u)=>a===n[u])?e[e.length-1]-n[n.length-1]:0}function Rp(e,n,i){let{routesMeta:a}=e,u={},f="/",g=[];for(let C=0;C<a.length;++C){let m=a[C],p=C===a.length-1,E=f==="/"?n:n.slice(f.length)||"/",A=Dp({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},E),N=m.route;if(!A)return null;Object.assign(u,A.params),g.push({params:u,pathname:Rr([f,A.pathname]),pathnameBase:jp(Rr([f,A.pathnameBase])),route:N}),A.pathnameBase!=="/"&&(f=Rr([f,A.pathnameBase]))}return g}function Dp(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=bp(e.path,e.caseSensitive,e.end),u=n.match(i);if(!u)return null;let f=u[0],g=f.replace(/(.)\/+$/,"$1"),C=u.slice(1);return{params:a.reduce((p,E,A)=>{let{paramName:N,isOptional:b}=E;if(N==="*"){let B=C[A]||"";g=f.slice(0,f.length-B.length).replace(/(.)\/+$/,"$1")}const k=C[A];return b&&!k?p[N]=void 0:p[N]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:g,pattern:e}}function bp(e,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),Su(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,C,m)=>(a.push({paramName:C,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),a]}function Lp(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Su(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function vu(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}const kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bp=e=>kp.test(e);function Pp(e,n){n===void 0&&(n="/");let{pathname:i,search:a="",hash:u=""}=typeof e=="string"?Ki(e):e,f;if(i)if(Bp(i))f=i;else{if(i.includes("//")){let g=i;i=i.replace(/\/\/+/g,"/"),Su(!1,"Pathnames cannot have embedded double slashes - normalizing "+(g+" -> "+i))}i.startsWith("/")?f=u0(i.substring(1),"/"):f=u0(i,n)}else f=n;return{pathname:f,search:Up(a),hash:zp(u)}}function u0(e,n){let i=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Ol(e,n,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fp(e){return e.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Iu(e,n){let i=Fp(e);return n?i.map((a,u)=>u===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function Nu(e,n,i,a){a===void 0&&(a=!1);let u;typeof e=="string"?u=Ki(e):(u=qs({},e),ct(!u.pathname||!u.pathname.includes("?"),Ol("?","pathname","search",u)),ct(!u.pathname||!u.pathname.includes("#"),Ol("#","pathname","hash",u)),ct(!u.search||!u.search.includes("#"),Ol("#","search","hash",u)));let f=e===""||u.pathname==="",g=f?"/":u.pathname,C;if(g==null)C=i;else{let A=n.length-1;if(!a&&g.startsWith("..")){let N=g.split("/");for(;N[0]==="..";)N.shift(),A-=1;u.pathname=N.join("/")}C=A>=0?n[A]:"/"}let m=Pp(u,C),p=g&&g!=="/"&&g.endsWith("/"),E=(f||g===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||E)&&(m.pathname+="/"),m}const Rr=e=>e.join("/").replace(/\/\/+/g,"/"),jp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Up=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qd=["post","put","patch","delete"];new Set(Qd);const Vp=["get",...Qd];new Set(Vp);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Js.apply(this,arguments)}const Tu=X.createContext(null),Wp=X.createContext(null),Fr=X.createContext(null),Pa=X.createContext(null),jr=X.createContext({outlet:null,matches:[],isDataRoute:!1}),Zd=X.createContext(null);function Gp(e,n){let{relative:i}=n===void 0?{}:n;qi()||ct(!1);let{basename:a,navigator:u}=X.useContext(Fr),{hash:f,pathname:g,search:C}=qd(e,{relative:i}),m=g;return a!=="/"&&(m=g==="/"?a:Rr([a,g])),u.createHref({pathname:m,search:C,hash:f})}function qi(){return X.useContext(Pa)!=null}function Ji(){return qi()||ct(!1),X.useContext(Pa).location}function Kd(e){X.useContext(Fr).static||X.useLayoutEffect(e)}function _u(){let{isDataRoute:e}=X.useContext(jr);return e?ix():Yp()}function Yp(){qi()||ct(!1);let e=X.useContext(Tu),{basename:n,future:i,navigator:a}=X.useContext(Fr),{matches:u}=X.useContext(jr),{pathname:f}=Ji(),g=JSON.stringify(Iu(u,i.v7_relativeSplatPath)),C=X.useRef(!1);return Kd(()=>{C.current=!0}),X.useCallback(function(p,E){if(E===void 0&&(E={}),!C.current)return;if(typeof p=="number"){a.go(p);return}let A=Nu(p,JSON.parse(g),f,E.relative==="path");e==null&&n!=="/"&&(A.pathname=A.pathname==="/"?n:Rr([n,A.pathname])),(E.replace?a.replace:a.push)(A,E.state,E)},[n,a,g,f,e])}function qd(e,n){let{relative:i}=n===void 0?{}:n,{future:a}=X.useContext(Fr),{matches:u}=X.useContext(jr),{pathname:f}=Ji(),g=JSON.stringify(Iu(u,a.v7_relativeSplatPath));return X.useMemo(()=>Nu(e,JSON.parse(g),f,i==="path"),[e,g,f,i])}function Xp(e,n){return Qp(e,n)}function Qp(e,n,i,a){qi()||ct(!1);let{navigator:u}=X.useContext(Fr),{matches:f}=X.useContext(jr),g=f[f.length-1],C=g?g.params:{};g&&g.pathname;let m=g?g.pathnameBase:"/";g&&g.route;let p=Ji(),E;if(n){var A;let U=typeof n=="string"?Ki(n):n;m==="/"||(A=U.pathname)!=null&&A.startsWith(m)||ct(!1),E=U}else E=p;let N=E.pathname||"/",b=N;if(m!=="/"){let U=m.replace(/^\//,"").split("/");b="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=Cp(e,{pathname:b}),B=$p(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},C,U.params),pathname:Rr([m,u.encodeLocation?u.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?m:Rr([m,u.encodeLocation?u.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),f,i,a);return n&&B?X.createElement(Pa.Provider,{value:{location:Js({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Ar.Pop}},B):B}function Zp(){let e=rx(),n=Hp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},n),i?X.createElement("pre",{style:u},i):null,null)}const Kp=X.createElement(Zp,null);class qp extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?X.createElement(jr.Provider,{value:this.props.routeContext},X.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jp(e){let{routeContext:n,match:i,children:a}=e,u=X.useContext(Tu);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),X.createElement(jr.Provider,{value:n},a)}function $p(e,n,i,a){var u;if(n===void 0&&(n=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var f;if(!i)return null;if(i.errors)e=i.matches;else if((f=a)!=null&&f.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let g=e,C=(u=i)==null?void 0:u.errors;if(C!=null){let E=g.findIndex(A=>A.route.id&&(C==null?void 0:C[A.route.id])!==void 0);E>=0||ct(!1),g=g.slice(0,Math.min(g.length,E+1))}let m=!1,p=-1;if(i&&a&&a.v7_partialHydration)for(let E=0;E<g.length;E++){let A=g[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(p=E),A.route.id){let{loaderData:N,errors:b}=i,k=A.route.loader&&N[A.route.id]===void 0&&(!b||b[A.route.id]===void 0);if(A.route.lazy||k){m=!0,p>=0?g=g.slice(0,p+1):g=[g[0]];break}}}return g.reduceRight((E,A,N)=>{let b,k=!1,B=null,U=null;i&&(b=C&&A.route.id?C[A.route.id]:void 0,B=A.route.errorElement||Kp,m&&(p<0&&N===0?(sx("route-fallback"),k=!0,U=null):p===N&&(k=!0,U=A.route.hydrateFallbackElement||null)));let R=n.concat(g.slice(0,N+1)),O=()=>{let M;return b?M=B:k?M=U:A.route.Component?M=X.createElement(A.route.Component,null):A.route.element?M=A.route.element:M=E,X.createElement(Jp,{match:A,routeContext:{outlet:E,matches:R,isDataRoute:i!=null},children:M})};return i&&(A.route.ErrorBoundary||A.route.errorElement||N===0)?X.createElement(qp,{location:i.location,revalidation:i.revalidation,component:B,error:b,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):O()},null)}var Jd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jd||{}),$d=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($d||{});function ex(e){let n=X.useContext(Tu);return n||ct(!1),n}function tx(e){let n=X.useContext(Wp);return n||ct(!1),n}function nx(e){let n=X.useContext(jr);return n||ct(!1),n}function eh(e){let n=nx(),i=n.matches[n.matches.length-1];return i.route.id||ct(!1),i.route.id}function rx(){var e;let n=X.useContext(Zd),i=tx(),a=eh();return n!==void 0?n:(e=i.errors)==null?void 0:e[a]}function ix(){let{router:e}=ex(Jd.UseNavigateStable),n=eh($d.UseNavigateStable),i=X.useRef(!1);return Kd(()=>{i.current=!0}),X.useCallback(function(u,f){f===void 0&&(f={}),i.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,Js({fromRouteId:n},f)))},[e,n])}const f0={};function sx(e,n,i){f0[e]||(f0[e]=!0)}function ox(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function th(e){let{to:n,replace:i,state:a,relative:u}=e;qi()||ct(!1);let{future:f,static:g}=X.useContext(Fr),{matches:C}=X.useContext(jr),{pathname:m}=Ji(),p=_u(),E=Nu(n,Iu(C,f.v7_relativeSplatPath),m,u==="path"),A=JSON.stringify(E);return X.useEffect(()=>p(JSON.parse(A),{replace:i,state:a,relative:u}),[p,A,u,i,a]),null}function $t(e){ct(!1)}function ax(e){let{basename:n="/",children:i=null,location:a,navigationType:u=Ar.Pop,navigator:f,static:g=!1,future:C}=e;qi()&&ct(!1);let m=n.replace(/^\/*/,"/"),p=X.useMemo(()=>({basename:m,navigator:f,static:g,future:Js({v7_relativeSplatPath:!1},C)}),[m,C,f,g]);typeof a=="string"&&(a=Ki(a));let{pathname:E="/",search:A="",hash:N="",state:b=null,key:k="default"}=a,B=X.useMemo(()=>{let U=vu(E,m);return U==null?null:{location:{pathname:U,search:A,hash:N,state:b,key:k},navigationType:u}},[m,E,A,N,b,k,u]);return B==null?null:X.createElement(Fr.Provider,{value:p},X.createElement(Pa.Provider,{children:i,value:B}))}function lx(e){let{children:n,location:i}=e;return Xp(Ic(n),i)}new Promise(()=>{});function Ic(e,n){n===void 0&&(n=[]);let i=[];return X.Children.forEach(e,(a,u)=>{if(!X.isValidElement(a))return;let f=[...n,u];if(a.type===X.Fragment){i.push.apply(i,Ic(a.props.children,f));return}a.type!==$t&&ct(!1),!a.props.index||!a.props.children||ct(!1);let g={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=Ic(a.props.children,f)),i.push(g)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Nc.apply(this,arguments)}function cx(e,n){if(e==null)return{};var i={},a=Object.keys(e),u,f;for(f=0;f<a.length;f++)u=a[f],!(n.indexOf(u)>=0)&&(i[u]=e[u]);return i}function ux(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fx(e,n){return e.button===0&&(!n||n==="_self")&&!ux(e)}const dx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hx="6";try{window.__reactRouterVersion=hx}catch{}const gx="startTransition",d0=sg[gx];function px(e){let{basename:n,children:i,future:a,window:u}=e,f=X.useRef();f.current==null&&(f.current=mp({window:u,v5Compat:!0}));let g=f.current,[C,m]=X.useState({action:g.action,location:g.location}),{v7_startTransition:p}=a||{},E=X.useCallback(A=>{p&&d0?d0(()=>m(A)):m(A)},[m,p]);return X.useLayoutEffect(()=>g.listen(E),[g,E]),X.useEffect(()=>ox(a),[a]),X.createElement(ax,{basename:n,children:i,location:C.location,navigationType:C.action,navigator:g,future:a})}const xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=X.forwardRef(function(n,i){let{onClick:a,relative:u,reloadDocument:f,replace:g,state:C,target:m,to:p,preventScrollReset:E,viewTransition:A}=n,N=cx(n,dx),{basename:b}=X.useContext(Fr),k,B=!1;if(typeof p=="string"&&mx.test(p)&&(k=p,xx))try{let M=new URL(window.location.href),j=p.startsWith("//")?new URL(M.protocol+p):new URL(p),$=vu(j.pathname,b);j.origin===M.origin&&$!=null?p=$+j.search+j.hash:B=!0}catch{}let U=Gp(p,{relative:u}),R=wx(p,{replace:g,state:C,target:m,preventScrollReset:E,relative:u,viewTransition:A});function O(M){a&&a(M),M.defaultPrevented||R(M)}return X.createElement("a",Nc({},N,{href:k||U,onClick:B||f?a:O,ref:i,target:m}))});var h0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var g0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));function wx(e,n){let{target:i,replace:a,state:u,preventScrollReset:f,relative:g,viewTransition:C}=n===void 0?{}:n,m=_u(),p=Ji(),E=qd(e,{relative:g});return X.useCallback(A=>{if(fx(A,i)){A.preventDefault();let N=a!==void 0?a:ma(p)===ma(E);m(e,{replace:N,state:u,preventScrollReset:f,relative:g,viewTransition:C})}},[p,m,E,a,u,i,e,f,g,C])}const nh=X.createContext();function Ur(){return X.useContext(nh)}function yx({children:e}){const[n,i]=X.useState(null),[a,u]=X.useState(!0);X.useEffect(()=>{const m=localStorage.getItem("conference_user");if(m)try{i(JSON.parse(m))}catch(p){console.error("Error parsing saved user:",p)}u(!1)},[]);const C={user:n,login:m=>{i(m),localStorage.setItem("conference_user",JSON.stringify(m))},logout:()=>{i(null),localStorage.removeItem("conference_user")},loading:a,isAdmin:n&&"admin@example.com,your-email@gmail.com".split(",").includes(n.email)};return w.jsx(nh.Provider,{value:C,children:e})}function Cx(){const{login:e,user:n}=Ur(),i=_u(),a=X.useCallback(u=>{try{const f=JSON.parse(atob(u.credential.split(".")[1])),g={id:f.sub,name:f.name,email:f.email,picture:f.picture,token:u.credential};e(g),i("/")}catch(f){console.error("Error handling credential response:",f),alert("Failed to sign in. Please try again.")}},[e,i]);return X.useEffect(()=>{n&&i("/");const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",u.async=!0,u.defer=!0,document.body.appendChild(u),u.onload=()=>{window.google&&(window.google.accounts.id.initialize({client_id:"105129493738-vdfuc5mc611eocn1elrvsdf1a9a9l4qf.apps.googleusercontent.com",callback:a}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",width:"100%",text:"signin_with"}))},()=>{u.parentNode&&u.parentNode.removeChild(u)}},[n,i,a]),w.jsx("div",{className:"login-page",children:w.jsxs("div",{className:"login-container",children:[w.jsxs("div",{className:"login-header",children:[w.jsx("h1",{children:"Conference Networking"}),w.jsx("p",{children:"Connect with fellow attendees using QR codes"})]}),w.jsxs("div",{className:"login-card",children:[w.jsx("h2",{children:"Sign in to continue"}),w.jsx("div",{id:"google-signin-button",className:"google-signin-wrapper"}),!1]}),w.jsxs("div",{className:"login-info",children:[w.jsx("h3",{children:"Features:"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Create your digital business card"}),w.jsx("li",{children:"Scan QR codes to exchange cards"}),w.jsx("li",{children:"View all collected contacts"}),w.jsx("li",{children:"Check conference schedule"}),w.jsx("li",{children:"Access conference information"})]})]})]})})}function Xn(){const e=Ji(),{user:n,logout:i,isAdmin:a}=Ur(),u=[{path:"/",label:"Home",icon:""},{path:"/research",label:"Research",icon:""},{path:"/booths",label:"Booths",icon:""},{path:"/sharktank",label:"Pitch",icon:""},{path:"/auditorium",label:"Auditorium",icon:""}];return a&&u.push({path:"/admin",label:"Admin",icon:""}),w.jsx("nav",{className:"navigation",children:w.jsxs("div",{className:"nav-content",children:[w.jsx("div",{className:"nav-user",children:n&&w.jsxs(w.Fragment,{children:[w.jsx("img",{src:n.picture||"/default-avatar.png",alt:n.name,className:"nav-avatar"}),w.jsx("span",{className:"nav-username",children:n.name})]})}),w.jsx("div",{className:"nav-links",children:u.map(f=>w.jsxs(En,{to:f.path,className:`nav-link ${e.pathname===f.path?"active":""}`,children:[w.jsx("span",{className:"nav-icon",children:f.icon}),w.jsx("span",{className:"nav-label",children:f.label})]},f.path))}),w.jsx("button",{onClick:i,className:"btn-secondary nav-logout",children:"Logout"})]})})}function Ex(){var f;const{user:e}=Ur(),n=JSON.parse(localStorage.getItem("collected_cards")||"[]"),i=JSON.parse(localStorage.getItem("booth_progress")||"{}"),a=10,u=[{title:"Create/Edit Card",description:"Set up your digital business card",icon:"",link:"/card",color:"#1a73e8"},{title:"Scan QR Code",description:"Scan to receive someone's card",icon:"",link:"/scan",color:"#34a853"},{title:"My Contacts",description:`${n.length} collected card${n.length!==1?"s":""}`,icon:"",link:"/cards",color:"#fbbc04"},{title:"Schedule",description:"View conference events",icon:"",link:"/schedule",color:"#ea4335"}];return w.jsxs("div",{className:"dashboard",children:[w.jsxs("div",{className:"dashboard-header",children:[w.jsxs("h1",{children:["Welcome back, ",(f=e==null?void 0:e.name)==null?void 0:f.split(" ")[0],"!"]}),w.jsx("p",{children:"Ready to network at the conference?"})]}),w.jsxs("div",{className:"dashboard-content",children:[w.jsx("div",{className:"quick-actions",children:u.map((g,C)=>w.jsxs(En,{to:g.link,className:"action-card",children:[w.jsx("div",{className:"action-icon",style:{backgroundColor:`${g.color}20`,color:g.color},children:g.icon}),w.jsxs("div",{className:"action-content",children:[w.jsx("h3",{children:g.title}),w.jsx("p",{children:g.description})]}),w.jsx("div",{className:"action-arrow",children:""})]},C))}),w.jsx("div",{className:"dashboard-stats",children:w.jsxs("div",{className:"stat-card",children:[w.jsx("div",{className:"stat-value",children:n.length}),w.jsx("div",{className:"stat-label",children:"Cards Collected"})]})}),w.jsxs("div",{className:"booth-wallet-section",children:[w.jsx("h2",{children:"Booth Wallet & Passport"}),w.jsx("p",{className:"wallet-description",children:"Scan QR codes at booths and posters to register your visit. Collect them all for a surprise!"}),w.jsxs("div",{className:"passport-container",children:[w.jsxs("div",{className:"passport-group",children:[w.jsxs("div",{className:"group-header",children:[w.jsx("h3",{children:"Booths & Posters"}),w.jsxs("span",{className:"progress-count",children:[Object.keys(i).length," / ",a]})]}),w.jsx("div",{className:"progress-bar-bg",children:w.jsx("div",{className:"progress-bar-fill",style:{width:`${Object.keys(i).length/a*100}%`}})})]}),Object.keys(i).length===a&&w.jsx("div",{className:"raffle-notice animate-bounce",children:" Passport Complete! Your business card has been entered into the raffle."})]})]})]}),w.jsx(Xn,{})]})}var Ax=Object.defineProperty,wa=Object.getOwnPropertySymbols,rh=Object.prototype.hasOwnProperty,ih=Object.prototype.propertyIsEnumerable,p0=(e,n,i)=>n in e?Ax(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Sx=(e,n)=>{for(var i in n||(n={}))rh.call(n,i)&&p0(e,i,n[i]);if(wa)for(var i of wa(n))ih.call(n,i)&&p0(e,i,n[i]);return e},vx=(e,n)=>{var i={};for(var a in e)rh.call(e,a)&&n.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&wa)for(var a of wa(e))n.indexOf(a)<0&&ih.call(e,a)&&(i[a]=e[a]);return i};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var oi;(e=>{const n=class{constructor(m,p,E,A){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<n.MIN_VERSION||m>n.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let N=[];for(let k=0;k<this.size;k++)N.push(!1);for(let k=0;k<this.size;k++)this.modules.push(N.slice()),this.isFunction.push(N.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(E);if(this.drawCodewords(b),A==-1){let k=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const U=this.getPenaltyScore();U<k&&(A=B,k=U),this.applyMask(B)}}f(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(m,p){const E=e.QrSegment.makeSegments(m);return n.encodeSegments(E,p)}static encodeBinary(m,p){const E=e.QrSegment.makeBytes(m);return n.encodeSegments([E],p)}static encodeSegments(m,p,E=1,A=40,N=-1,b=!0){if(!(n.MIN_VERSION<=E&&E<=A&&A<=n.MAX_VERSION)||N<-1||N>7)throw new RangeError("Invalid value");let k,B;for(k=E;;k++){const M=n.getNumDataCodewords(k,p)*8,j=C.getTotalBits(m,k);if(j<=M){B=j;break}if(k>=A)throw new RangeError("Data too long")}for(const M of[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH])b&&B<=n.getNumDataCodewords(k,M)*8&&(p=M);let U=[];for(const M of m){a(M.mode.modeBits,4,U),a(M.numChars,M.mode.numCharCountBits(k),U);for(const j of M.getData())U.push(j)}f(U.length==B);const R=n.getNumDataCodewords(k,p)*8;f(U.length<=R),a(0,Math.min(4,R-U.length),U),a(0,(8-U.length%8)%8,U),f(U.length%8==0);for(let M=236;U.length<R;M^=253)a(M,8,U);let O=[];for(;O.length*8<U.length;)O.push(0);return U.forEach((M,j)=>O[j>>>3]|=M<<7-(j&7)),new n(k,p,O,N)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let E=0;E<p;E++)for(let A=0;A<p;A++)E==0&&A==0||E==0&&A==p-1||E==p-1&&A==0||this.drawAlignmentPattern(m[E],m[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let E=p;for(let N=0;N<10;N++)E=E<<1^(E>>>9)*1335;const A=(p<<10|E)^21522;f(A>>>15==0);for(let N=0;N<=5;N++)this.setFunctionModule(8,N,u(A,N));this.setFunctionModule(8,7,u(A,6)),this.setFunctionModule(8,8,u(A,7)),this.setFunctionModule(7,8,u(A,8));for(let N=9;N<15;N++)this.setFunctionModule(14-N,8,u(A,N));for(let N=0;N<8;N++)this.setFunctionModule(this.size-1-N,8,u(A,N));for(let N=8;N<15;N++)this.setFunctionModule(8,this.size-15+N,u(A,N));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let E=0;E<12;E++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;f(p>>>18==0);for(let E=0;E<18;E++){const A=u(p,E),N=this.size-11+E%3,b=Math.floor(E/3);this.setFunctionModule(N,b,A),this.setFunctionModule(b,N,A)}}drawFinderPattern(m,p){for(let E=-4;E<=4;E++)for(let A=-4;A<=4;A++){const N=Math.max(Math.abs(A),Math.abs(E)),b=m+A,k=p+E;0<=b&&b<this.size&&0<=k&&k<this.size&&this.setFunctionModule(b,k,N!=2&&N!=4)}}drawAlignmentPattern(m,p){for(let E=-2;E<=2;E++)for(let A=-2;A<=2;A++)this.setFunctionModule(m+A,p+E,Math.max(Math.abs(A),Math.abs(E))!=1)}setFunctionModule(m,p,E){this.modules[p][m]=E,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,E=this.errorCorrectionLevel;if(m.length!=n.getNumDataCodewords(p,E))throw new RangeError("Invalid argument");const A=n.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][p],N=n.ECC_CODEWORDS_PER_BLOCK[E.ordinal][p],b=Math.floor(n.getNumRawDataModules(p)/8),k=A-b%A,B=Math.floor(b/A);let U=[];const R=n.reedSolomonComputeDivisor(N);for(let M=0,j=0;M<A;M++){let $=m.slice(j,j+B-N+(M<k?0:1));j+=$.length;const J=n.reedSolomonComputeRemainder($,R);M<k&&$.push(0),U.push($.concat(J))}let O=[];for(let M=0;M<U[0].length;M++)U.forEach((j,$)=>{(M!=B-N||$>=k)&&O.push(j[M])});return f(O.length==b),O}drawCodewords(m){if(m.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let A=0;A<this.size;A++)for(let N=0;N<2;N++){const b=E-N,B=(E+1&2)==0?this.size-1-A:A;!this.isFunction[B][b]&&p<m.length*8&&(this.modules[B][b]=u(m[p>>>3],7-(p&7)),p++)}}f(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let E=0;E<this.size;E++){let A;switch(m){case 0:A=(E+p)%2==0;break;case 1:A=p%2==0;break;case 2:A=E%3==0;break;case 3:A=(E+p)%3==0;break;case 4:A=(Math.floor(E/3)+Math.floor(p/2))%2==0;break;case 5:A=E*p%2+E*p%3==0;break;case 6:A=(E*p%2+E*p%3)%2==0;break;case 7:A=((E+p)%2+E*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][E]&&A&&(this.modules[p][E]=!this.modules[p][E])}}getPenaltyScore(){let m=0;for(let N=0;N<this.size;N++){let b=!1,k=0,B=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[N][U]==b?(k++,k==5?m+=n.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,B),b||(m+=this.finderPenaltyCountPatterns(B)*n.PENALTY_N3),b=this.modules[N][U],k=1);m+=this.finderPenaltyTerminateAndCount(b,k,B)*n.PENALTY_N3}for(let N=0;N<this.size;N++){let b=!1,k=0,B=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[U][N]==b?(k++,k==5?m+=n.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,B),b||(m+=this.finderPenaltyCountPatterns(B)*n.PENALTY_N3),b=this.modules[U][N],k=1);m+=this.finderPenaltyTerminateAndCount(b,k,B)*n.PENALTY_N3}for(let N=0;N<this.size-1;N++)for(let b=0;b<this.size-1;b++){const k=this.modules[N][b];k==this.modules[N][b+1]&&k==this.modules[N+1][b]&&k==this.modules[N+1][b+1]&&(m+=n.PENALTY_N2)}let p=0;for(const N of this.modules)p=N.reduce((b,k)=>b+(k?1:0),p);const E=this.size*this.size,A=Math.ceil(Math.abs(p*20-E*10)/E)-1;return f(0<=A&&A<=9),m+=A*n.PENALTY_N4,f(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let E=[6];for(let A=this.size-7;E.length<m;A-=p)E.splice(1,0,A);return E}}static getNumRawDataModules(m){if(m<n.MIN_VERSION||m>n.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const E=Math.floor(m/7)+2;p-=(25*E-10)*E-55,m>=7&&(p-=36)}return f(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(n.getNumRawDataModules(m)/8)-n.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*n.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let A=0;A<m-1;A++)p.push(0);p.push(1);let E=1;for(let A=0;A<m;A++){for(let N=0;N<p.length;N++)p[N]=n.reedSolomonMultiply(p[N],E),N+1<p.length&&(p[N]^=p[N+1]);E=n.reedSolomonMultiply(E,2)}return p}static reedSolomonComputeRemainder(m,p){let E=p.map(A=>0);for(const A of m){const N=A^E.shift();E.push(0),p.forEach((b,k)=>E[k]^=n.reedSolomonMultiply(b,N))}return E}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let E=0;for(let A=7;A>=0;A--)E=E<<1^(E>>>7)*285,E^=(p>>>A&1)*m;return f(E>>>8==0),E}finderPenaltyCountPatterns(m){const p=m[1];f(p<=this.size*3);const E=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(E&&m[0]>=p*4&&m[6]>=p?1:0)+(E&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,E){return m&&(this.finderPenaltyAddHistory(p,E),p=0),p+=this.size,this.finderPenaltyAddHistory(p,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};let i=n;i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=i;function a(m,p,E){if(p<0||p>31||m>>>p)throw new RangeError("Value out of range");for(let A=p-1;A>=0;A--)E.push(m>>>A&1)}function u(m,p){return(m>>>p&1)!=0}function f(m){if(!m)throw new Error("Assertion error")}const g=class{constructor(m,p,E){if(this.mode=m,this.numChars=p,this.bitData=E,p<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(m){let p=[];for(const E of m)a(E,8,p);return new g(g.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!g.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let E=0;E<m.length;){const A=Math.min(m.length-E,3);a(parseInt(m.substr(E,A),10),A*3+1,p),E+=A}return new g(g.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!g.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],E;for(E=0;E+2<=m.length;E+=2){let A=g.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E))*45;A+=g.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E+1)),a(A,11,p)}return E<m.length&&a(g.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E)),6,p),new g(g.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:g.isNumeric(m)?[g.makeNumeric(m)]:g.isAlphanumeric(m)?[g.makeAlphanumeric(m)]:[g.makeBytes(g.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)a(m,8,p);else if(m<16384)a(2,2,p),a(m,14,p);else if(m<1e6)a(6,3,p),a(m,21,p);else throw new RangeError("ECI assignment value out of range");return new g(g.Mode.ECI,0,p)}static isNumeric(m){return g.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return g.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let E=0;for(const A of m){const N=A.mode.numCharCountBits(p);if(A.numChars>=1<<N)return 1/0;E+=4+N+A.bitData.length}return E}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let E=0;E<m.length;E++)m.charAt(E)!="%"?p.push(m.charCodeAt(E)):(p.push(parseInt(m.substr(E+1,2),16)),E+=2);return p}};let C=g;C.NUMERIC_REGEX=/^[0-9]*$/,C.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,C.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=C})(oi||(oi={}));(e=>{(n=>{const i=class{constructor(u,f){this.ordinal=u,this.formatBits=f}};let a=i;a.LOW=new i(0,1),a.MEDIUM=new i(1,0),a.QUARTILE=new i(2,3),a.HIGH=new i(3,2),n.Ecc=a})(e.QrCode||(e.QrCode={}))})(oi||(oi={}));(e=>{(n=>{const i=class{constructor(u,f){this.modeBits=u,this.numBitsCharCount=f}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};let a=i;a.NUMERIC=new i(1,[10,12,14]),a.ALPHANUMERIC=new i(2,[9,11,13]),a.BYTE=new i(4,[8,16,16]),a.KANJI=new i(8,[8,10,12]),a.ECI=new i(7,[0,0,0]),n.Mode=a})(e.QrSegment||(e.QrSegment={}))})(oi||(oi={}));var vs=oi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ix={L:vs.QrCode.Ecc.LOW,M:vs.QrCode.Ecc.MEDIUM,Q:vs.QrCode.Ecc.QUARTILE,H:vs.QrCode.Ecc.HIGH},Nx=128,Tx="L",_x="#FFFFFF",Mx="#000000",Ox=!1,sh=4,Rx=.1;function Dx(e,n=0){const i=[];return e.forEach(function(a,u){let f=null;a.forEach(function(g,C){if(!g&&f!==null){i.push(`M${f+n} ${u+n}h${C-f}v1H${f+n}z`),f=null;return}if(C===a.length-1){if(!g)return;f===null?i.push(`M${C+n},${u+n} h1v1H${C+n}z`):i.push(`M${f+n},${u+n} h${C+1-f}v1H${f+n}z`);return}g&&f===null&&(f=C)})}),i.join("")}function bx(e,n){return e.slice().map((i,a)=>a<n.y||a>=n.y+n.h?i:i.map((u,f)=>f<n.x||f>=n.x+n.w?u:!1))}function Lx(e,n,i,a){if(a==null)return null;const u=i?sh:0,f=e.length+u*2,g=Math.floor(n*Rx),C=f/n,m=(a.width||g)*C,p=(a.height||g)*C,E=a.x==null?e.length/2-m/2:a.x*C,A=a.y==null?e.length/2-p/2:a.y*C;let N=null;if(a.excavate){let b=Math.floor(E),k=Math.floor(A),B=Math.ceil(m+E-b),U=Math.ceil(p+A-k);N={x:b,y:k,w:B,h:U}}return{x:E,y:A,h:p,w:m,excavation:N}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function kx(e){const n=e,{value:i,size:a=Nx,level:u=Tx,bgColor:f=_x,fgColor:g=Mx,includeMargin:C=Ox,imageSettings:m}=n,p=vx(n,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let E=vs.QrCode.encodeText(i,Ix[u]).getModules();const A=C?sh:0,N=E.length+A*2,b=Lx(E,a,C,m);let k=null;m!=null&&b!=null&&(b.excavation!=null&&(E=bx(E,b.excavation)),k=Ci.createElement("image",{xlinkHref:m.src,height:b.h,width:b.w,x:b.x+A,y:b.y+A,preserveAspectRatio:"none"}));const B=Dx(E,A);return Ci.createElement("svg",Sx({height:a,width:a,viewBox:`0 0 ${N} ${N}`},p),Ci.createElement("path",{fill:f,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),Ci.createElement("path",{fill:g,d:B,shapeRendering:"crispEdges"}),k)}function Bx(){const{user:e}=Ur(),[n,i]=X.useState({name:(e==null?void 0:e.name)||"",title:"",company:"",email:(e==null?void 0:e.email)||"",phone:"",linkedin:"",website:"",resume:"",bio:""}),[a,u]=X.useState(!1),[f,g]=X.useState(!1);X.useEffect(()=>{const A=localStorage.getItem("my_business_card");if(A)try{const N=JSON.parse(A);i({...n,...N})}catch(N){console.error("Error loading saved card:",N)}},[]);const C=A=>{const{name:N,value:b}=A.target;i(k=>({...k,[N]:b})),g(!1)},m=()=>{localStorage.setItem("my_business_card",JSON.stringify(n)),g(!0),setTimeout(()=>g(!1),3e3)},p=()=>JSON.stringify({...n,userId:e==null?void 0:e.id,timestamp:new Date().toISOString()}),E=`${window.location.origin}/card-view?data=${encodeURIComponent(p())}`;return w.jsxs("div",{className:"business-card-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("div",{className:"container",children:w.jsx("h1",{children:"My Business Card"})})]}),w.jsx("div",{className:"container",children:w.jsxs("div",{className:"card-form-section",children:[w.jsxs("div",{className:"card",children:[w.jsx("h2",{children:"Card Information"}),w.jsxs("form",{onSubmit:A=>{A.preventDefault(),m()},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Full Name *"}),w.jsx("input",{type:"text",name:"name",value:n.name,onChange:C,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Job Title"}),w.jsx("input",{type:"text",name:"title",value:n.title,onChange:C,placeholder:"e.g., Software Engineer"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Company"}),w.jsx("input",{type:"text",name:"company",value:n.company,onChange:C,placeholder:"e.g., Tech Corp"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Email *"}),w.jsx("input",{type:"email",name:"email",value:n.email,onChange:C,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Phone"}),w.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:C,placeholder:"+1 (555) 123-4567"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"LinkedIn"}),w.jsx("input",{type:"url",name:"linkedin",value:n.linkedin,onChange:C,placeholder:"https://linkedin.com/in/yourprofile"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Website"}),w.jsx("input",{type:"url",name:"website",value:n.website,onChange:C,placeholder:"https://yourwebsite.com"})]}),w.jsxs("div",{className:"form-group resume-group",children:[w.jsx("label",{children:"Resume Link (Published URL) "}),w.jsx("div",{className:"instruction-text",children:"Make sure your resume is ready as a shared/published link (e.g., Google Drive, Dropbox, or personal site)."}),w.jsx("input",{type:"url",name:"resume",value:n.resume,onChange:C,placeholder:"https://drive.google.com/..."})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Bio"}),w.jsx("textarea",{name:"bio",value:n.bio,onChange:C,rows:"4",placeholder:"A brief introduction about yourself..."})]}),w.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:f?" Saved!":"Save Card"})]})]}),w.jsxs("div",{className:"card",children:[w.jsx("h2",{children:"Share Your Card"}),w.jsx("p",{className:"card-description",children:"Save your card to generate a QR code that others can scan to get your contact information."}),n.name&&n.email?w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>u(!a),className:"btn-secondary",style:{width:"100%",marginBottom:"16px"},children:[a?"Hide":"Show"," QR Code"]}),a&&w.jsxs("div",{className:"qr-display",children:[w.jsx("div",{className:"qr-code-container",children:w.jsx(kx,{value:E,size:256,level:"H",includeMargin:!0})}),w.jsx("p",{className:"qr-instruction",children:"Others can scan this code to get your business card"}),w.jsx("button",{onClick:()=>{navigator.clipboard.writeText(E),alert("Card URL copied to clipboard!")},className:"btn-secondary",style:{width:"100%"},children:"Copy Link"})]})]}):w.jsx("p",{className:"card-warning",children:"Please fill in at least your name and email to generate a QR code."})]}),w.jsxs("div",{className:"card-preview",children:[w.jsx("h2",{children:"Card Preview"}),w.jsxs("div",{className:"preview-card",children:[w.jsxs("div",{className:"preview-header",children:[(e==null?void 0:e.picture)&&w.jsx("img",{src:e.picture,alt:n.name,className:"preview-avatar"}),w.jsxs("div",{className:"preview-name-section",children:[w.jsx("h3",{children:n.name||"Your Name"}),n.title&&w.jsx("p",{className:"preview-title",children:n.title}),n.company&&w.jsx("p",{className:"preview-company",children:n.company})]})]}),n.bio&&w.jsx("div",{className:"preview-bio",children:w.jsx("p",{children:n.bio})}),w.jsxs("div",{className:"preview-contact",children:[n.email&&w.jsxs("div",{className:"preview-contact-item",children:[w.jsx("span",{children:""}),w.jsx("a",{href:`mailto:${n.email}`,children:n.email})]}),n.phone&&w.jsxs("div",{className:"preview-contact-item",children:[w.jsx("span",{children:""}),w.jsx("a",{href:`tel:${n.phone}`,children:n.phone})]}),n.linkedin&&w.jsxs("div",{className:"preview-contact-item",children:[w.jsx("span",{children:""}),w.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),n.website&&w.jsxs("div",{className:"preview-contact-item",children:[w.jsx("span",{children:""}),w.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",children:"Website"})]}),n.resume&&w.jsxs("div",{className:"preview-contact-item",children:[w.jsx("span",{children:""}),w.jsx("a",{href:n.resume,target:"_blank",rel:"noopener noreferrer",children:"Resume"})]})]})]})]})]})}),w.jsx(Xn,{})]})}var ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var x0=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),m0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(m0||(m0={}));function Px(e){return Object.values(ie).includes(e)}var Lr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Lr||(Lr={}));var _n=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Lr.SCAN_TYPE_CAMERA,Lr.SCAN_TYPE_FILE],e}(),oh=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!x0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,x0.get(n))},e}(),w0=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Tc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Tc||(Tc={}));var ah=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Tc.UNKWOWN_ERROR}},e}(),lh=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Vn(e){return typeof e>"u"||e===null}function Fx(e,n,i){return e>i?i:e<n?n:e}var bi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),De=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),y0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),ch=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),g=Object.keys(n),C=0,m=g;C<m.length;C++){var p=m[C];if(f.has(p))return i.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),_c={exports:{}};(function(e,n){(function(i,a){a(n)})(fs,function(i){function a(S){return S==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var r in t)t.hasOwnProperty(r)&&(S[r]=t[r])};function f(S,t){u(S,t);function r(){this.constructor=S}S.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function g(S,t){var r=Object.setPrototypeOf;r?r(S,t):S.__proto__=t}function C(S,t){t===void 0&&(t=S.constructor);var r=Error.captureStackTrace;r&&r(S,t)}var m=function(S){f(t,S);function t(r){var s=this.constructor,o=S.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),g(o,s.prototype),C(o),o}return t}(Error);class p extends m{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}p.kind="Exception";class E extends p{}E.kind="ArgumentException";class A extends p{}A.kind="IllegalArgumentException";class N{constructor(t){if(this.binarizer=t,t===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const l=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new N(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends p{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class k{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(t,r,s,o,l){for(;l--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class U extends p{}U.kind="IndexOutOfBoundsException";class R extends U{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}R.kind="ArrayIndexOutOfBoundsException";class O{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){O.rangeCheck(t.length,r,s);for(let l=r;l<s;l++)t[l]=o}static rangeCheck(t,r,s){if(r>s)throw new A("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new R(r);if(s>t)throw new R(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,l=new Int32Array(o);return B.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,s){s===void 0&&(s=O.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const c=l+o>>1,d=s(r,t[c]);if(d>0)o=c+1;else if(d<0)l=c-1;else return c}return-o-1}static numberComparator(t,r){return t-r}}class M{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=j.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=j.makeArray(t);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=s[o];l&=~((1<<(t&31))-1);const c=s.length;for(;l===0;){if(++o===c)return r;l=s[o]}const d=o*32+M.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=~s[o];l&=~((1<<(t&31))-1);const c=s.length;for(;l===0;){if(++o===c)return r;l=~s[o]}const d=o*32+M.numberOfTrailingZeros(l);return d>r?r:d}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new A;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let c=s;c<=o;c++){const d=c>s?0:t&31,x=(2<<(c<o?31:r&31))-(1<<d);l[c]|=x}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new A;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),c=this.bits;for(let d=o;d<=l;d++){const h=d>o?0:t&31,y=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((c[d]&y)!==(s?y:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new A("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let l=0;l<o;l++){let c=0;for(let d=0;d<8;d++)this.get(t)&&(c|=1<<7-d),t++;r[s+l]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[r-l]=c}if(this.size!==s*32){const l=s*32-this.size;let c=t[0]>>>l;for(let d=1;d<s;d++){const h=t[d];c|=h<<32-l,t[d-1]=c,c=h>>>l}t[s-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof j))return!1;const r=t;return this.size===r.size&&O.equals(this.bits,r.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new j(this.size,this.bits.slice())}}var $;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var J=$;class V extends p{static getFormatInstance(){return new V}}V.kind="FormatException";var ee;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class G{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(s,this);const l=this.values;for(let c=0,d=l.length;c!==d;c++){const h=l[c];G.VALUES_TO_ECI.set(h,this)}for(const c of o)G.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new V("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new V("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new V("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(ee.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(ee.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(ee.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(ee.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(ee.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(ee.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(ee.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(ee.Big5,28,"Big5"),G.GB18030=new G(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(ee.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends p{}xe.kind="UnsupportedOperationException";class Fe{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!Fe.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(Fe.isDecodeFallbackSupported(s)){let o="";for(let l=0,c=t.length;l<c;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new xe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class ue{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return Fe.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(J.CHARACTER_SET)!==void 0)return r.get(J.CHARACTER_SET).toString();const s=t.length;let o=!0,l=!0,c=!0,d=0,h=0,x=0,y=0,v=0,I=0,_=0,D=0,L=0,P=0,H=0;const K=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let q=0;q<s&&(o||l||c);q++){const Q=t[q]&255;c&&(d>0?Q&128?d--:c=!1:Q&128&&(Q&64?(d++,Q&32?(d++,Q&16?(d++,Q&8?c=!1:y++):x++):h++):c=!1)),o&&(Q>127&&Q<160?o=!1:Q>159&&(Q<192||Q===215||Q===247)&&H++),l&&(v>0?Q<64||Q===127||Q>252?l=!1:v--:Q===128||Q===160||Q>239?l=!1:Q>160&&Q<224?(I++,D=0,_++,_>L&&(L=_)):Q>127?(v++,_=0,D++,D>P&&(P=D)):(_=0,D=0))}return c&&d>0&&(c=!1),l&&v>0&&(l=!1),c&&(K||h+x+y>0)?ue.UTF8:l&&(ue.ASSUME_SHIFT_JIS||L>=3||P>=3)?ue.SHIFT_JIS:o&&l?L===2&&I===2||H*10>=s?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:l?ue.SHIFT_JIS:c?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(c,d,h,x,y,v){if(c==="%%")return"%";if(r[++s]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let I=y?parseInt(y.substr(1)):void 0,_;switch(v){case"s":_=r[s];break;case"c":_=r[s][0];break;case"f":_=parseFloat(r[s]).toFixed(c);break;case"p":_=parseFloat(r[s]).toPrecision(c);break;case"e":_=parseFloat(r[s]).toExponential(c);break;case"x":_=parseInt(r[s]).toString(I||16);break;case"d":_=parseFloat(parseInt(r[s],I||10).toPrecision(c)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(I);let D=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;_.length<D;)_=d!==void 0?_+L:L+_;return _}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return Fe.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=G.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=G.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=G.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class Se{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class ot{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new A("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new ot(s,r);for(let l=0;l<r;l++){const c=t[l];for(let d=0;d<s;d++)c[d]&&o.set(d,l)}return o}static parseFromString(t,r,s){if(t===null)throw new A("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,c=0,d=-1,h=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new A("row lengths do not match");c=l,h++}x++}else if(t.substring(x,x+r.length)===r)x+=r.length,o[l]=!0,l++;else if(t.substring(x,x+s.length)===s)x+=s.length,o[l]=!1,l++;else throw new A("illegal character encountered: "+t.substring(x));if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new A("row lengths do not match");h++}const y=new ot(d,h);for(let v=0;v<l;v++)o[v]&&y.set(Math.floor(v%d),Math.floor(v/d));return y}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new A("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const d=l*s,h=t.getRow(l,r).getBitArray();for(let x=0;x<s;x++)o[d+x]^=h[x]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new A("Left and top must be nonnegative");if(o<1||s<1)throw new A("Height and width must be at least 1");const l=t+s,c=r+o;if(c>this.height||l>this.width)throw new A("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let x=r;x<c;x++){const y=x*d;for(let v=t;v<l;v++)h[y+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const s=this.rowSize,o=this.bits,l=t*s;for(let c=0;c<s;c++)r.setBulk(c*32,o[l+c]);return r}setRow(t,r){B.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new j(t),o=new j(t);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=t,c=r,d=-1,h=-1;for(let x=0;x<r;x++)for(let y=0;y<s;y++){const v=o[x*s+y];if(v!==0){if(x<c&&(c=x),x>h&&(h=x),y*32<l){let I=0;for(;!(v<<31-I&4294967295);)I++;y*32+I<l&&(l=y*32+I)}if(y*32+31>d){let I=31;for(;!(v>>>I);)I--;y*32+I>d&&(d=y*32+I)}}}return d<l||h<c?null:Int32Array.from([l,c,d-l+1,h-c+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let l=s%t*32;const c=r[s];let d=0;for(;!(c<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let l=Math.floor(s%t)*32;const c=r[s];let d=31;for(;!(c>>>d);)d--;return l+=d,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ot))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&O.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+O.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new Se;for(let l=0,c=this.height;l<c;l++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,l)?t:r);o.append(s)}return o.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends p{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class et extends k{constructor(t){super(t),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new j(o):r.clear(),this.initArrays(o);const l=s.getRow(t,this.luminances),c=this.buckets;for(let h=0;h<o;h++)c[(l[h]&255)>>et.LUMINANCE_SHIFT]++;const d=et.estimateBlackPoint(c);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,x=l[1]&255;for(let y=1;y<o-1;y++){const v=l[y+1]&255;(x*4-h-v)/2<d&&r.set(y),h=x,x=v}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new ot(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const x=Math.floor(s*h/5),y=t.getRow(x,this.luminances),v=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<v;I++){const _=y[I]&255;l[_>>et.LUMINANCE_SHIFT]++}}const c=et.estimateBlackPoint(l),d=t.getMatrix();for(let h=0;h<s;h++){const x=h*r;for(let y=0;y<r;y++)(d[x+y]&255)<c&&o.set(y,h)}return o}createBinarizer(t){return new et(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<et.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,l=0;for(let y=0;y<r;y++)t[y]>l&&(o=y,l=t[y]),t[y]>s&&(s=t[y]);let c=0,d=0;for(let y=0;y<r;y++){const v=y-o,I=t[y]*v*v;I>d&&(c=y,d=I)}if(o>c){const y=o;o=c,c=y}if(c-o<=r/16)throw new W;let h=c-1,x=-1;for(let y=c-1;y>o;y--){const v=y-o,I=v*v*(c-y)*(s-t[y]);I>x&&(h=y,x=I)}return h<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class pe extends et{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=pe.MINIMUM_DIMENSION&&s>=pe.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>pe.BLOCK_SIZE_POWER;r&pe.BLOCK_SIZE_MASK&&l++;let c=s>>pe.BLOCK_SIZE_POWER;s&pe.BLOCK_SIZE_MASK&&c++;const d=pe.calculateBlackPoints(o,l,c,r,s),h=new ot(r,s);pe.calculateThresholdForBlock(o,l,c,r,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new pe(t)}static calculateThresholdForBlock(t,r,s,o,l,c,d){const h=l-pe.BLOCK_SIZE,x=o-pe.BLOCK_SIZE;for(let y=0;y<s;y++){let v=y<<pe.BLOCK_SIZE_POWER;v>h&&(v=h);const I=pe.cap(y,2,s-3);for(let _=0;_<r;_++){let D=_<<pe.BLOCK_SIZE_POWER;D>x&&(D=x);const L=pe.cap(_,2,r-3);let P=0;for(let K=-2;K<=2;K++){const q=c[I+K];P+=q[L-2]+q[L-1]+q[L]+q[L+1]+q[L+2]}const H=P/25;pe.thresholdBlock(t,D,v,H,o,d)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,l,c){for(let d=0,h=s*l+r;d<pe.BLOCK_SIZE;d++,h+=l)for(let x=0;x<pe.BLOCK_SIZE;x++)(t[h+x]&255)<=o&&c.set(r+x,s+d)}static calculateBlackPoints(t,r,s,o,l){const c=l-pe.BLOCK_SIZE,d=o-pe.BLOCK_SIZE,h=new Array(s);for(let x=0;x<s;x++){h[x]=new Int32Array(r);let y=x<<pe.BLOCK_SIZE_POWER;y>c&&(y=c);for(let v=0;v<r;v++){let I=v<<pe.BLOCK_SIZE_POWER;I>d&&(I=d);let _=0,D=255,L=0;for(let H=0,K=y*o+I;H<pe.BLOCK_SIZE;H++,K+=o){for(let q=0;q<pe.BLOCK_SIZE;q++){const Q=t[K+q]&255;_+=Q,Q<D&&(D=Q),Q>L&&(L=Q)}if(L-D>pe.MIN_DYNAMIC_RANGE)for(H++,K+=o;H<pe.BLOCK_SIZE;H++,K+=o)for(let q=0;q<pe.BLOCK_SIZE;q++)_+=t[K+q]&255}let P=_>>pe.BLOCK_SIZE_POWER*2;if(L-D<=pe.MIN_DYNAMIC_RANGE&&(P=D/2,x>0&&v>0)){const H=(h[x-1][v]+2*h[x][v-1]+h[x-1][v-1])/4;D<H&&(P=H)}h[x][v]=P}}return h}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class ne{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Se;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let l=0;l<this.width;l++){const c=o[l]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class de extends ne{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new de(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class ge extends ne{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return ge.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,c=0,d=t.length;l<d;l+=4,c++){let h;if(t[l+3]===0)h=255;else{const y=t[l],v=t[l+1],I=t[l+2];h=306*y+601*v+117*I+512>>10}o[c]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*ge.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return r.width=d,r.height=h,s.translate(d/2,h/2),s.rotate(o),s.drawImage(this.canvas,l/-2,c/-2),this.buffer=ge.makeBufferFromCanvasImageData(r),this}invert(){return new de(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||fs||self||window||void 0)&&(globalThis||fs||self||window||void 0).__awaiter||function(S,t,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(y){try{x(s.next(y))}catch(v){c(v)}}function h(y){try{x(s.throw(y))}catch(v){c(v)}}function x(y){y.done?l(y.value):o(y.value).then(d,h)}x((s=s.apply(S,t||[])).next())})};class un{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,c=s.label||`Video device ${r.length+1}`,d=s.groupId,h={deviceId:l,label:c,kind:o,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ye(r.deviceId,r.label))})}findDeviceById(t){return ve(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ve(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return ve(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return ve(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return ve(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(t,r,s){return ve(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return ve(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ve(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new E(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const h=r&&d instanceof W,y=(d instanceof b||d instanceof V)&&s;if(h||y)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(d)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof b||o instanceof V,c=o instanceof W;(l||c)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new ge(r),o=new pe(s);return new N(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ze{constructor(t,r,s=r==null?0:8*r.length,o,l,c=B.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=B.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);B.arraycopy(r,0,s,0,r.length),B.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var zr;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(zr||(zr={}));var ae=zr,or;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(or||(or={}));var mt=or;class $i{constructor(t,r,s,o,l=-1,c=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class es{exp(t){return this.expTable[t]}log(t){if(t===0)throw new A;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class zt{constructor(t,r){if(r.length===0)throw new A;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),B.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let c=0,d=r.length;c!==d;c++){const h=r[c];s=es.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,l=this.field;for(let c=1;c<o;c++)s=es.addOrSubtract(l.multiply(t,s),r[c]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const c=r;r=s,s=c}let o=new Int32Array(s.length);const l=s.length-r.length;B.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=es.addOrSubtract(r[c-l],s[c]);return new zt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,c=new Int32Array(s+l-1),d=this.field;for(let h=0;h<s;h++){const x=r[h];for(let y=0;y<l;y++)c[h+y]=es.addOrSubtract(c[h+y],d.multiply(x,o[y]))}return new zt(d,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)o[c]=s.multiply(l[c],t);return new zt(s,o)}multiplyByMonomial(t,r){if(t<0)throw new A;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+t),c=this.field;for(let d=0;d<o;d++)l[d]=c.multiply(s[d],r);return new zt(c,l)}divide(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new A("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),c=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const d=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),c),x=t.multiplyByMonomial(d,h),y=r.buildMonomial(d,h);s=s.addOrSubtract(y),o=o.addOrSubtract(x)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class io extends p{}io.kind="ArithmeticException";class _e extends es{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let d=0;d<r;d++)o[d]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const c=new Int32Array(r);for(let d=0;d<r-1;d++)c[o[d]]=d;this.logTable=c,this.zero=new zt(this,Int32Array.from([0])),this.one=new zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new A;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new zt(this,s)}inverse(t){if(t===0)throw new io;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}_e.AZTEC_DATA_12=new _e(4201,4096,1),_e.AZTEC_DATA_10=new _e(1033,1024,1),_e.AZTEC_DATA_6=new _e(67,64,1),_e.AZTEC_PARAM=new _e(19,16,1),_e.QR_CODE_FIELD_256=new _e(285,256,0),_e.DATA_MATRIX_FIELD_256=new _e(301,256,1),_e.AZTEC_DATA_8=_e.DATA_MATRIX_FIELD_256,_e.MAXICODE_FIELD_64=_e.AZTEC_DATA_6;class ci extends p{}ci.kind="ReedSolomonException";class bn extends p{}bn.kind="IllegalStateException";class ts{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new zt(s,t),l=new Int32Array(r);let c=!0;for(let _=0;_<r;_++){const D=o.evaluateAt(s.exp(_+s.getGeneratorBase()));l[l.length-1-_]=D,D!==0&&(c=!1)}if(c)return;const d=new zt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),x=h[0],y=h[1],v=this.findErrorLocations(x),I=this.findErrorMagnitudes(y,v);for(let _=0;_<v.length;_++){const D=t.length-1-s.log(v[_]);if(D<0)throw new ci("Bad error location");t[D]=_e.addOrSubtract(t[D],I[_])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const _=t;t=r,r=_}const o=this.field;let l=t,c=r,d=o.getZero(),h=o.getOne();for(;c.getDegree()>=(s/2|0);){let _=l,D=d;if(l=c,d=h,l.isZero())throw new ci("r_{i-1} was zero");c=_;let L=o.getZero();const P=l.getCoefficient(l.getDegree()),H=o.inverse(P);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const K=c.getDegree()-l.getDegree(),q=o.multiply(c.getCoefficient(c.getDegree()),H);L=L.addOrSubtract(o.buildMonomial(K,q)),c=c.addOrSubtract(l.multiplyByMonomial(K,q))}if(h=L.multiply(d).addOrSubtract(D),c.getDegree()>=l.getDegree())throw new bn("Division algorithm failed to reduce polynomial?")}const x=h.getCoefficient(0);if(x===0)throw new ci("sigmaTilde(0) was zero");const y=o.inverse(x),v=h.multiplyScalar(y),I=c.multiplyScalar(y);return[v,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<r;c++)t.evaluateAt(c)===0&&(s[o]=l.inverse(c),o++);if(o!==r)throw new ci("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let c=0;c<s;c++){const d=l.inverse(r[c]);let h=1;for(let x=0;x<s;x++)if(c!==x){const y=l.multiply(r[x],d),v=y&1?y&-2:y|1;h=l.multiply(h,v)}o[c]=l.multiply(t.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],d))}return o}}var At;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(At||(At={}));class je{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=je.convertBoolArrayToByteArray(o),c=je.getEncodedData(o),d=new $i(l,c,null,null);return d.setNumBits(o.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=At.UPPER,o=At.UPPER,l="",c=0;for(;c<r;)if(o===At.BINARY){if(r-c<5)break;let d=je.readCode(t,c,5);if(c+=5,d===0){if(r-c<11)break;d=je.readCode(t,c,11)+31,c+=11}for(let h=0;h<d;h++){if(r-c<8){c=r;break}const x=je.readCode(t,c,8);l+=ue.castAsNonUtf8Char(x),c+=8}o=s}else{let d=o===At.DIGIT?4:5;if(r-c<d)break;let h=je.readCode(t,c,d);c+=d;let x=je.getCharacter(o,h);x.startsWith("CTRL_")?(s=o,o=je.getTable(x.charAt(5)),x.charAt(6)==="L"&&(s=o)):(l+=x,o=s)}return l}static getTable(t){switch(t){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(t,r){switch(t){case At.UPPER:return je.UPPER_TABLE[r];case At.LOWER:return je.LOWER_TABLE[r];case At.MIXED:return je.MIXED_TABLE[r];case At.PUNCT:return je.PUNCT_TABLE[r];case At.DIGIT:return je.DIGIT_TABLE[r];default:throw new bn("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=_e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=_e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=_e.AZTEC_DATA_10):(s=12,r=_e.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/s;if(l<o)throw new V;let c=t.length%s,d=new Int32Array(l);for(let I=0;I<l;I++,c+=s)d[I]=je.readCode(t,c,s);try{new ts(r).decode(d,l-o)}catch(I){throw new V(I)}let h=(1<<s)-1,x=0;for(let I=0;I<o;I++){let _=d[I];if(_===0||_===h)throw new V;(_===1||_===h-1)&&x++}let y=new Array(o*s-x),v=0;for(let I=0;I<o;I++){let _=d[I];if(_===1||_===h-1)y.fill(_>1,v,v+s-1),v+=s-1;else for(let D=s-1;D>=0;--D)y[v++]=(_&1<<D)!==0}return y}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(s,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=o+1+2*M.truncDivision(M.truncDivision(o,2)-1,15),h=o/2,x=M.truncDivision(d,2);for(let y=0;y<h;y++){let v=y+M.truncDivision(y,15);l[h-y-1]=x-v-1,l[h+y]=x+v+1}}for(let d=0,h=0;d<s;d++){let x=(s-d)*4+(r?9:12),y=d*2,v=o-1-y;for(let I=0;I<x;I++){let _=I*2;for(let D=0;D<2;D++)c[h+_+D]=t.get(l[y+D],l[y+I]),c[h+2*x+_+D]=t.get(l[y+I],l[v-D]),c[h+4*x+_+D]=t.get(l[v-D],l[v-I]),c[h+6*x+_+D]=t.get(l[v-I],l[y+D])}h+=x*8}return c}static readCode(t,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?je.readCode(t,r,8):je.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=je.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const l=t-s,c=r-o;return Math.sqrt(l*l+c*c)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const l=t[s];r+=l}return r}}class so{static floatToIntBits(t){return t}}so.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof oe){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*so.floatToIntBits(this.x)+so.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,c,d;if(s>=r&&s>=o?(c=t[0],l=t[1],d=t[2]):o>=s&&o>=r?(c=t[1],l=t[0],d=t[2]):(c=t[2],l=t[0],d=t[1]),this.crossProductZ(l,c,d)<0){const h=l;l=d,d=h}t[0]=l,t[1]=c,t[2]=d}static distance(t,r){return Ie.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,l=r.y;return(s.x-o)*(t.y-l)-(s.y-l)*(t.x-o)}}class oo{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ru extends oo{constructor(t,r,s,o,l){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qn{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Qn.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,c=!0,d=!1,h=!1,x=!1,y=!1,v=!1;const I=this.width,_=this.height;for(;c;){c=!1;let D=!0;for(;(D||!h)&&r<I;)D=this.containsBlackPoint(s,o,r,!1),D?(r++,c=!0,h=!0):h||r++;if(r>=I){l=!0;break}let L=!0;for(;(L||!x)&&o<_;)L=this.containsBlackPoint(t,r,o,!0),L?(o++,c=!0,x=!0):x||o++;if(o>=_){l=!0;break}let P=!0;for(;(P||!y)&&t>=0;)P=this.containsBlackPoint(s,o,t,!1),P?(t--,c=!0,y=!0):y||t--;if(t<0){l=!0;break}let H=!0;for(;(H||!v)&&s>=0;)H=this.containsBlackPoint(t,r,s,!0),H?(s--,c=!0,v=!0):v||s--;if(s<0){l=!0;break}c&&(d=!0)}if(!l&&d){const D=r-t;let L=null;for(let q=1;L===null&&q<D;q++)L=this.getBlackPointOnSegment(t,o-q,t+q,o);if(L==null)throw new W;let P=null;for(let q=1;P===null&&q<D;q++)P=this.getBlackPointOnSegment(t,s+q,t+q,s);if(P==null)throw new W;let H=null;for(let q=1;H===null&&q<D;q++)H=this.getBlackPointOnSegment(r,s+q,r-q,s);if(H==null)throw new W;let K=null;for(let q=1;K===null&&q<D;q++)K=this.getBlackPointOnSegment(r,o-q,r-q,o);if(K==null)throw new W;return this.centerEdges(K,L,H,P)}else throw new W}getBlackPointOnSegment(t,r,s,o){const l=Ie.round(Ie.distance(t,r,s,o)),c=(s-t)/l,d=(o-r)/l,h=this.image;for(let x=0;x<l;x++){const y=Ie.round(t+x*c),v=Ie.round(r+x*d);if(h.get(y,v))return new oe(y,v)}return null}centerEdges(t,r,s,o){const l=t.getX(),c=t.getY(),d=r.getX(),h=r.getY(),x=s.getX(),y=s.getY(),v=o.getX(),I=o.getY(),_=Qn.CORR;return l<this.width/2?[new oe(v-_,I+_),new oe(d+_,h+_),new oe(x-_,y-_),new oe(l+_,c-_)]:[new oe(v+_,I+_),new oe(d+_,h-_),new oe(x-_,y+_),new oe(l-_,c-_)]}containsBlackPoint(t,r,s,o){const l=this.image;if(o){for(let c=t;c<=r;c++)if(l.get(c,s))return!0}else for(let c=t;c<=r;c++)if(l.get(s,c))return!0;return!1}}Qn.INIT_SIZE=10,Qn.CORR=1;class Fa{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>s||h<-1||h>o)throw new W;l=!1,d===-1?(r[c]=0,l=!0):d===s&&(r[c]=s-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===o&&(r[c+1]=o-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>s||h<-1||h>o)throw new W;l=!1,d===-1?(r[c]=0,l=!0):d===s&&(r[c]=s-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===o&&(r[c+1]=o-1,l=!0)}}}class An{constructor(t,r,s,o,l,c,d,h,x){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=c,this.a13=d,this.a23=h,this.a33=x}static quadrilateralToQuadrilateral(t,r,s,o,l,c,d,h,x,y,v,I,_,D,L,P){const H=An.quadrilateralToSquare(t,r,s,o,l,c,d,h);return An.squareToQuadrilateral(x,y,v,I,_,D,L,P).times(H)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,x=this.a31,y=this.a32,v=this.a33;for(let I=0;I<r;I+=2){const _=t[I],D=t[I+1],L=l*_+h*D+v;t[I]=(s*_+c*D+x)/L,t[I+1]=(o*_+d*D+y)/L}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,x=this.a31,y=this.a32,v=this.a33,I=t.length;for(let _=0;_<I;_++){const D=t[_],L=r[_],P=l*D+h*L+v;t[_]=(s*D+c*L+x)/P,r[_]=(o*D+d*L+y)/P}}static squareToQuadrilateral(t,r,s,o,l,c,d,h){const x=t-s+l-d,y=r-o+c-h;if(x===0&&y===0)return new An(s-t,l-s,t,o-r,c-o,r,0,0,1);{const v=s-l,I=d-l,_=o-c,D=h-c,L=v*D-I*_,P=(x*D-I*y)/L,H=(v*y-x*_)/L;return new An(s-t+P*s,d-t+H*d,t,o-r+P*o,h-r+H*h,r,P,H,1)}}static quadrilateralToSquare(t,r,s,o,l,c,d,h){return An.squareToQuadrilateral(t,r,s,o,l,c,d,h).buildAdjoint()}buildAdjoint(){return new An(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new An(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Du extends Fa{sampleGrid(t,r,s,o,l,c,d,h,x,y,v,I,_,D,L,P,H,K,q){const Q=An.quadrilateralToQuadrilateral(o,l,c,d,h,x,y,v,I,_,D,L,P,H,K,q);return this.sampleGridWithTransform(t,r,s,Q)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new W;const l=new ot(r,s),c=new Float32Array(2*r);for(let d=0;d<s;d++){const h=c.length,x=d+.5;for(let y=0;y<h;y+=2)c[y]=y/2+.5,c[y+1]=x;o.transformPoints(c),Fa.checkAndNudgePoints(t,c);try{for(let y=0;y<h;y+=2)t.get(Math.floor(c[y]),Math.floor(c[y+1]))&&l.set(y/2,d)}catch{throw new W}}return l}}class ar{static setGridSampler(t){ar.gridSampler=t}static getInstance(){return ar.gridSampler}}ar.gridSampler=new Du;class kt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bu{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let c=s[0];s[0]=s[2],s[2]=c}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new Ru(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let c=0;c<4;c++){let d=s[(this.shift+c)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,l,c)=>{let d=(o>>r-2<<1)+(o&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(M.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new W}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,c=new Int32Array(s);for(let h=s-1;h>=0;--h)c[h]=t&15,t>>=4;try{new ts(_e.AZTEC_PARAM).decode(c,l)}catch{throw new W}let d=0;for(let h=0;h<o;h++)d=(d<<4)+c[h];return d}getBullsEyeCorners(t){let r=t,s=t,o=t,l=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(r,c,1,-1),I=this.getFirstDifferent(s,c,1,1),_=this.getFirstDifferent(o,c,-1,1),D=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(D,v)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(v,I,_,D))break}r=v,s=I,o=_,l=D,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let d=new oe(r.getX()+.5,r.getY()-.5),h=new oe(s.getX()+.5,s.getY()+.5),x=new oe(o.getX()-.5,o.getY()+.5),y=new oe(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,x,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let d=new Qn(this.image).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{let h=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new kt(h+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(h+7,x+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new kt(h-7,x+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(h-7,x-7),!1,-1,-1).toResultPoint()}let l=Ie.round((t.getX()+o.getX()+r.getX()+s.getX())/4),c=Ie.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let d=new Qn(this.image,15,l,c).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{t=this.getFirstDifferent(new kt(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(l+7,c+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new kt(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ie.round((t.getX()+o.getX()+r.getX()+s.getX())/4),c=Ie.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new kt(l,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,l){let c=ar.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return c.sampleGrid(t,d,d,h,h,x,h,x,x,h,x,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,s){let o=0,l=this.distanceResultPoint(t,r),c=l/s,d=t.getX(),h=t.getY(),x=c*(r.getX()-t.getX())/l,y=c*(r.getY()-t.getY())/l;for(let v=0;v<s;v++)this.image.get(Ie.round(d+v*x),Ie.round(h+v*y))&&(o|=1<<s-v-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let l=3;t=new kt(t.getX()-l,t.getY()+l),r=new kt(r.getX()-l,r.getY()-l),s=new kt(s.getX()+l,s.getY()-l),o=new kt(o.getX()+l,o.getY()+l);let c=this.getColor(o,t);if(c===0)return!1;let d=this.getColor(t,r);return d!==c||(d=this.getColor(r,s),d!==c)?!1:(d=this.getColor(s,o),d===c)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,l=(r.getY()-t.getY())/s,c=0,d=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),y=Math.ceil(s);for(let I=0;I<y;I++)d+=o,h+=l,this.image.get(Ie.round(d),Ie.round(h))!==x&&c++;let v=c/s;return v>.1&&v<.9?0:v<=.1===x?1:-1}getFirstDifferent(t,r,s,o){let l=t.getX()+s,c=t.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=s,c+=o;for(l-=s,c-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=s;for(l-=s;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=o;return c-=o,new kt(l,c)}expandSquare(t,r,s){let o=s/(2*r),l=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new oe(d+o*l,h+o*c),y=new oe(d-o*l,h-o*c);l=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let v=new oe(d+o*l,h+o*c),I=new oe(d-o*l,h-o*c);return[x,v,y,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Ie.round(t.getX()),s=Ie.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Ie.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Ie.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class ao{decode(t,r=null){let s=null,o=new bu(t.getBlackMatrix()),l=null,c=null;try{let y=o.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(r,l),c=new je().decode(y)}catch(y){s=y}if(c==null)try{let y=o.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(r,l),c=new je().decode(y)}catch(y){throw s??y}let d=new Ze(c.getText(),c.getRawBytes(),c.getNumBits(),l,ae.AZTEC,B.currentTimeMillis()),h=c.getByteSegments();h!=null&&d.putMetadata(mt.BYTE_SEGMENTS,h);let x=c.getECLevel();return x!=null&&d.putMetadata(mt.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(J.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,c)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class hh extends un{constructor(t=500){super(new ao,t)}}class ut{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(J.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),c=this.doDecode(l,r),d=c.getResultMetadata();let h=270;d!==null&&d.get(mt.ORIENTATION)===!0&&(h=h+d.get(mt.ORIENTATION)%360),c.putMetadata(mt.ORIENTATION,h);const x=c.getResultPoints();if(x!==null){const y=l.getHeight();for(let v=0;v<x.length;v++)x[v]=new oe(y-x[v].getY()-1,x[v].getX())}return c}else throw new W}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let l=new j(s);const c=r&&r.get(J.TRY_HARDER)===!0,d=Math.max(1,o>>(c?8:5));let h;c?h=o:h=15;const x=Math.trunc(o/2);for(let y=0;y<h;y++){const v=Math.trunc((y+1)/2),I=(y&1)===0,_=x+d*(I?v:-v);if(_<0||_>=o)break;try{l=t.getBlackRow(_,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;r.forEach((P,H)=>L.set(H,P)),L.delete(J.NEED_RESULT_POINT_CALLBACK),r=L}try{const L=this.decodeRow(_,l,r);if(D===1){L.putMetadata(mt.ORIENTATION,180);const P=L.getResultPoints();P!==null&&(P[0]=new oe(s-P[0].getX()-1,P[0].getY()),P[1]=new oe(s-P[1].getX()-1,P[1].getY()))}return L}catch{}}}throw new W}static recordPattern(t,r,s){const o=s.length;for(let x=0;x<o;x++)s[x]=0;const l=t.getSize();if(r>=l)throw new W;let c=!t.get(r),d=0,h=r;for(;h<l;){if(t.get(h)!==c)s[d]++;else{if(++d===o)break;s[d]=1,c=!c}h++}if(!(d===o||d===o-1&&h===l))throw new W}static recordPatternInReverse(t,r,s){let o=s.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new W;ut.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let l=0,c=0;for(let x=0;x<o;x++)l+=t[x],c+=r[x];if(l<c)return Number.POSITIVE_INFINITY;const d=l/c;s*=d;let h=0;for(let x=0;x<o;x++){const y=t[x],v=r[x]*d,I=y>v?y-v:v-y;if(I>s)return Number.POSITIVE_INFINITY;h+=I}return h/l}}class te extends ut{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=s,d=!1;const h=6;for(let x=s;x<r;x++)if(t.get(x)!==d)l[o]++;else{if(o===h-1){let y=te.MAX_AVG_VARIANCE,v=-1;for(let I=te.CODE_START_A;I<=te.CODE_START_C;I++){const _=ut.patternMatchVariance(l,te.CODE_PATTERNS[I],te.MAX_INDIVIDUAL_VARIANCE);_<y&&(y=_,v=I)}if(v>=0&&t.isRange(Math.max(0,c-(x-c)/2),c,!1))return Int32Array.from([c,x,v]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new W}static decodeCode(t,r,s){ut.recordPattern(t,s,r);let o=te.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<te.CODE_PATTERNS.length;c++){const d=te.CODE_PATTERNS[c],h=this.patternMatchVariance(r,d,te.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=c)}if(l>=0)return l;throw new W}decodeRow(t,r,s){const o=s&&s.get(J.ASSUME_GS1)===!0,l=te.findStartPattern(r),c=l[2];let d=0;const h=new Uint8Array(20);h[d++]=c;let x;switch(c){case te.CODE_START_A:x=te.CODE_CODE_A;break;case te.CODE_START_B:x=te.CODE_CODE_B;break;case te.CODE_START_C:x=te.CODE_CODE_C;break;default:throw new V}let y=!1,v=!1,I="",_=l[0],D=l[1];const L=Int32Array.from([0,0,0,0,0,0]);let P=0,H=0,K=c,q=0,Q=!0,Ee=!1,me=!1;for(;!y;){const wi=v;switch(v=!1,P=H,H=te.decodeCode(r,L,D),h[d++]=H,H!==te.CODE_STOP&&(Q=!0),H!==te.CODE_STOP&&(q++,K+=q*H),_=D,D+=L.reduce((Hh,Vh)=>Hh+Vh,0),H){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new V}switch(x){case te.CODE_CODE_A:if(H<64)me===Ee?I+=String.fromCharCode(32+H):I+=String.fromCharCode(32+H+128),me=!1;else if(H<96)me===Ee?I+=String.fromCharCode(H-64):I+=String.fromCharCode(H+64),me=!1;else switch(H!==te.CODE_STOP&&(Q=!1),H){case te.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Ee&&me?(Ee=!0,me=!1):Ee&&me?(Ee=!1,me=!1):me=!0;break;case te.CODE_SHIFT:v=!0,x=te.CODE_CODE_B;break;case te.CODE_CODE_B:x=te.CODE_CODE_B;break;case te.CODE_CODE_C:x=te.CODE_CODE_C;break;case te.CODE_STOP:y=!0;break}break;case te.CODE_CODE_B:if(H<96)me===Ee?I+=String.fromCharCode(32+H):I+=String.fromCharCode(32+H+128),me=!1;else switch(H!==te.CODE_STOP&&(Q=!1),H){case te.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Ee&&me?(Ee=!0,me=!1):Ee&&me?(Ee=!1,me=!1):me=!0;break;case te.CODE_SHIFT:v=!0,x=te.CODE_CODE_A;break;case te.CODE_CODE_A:x=te.CODE_CODE_A;break;case te.CODE_CODE_C:x=te.CODE_CODE_C;break;case te.CODE_STOP:y=!0;break}break;case te.CODE_CODE_C:if(H<100)H<10&&(I+="0"),I+=H;else switch(H!==te.CODE_STOP&&(Q=!1),H){case te.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case te.CODE_CODE_A:x=te.CODE_CODE_A;break;case te.CODE_CODE_B:x=te.CODE_CODE_B;break;case te.CODE_STOP:y=!0;break}break}wi&&(x=x===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Gt=D-_;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-_)/2),!1))throw new W;if(K-=q*P,K%103!==P)throw new b;const vn=I.length;if(vn===0)throw new W;vn>0&&Q&&(x===te.CODE_CODE_C?I=I.substring(0,vn-2):I=I.substring(0,vn-1));const Yt=(l[1]+l[0])/2,Pe=_+Gt/2,It=h.length,Jt=new Uint8Array(It);for(let wi=0;wi<It;wi++)Jt[wi]=h[wi];const mi=[new oe(Yt,t),new oe(Pe,t)];return new Ze(I,Jt,0,mi,ae.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class dt extends ut{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=dt.findAsteriskPattern(r,o),c=r.getNextSet(l[1]),d=r.getSize(),h,x;do{dt.recordPattern(r,c,o);let L=dt.toNarrowWidePattern(o);if(L<0)throw new W;h=dt.patternToChar(L),this.decodeRowResult+=h,x=c;for(let P of o)c+=P;c=r.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let L of o)y+=L;let v=c-x-y;if(c!==d&&v*2<y)throw new W;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,P=0;for(let H=0;H<L;H++)P+=dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(L)!==dt.ALPHABET_STRING.charAt(P%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new W;let I;this.extendedMode?I=dt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let _=(l[1]+l[0])/2,D=x+y/2;return new Ze(I,null,0,[new oe(_,t),new oe(D,t)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),l=0,c=o,d=!1,h=r.length;for(let x=o;x<s;x++)if(t.get(x)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((x-c)/2)),c,!1))return[c,x];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new W}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let l=2147483647;for(let h of t)h<l&&h>s&&(l=h);s=l,o=0;let c=0,d=0;for(let h=0;h<r;h++){let x=t[h];x>s&&(d|=1<<r-1-h,o++,c+=x)}if(o===3){for(let h=0;h<r&&o>0;h++){let x=t[h];if(x>s&&(o--,x*2>=c))return-1}return d}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<dt.CHARACTER_ENCODINGS.length;r++)if(dt.CHARACTER_ENCODINGS[r]===t)return dt.ALPHABET_STRING.charAt(r);if(t===dt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=t.charAt(o+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new V;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new V;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new V;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new V;break}s+=d,o++}else s+=l}return s}}dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dt.ASTERISK_ENCODING=148;class ke extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),c=new Se;ke.decodeMiddle(r,o[1],l[0],c);let d=c.toString(),h=null;s!=null&&(h=s.get(J.ALLOWED_LENGTHS)),h==null&&(h=ke.DEFAULT_ALLOWED_LENGTHS);let x=d.length,y=!1,v=0;for(let D of h){if(x===D){y=!0;break}D>v&&(v=D)}if(!y&&x>v&&(y=!0),!y)throw new V;const I=[new oe(o[1],t),new oe(l[0],t)];return new Ze(d,null,0,I,ae.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);r<s;){ut.recordPattern(t,r,l);for(let x=0;x<5;x++){let y=2*x;c[x]=l[y],d[x]=l[y+1]}let h=ke.decodeDigit(c);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),l.forEach(function(x){r+=x})}}decodeStart(t){let r=ke.skipWhiteSpace(t),s=ke.findGuardPattern(t,r,ke.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new W}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new W;return s}decodeEnd(t){t.reverse();try{let r=ke.skipWhiteSpace(t),s;try{s=ke.findGuardPattern(t,r,ke.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(s=ke.findGuardPattern(t,r,ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,l=new Int32Array(o),c=t.getSize(),d=!1,h=0,x=r;l.fill(0);for(let y=r;y<c;y++)if(t.get(y)!==d)l[h]++;else{if(h===o-1){if(ut.patternMatchVariance(l,s,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return[x,y];x+=l[0]+l[1],B.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new W}static decodeDigit(t){let r=ke.MAX_AVG_VARIANCE,s=-1,o=ke.PATTERNS.length;for(let l=0;l<o;l++){let c=ke.PATTERNS[l],d=ut.patternMatchVariance(t,c,ke.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,s=l):d===r&&(s=-1)}if(s>=0)return s%10;throw new W}}ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ke.MAX_AVG_VARIANCE=.38,ke.MAX_INDIVIDUAL_VARIANCE=.5,ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ke.START_PATTERN=Int32Array.from([1,1,1,1]),ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tt extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=tt.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let c=s[0];o=s[1];let d=c-(o-c);d>=0&&(r=t.isRange(d,c,!1))}return s}static checkChecksum(t){return tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return tt.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new V;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new V;s+=l}return(1e3-s)%10}static decodeEnd(t,r){return tt.findGuardPattern(t,r,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,l){let c=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let d=0,h=r,x=o.length,y=s;for(let v=r;v<c;v++)if(t.get(v)!==y)l[d]++;else{if(d===x-1){if(ut.patternMatchVariance(l,o,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return Int32Array.from([h,v]);h+=l[0]+l[1];let I=l.slice(2,l.length-1);for(let _=0;_<d-1;_++)l[_]=I[_];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,y=!y}throw new W}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let l=this.MAX_AVG_VARIANCE,c=-1,d=o.length;for(let h=0;h<d;h++){let x=o[h],y=ut.patternMatchVariance(r,x,tt.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,c=h)}if(c>=0)return c;throw new W}}tt.MAX_AVG_VARIANCE=.48,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.START_END_PATTERN=Int32Array.from([1,1,1]),tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ns{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),c=o.toString(),d=ns.parseExtensionString(c),h=[new oe((s[0]+s[1])/2,t),new oe(l,t)],x=new Ze(c,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1],d=0;for(let x=0;x<5&&c<l;x++){let y=tt.decodeDigit(t,o,c,tt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let v of o)c+=v;y>=10&&(d|=1<<4-x),x!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(s.length!==5)throw new W;let h=this.determineCheckDigit(d);if(ns.extensionChecksum(s.toString())!==h)throw new W;return c}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let r=ns.parseExtension5String(t);return r==null?null:new Map([[mt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),l=s%100,c=l<10?"0"+l:l.toString();return r+o+"."+c}}class ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),c=o.toString(),d=ja.parseExtensionString(c),h=[new oe((s[0]+s[1])/2,t),new oe(l,t)],x=new Ze(c,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1],d=0;for(let h=0;h<2&&c<l;h++){let x=tt.decodeDigit(t,o,c,tt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+x%10);for(let y of o)c+=y;x>=10&&(d|=1<<1-h),h!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(s.length!==2)throw new W;if(parseInt(s.toString())%4!==d)throw new W;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(t)]])}}class Lu{static decodeRow(t,r,s){let o=tt.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ns().decodeRow(t,r,o)}catch{return new ja().decodeRow(t,r,o)}}}Lu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Me extends tt{constructor(){super(),this.decodeRowStringBuffer="",Me.L_AND_G_PATTERNS=Me.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Me.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];Me.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=Me.findStartGuardPattern(r),l=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Q=new oe((o[0]+o[1])/2,t);l.foundPossibleResultPoint(Q)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(l!=null){const Q=new oe(d,t);l.foundPossibleResultPoint(Q)}let x=this.decodeEnd(r,d);if(l!=null){const Q=new oe((x[0]+x[1])/2,t);l.foundPossibleResultPoint(Q)}let y=x[1],v=y+(y-x[0]);if(v>=r.getSize()||!r.isRange(y,v,!1))throw new W;let I=h.toString();if(I.length<8)throw new V;if(!Me.checkChecksum(I))throw new b;let _=(o[1]+o[0])/2,D=(x[1]+x[0])/2,L=this.getBarcodeFormat(),P=[new oe(_,t),new oe(D,t)],H=new Ze(I,null,0,P,L,new Date().getTime()),K=0;try{let Q=Lu.decodeRow(t,r,x[1]);H.putMetadata(mt.UPC_EAN_EXTENSION,Q.getText()),H.putAllMetadata(Q.getResultMetadata()),H.addResultPoints(Q.getResultPoints()),K=Q.getText().length}catch{}let q=s==null?null:s.get(J.ALLOWED_EAN_EXTENSIONS);if(q!=null){let Q=!1;for(let Ee in q)if(K.toString()===Ee){Q=!0;break}if(!Q)throw new W}return H}decodeEnd(t,r){return Me.findGuardPattern(t,r,!1,Me.START_END_PATTERN,new Int32Array(Me.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Me.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Me.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new V;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new V;s+=l}return(1e3-s)%10}}class Hr extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1],d=0;for(let x=0;x<6&&c<l;x++){let y=Me.decodeDigit(t,o,c,Me.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let v of o)c+=v;y>=10&&(d|=1<<5-x)}s=Hr.determineFirstDigit(s,d),c=Me.findGuardPattern(t,c,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&c<l;x++){let y=Me.decodeDigit(t,o,c,Me.L_PATTERNS);s+=String.fromCharCode(48+y);for(let v of o)c+=v}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new W}}Hr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ku extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1];for(let h=0;h<4&&c<l;h++){let x=Me.decodeDigit(t,o,c,Me.L_PATTERNS);s+=String.fromCharCode(48+x);for(let y of o)c+=y}c=Me.findGuardPattern(t,c,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<l;h++){let x=Me.decodeDigit(t,o,c,Me.L_PATTERNS);s+=String.fromCharCode(48+x);for(let y of o)c+=y}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return ae.EAN_8}}class Bu extends Me{constructor(){super(...arguments),this.ean13Reader=new Hr}getBarcodeFormat(){return ae.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new Ze(r.substring(1),null,null,t.getResultPoints(),ae.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new W}reset(){this.ean13Reader.reset()}}class Sn extends Me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(x=>x);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let c=r[1],d=0;for(let x=0;x<6&&c<l;x++){const y=Sn.decodeDigit(t,o,c,Sn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let v of o)c+=v;y>=10&&(d|=1<<5-x)}let h=Sn.determineNumSysAndCheckDigit(s,d);return{rowOffset:c,resultString:h}}decodeEnd(t,r){return Sn.findGuardPatternWithoutCounters(t,r,!0,Sn.MIDDLE_END_PATTERN)}checkChecksum(t){return Me.checkChecksum(Sn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),c=String.fromCharCode(48+o);return l+t+c}throw W.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Se;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}Sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ua extends ut{constructor(t){super();let r=t==null?null:t.get(J.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new Hr),s.push(new Bu),s.push(new ku),s.push(new Sn)):(r.indexOf(ae.EAN_13)>-1&&s.push(new Hr),r.indexOf(ae.UPC_A)>-1&&s.push(new Bu),r.indexOf(ae.EAN_8)>-1&&s.push(new ku),r.indexOf(ae.UPC_E)>-1&&s.push(new Sn)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const l=o.decodeRow(t,r,s),c=l.getBarcodeFormat()===ae.EAN_13&&l.getText().charAt(0)==="0",d=s==null?null:s.get(J.POSSIBLE_FORMATS),h=d==null||d.includes(ae.UPC_A);if(c&&h){const x=l.getRawBytes(),y=new Ze(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),ae.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class Mt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(ut.patternMatchVariance(t,r[s],Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return s;throw new W}static count(t){return Ie.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],s=l);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],s=l);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=Mt.MIN_FINDER_PATTERN_RATIO&&o<=Mt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of t)d>c&&(c=d),d<l&&(l=d);return c<10*l}return!1}}Mt.MAX_AVG_VARIANCE=.2,Mt.MAX_INDIVIDUAL_VARIANCE=.45,Mt.MIN_FINDER_PATTERN_RATIO=9.5/12,Mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ui{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ui))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class lo{constructor(t,r,s,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new oe(s,l)),this.resultPoints.push(new oe(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof lo))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Ln{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let h of t)o+=h;let l=0,c=0,d=t.length;for(let h=0;h<d-1;h++){let x;for(x=1,c|=1<<h;x<t[h];x++,c&=~(1<<h)){let y=Ln.combins(o-x-1,d-h-2);if(s&&c===0&&o-x-(d-h-1)>=d-h-1&&(y-=Ln.combins(o-x-(d-h),d-h-2)),d-h-1>1){let v=0;for(let I=o-x-(d-h-2);I>r;I--)v+=Ln.combins(o-x-I-1,d-h-3);y-=v*(d-1-h)}else o-x>r&&y--;l+=y}o-=x}return l}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let l=1,c=1;for(let d=t;d>s;d--)l*=d,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class gh{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new j(s),l=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let x=t[h],y=x.getLeftChar().getValue();for(let v=11;v>=0;--v)y&1<<v&&o.set(l),l++;if(x.getRightChar()!=null){let v=x.getRightChar().getValue();for(let I=11;I>=0;--I)v&1<<I&&o.set(l),l++}}return o}}class Vr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class za{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ht extends za{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class Wr extends za{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class fn extends za{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new V;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===fn.FNC1}isAnyFNC1(){return this.firstDigit===fn.FNC1||this.secondDigit===fn.FNC1}}fn.FNC1=10;class re{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let r=t.substring(0,2);for(let l of re.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(2,l[2],t):re.processFixedAI(2,l[1],t);if(t.length<3)throw new W;let s=t.substring(0,3);for(let l of re.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(3,l[2],t):re.processFixedAI(3,l[1],t);for(let l of re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],t):re.processFixedAI(4,l[1],t);if(t.length<4)throw new W;let o=t.substring(0,4);for(let l of re.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],t):re.processFixedAI(4,l[1],t);throw new W}static processFixedAI(t,r,s){if(s.length<t)throw new W;let o=s.substring(0,t);if(s.length<t+r)throw new W;let l=s.substring(t,t+r),c=s.substring(t+r),d="("+o+")"+l,h=re.parseFieldsInGeneralPurpose(c);return h==null?d:d+h}static processVariableAI(t,r,s){let o=s.substring(0,t),l;s.length<t+r?l=s.length:l=t+r;let c=s.substring(t,l),d=s.substring(l),h="("+o+")"+c,x=re.parseFieldsInGeneralPurpose(d);return x==null?h:h+x}}re.VARIABLE_LENGTH=[],re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",re.VARIABLE_LENGTH,20],["22",re.VARIABLE_LENGTH,29],["30",re.VARIABLE_LENGTH,8],["37",re.VARIABLE_LENGTH,8],["90",re.VARIABLE_LENGTH,30],["91",re.VARIABLE_LENGTH,30],["92",re.VARIABLE_LENGTH,30],["93",re.VARIABLE_LENGTH,30],["94",re.VARIABLE_LENGTH,30],["95",re.VARIABLE_LENGTH,30],["96",re.VARIABLE_LENGTH,30],["97",re.VARIABLE_LENGTH,3],["98",re.VARIABLE_LENGTH,30],["99",re.VARIABLE_LENGTH,30]],re.THREE_DIGIT_DATA_LENGTH=[["240",re.VARIABLE_LENGTH,30],["241",re.VARIABLE_LENGTH,30],["242",re.VARIABLE_LENGTH,6],["250",re.VARIABLE_LENGTH,30],["251",re.VARIABLE_LENGTH,30],["253",re.VARIABLE_LENGTH,17],["254",re.VARIABLE_LENGTH,20],["400",re.VARIABLE_LENGTH,30],["401",re.VARIABLE_LENGTH,30],["402",17],["403",re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",re.VARIABLE_LENGTH,20],["421",re.VARIABLE_LENGTH,15],["422",3],["423",re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",re.VARIABLE_LENGTH,15],["391",re.VARIABLE_LENGTH,18],["392",re.VARIABLE_LENGTH,15],["393",re.VARIABLE_LENGTH,18],["703",re.VARIABLE_LENGTH,30]],re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",re.VARIABLE_LENGTH,20],["8003",re.VARIABLE_LENGTH,30],["8004",re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",re.VARIABLE_LENGTH,30],["8008",re.VARIABLE_LENGTH,12],["8018",18],["8020",re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",re.VARIABLE_LENGTH,70],["8200",re.VARIABLE_LENGTH,70]];class fi{constructor(t){this.buffer=new Se,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),c=re.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&t.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new fn(this.information.getSize(),fn.FNC1,fn.FNC1):new fn(this.information.getSize(),l-1,fn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new fn(t+7,s,o)}extractNumericValueFromBitArray(t,r){return fi.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let l=0;l<s;++l)t.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Wr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Wr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Wr(this.current.getPosition(),this.buffer.toString()):r=new Wr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Vr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Wr(this.current.getPosition(),this.buffer.toString());return new Vr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Wr(this.current.getPosition(),this.buffer.toString());return new Vr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Wr(this.current.getPosition(),this.buffer.toString());return new Vr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new Ht(t+7,""+(s+1));if(s>=90&&s<116)return new Ht(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new V}return new Ht(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new Ht(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new bn("Decoding invalid alphanumeric value: "+s)}return new Ht(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Ha{constructor(t){this.information=t,this.generalDecoder=new fi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Vt extends Ha{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Vt.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),t.append(s)}}Vt.GTIN_SIZE=40;class di extends Vt{constructor(t){super(t)}parseInformation(){let t=new Se;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,di.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,di.HEADER_SIZE+44)}}di.HEADER_SIZE=4;class co extends Ha{constructor(t){super(t)}parseInformation(){let t=new Se;return this.getGeneralDecoder().decodeAllCodes(t,co.HEADER_SIZE)}}co.HEADER_SIZE=5;class uo extends Vt{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let l=this.checkWeight(o),c=1e5;for(let d=0;d<5;++d)l/c===0&&t.append("0"),c/=10;t.append(l)}}class kn extends uo{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=kn.HEADER_SIZE+uo.GTIN_SIZE+kn.WEIGHT_SIZE)throw new W;let t=new Se;return this.encodeCompressedGtin(t,kn.HEADER_SIZE),this.encodeCompressedWeight(t,kn.HEADER_SIZE+uo.GTIN_SIZE,kn.WEIGHT_SIZE),t.toString()}}kn.HEADER_SIZE=5,kn.WEIGHT_SIZE=15;class ph extends kn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class xh extends kn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Bn extends Vt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Bn.HEADER_SIZE+Vt.GTIN_SIZE)throw new W;let t=new Se;this.encodeCompressedGtin(t,Bn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Bn.HEADER_SIZE+Vt.GTIN_SIZE,Bn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Bn.HEADER_SIZE+Vt.GTIN_SIZE+Bn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}Bn.HEADER_SIZE=8,Bn.LAST_DIGIT_SIZE=2;class Bt extends Vt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Bt.HEADER_SIZE+Vt.GTIN_SIZE)throw new W;let t=new Se;this.encodeCompressedGtin(t,Bt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Vt.GTIN_SIZE,Bt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Vt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE,Bt.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Bt.HEADER_SIZE+Vt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE+Bt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Bt.HEADER_SIZE=8,Bt.LAST_DIGIT_SIZE=2,Bt.FIRST_THREE_DIGITS_SIZE=10;class Xe extends uo{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Xe.HEADER_SIZE+Xe.GTIN_SIZE+Xe.WEIGHT_SIZE+Xe.DATE_SIZE)throw new W;let t=new Se;return this.encodeCompressedGtin(t,Xe.HEADER_SIZE),this.encodeCompressedWeight(t,Xe.HEADER_SIZE+Xe.GTIN_SIZE,Xe.WEIGHT_SIZE),this.encodeCompressedDate(t,Xe.HEADER_SIZE+Xe.GTIN_SIZE+Xe.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Xe.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let c=s;c/10==0&&t.append("0"),t.append(c),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Xe.HEADER_SIZE=8,Xe.WEIGHT_SIZE=20,Xe.DATE_SIZE=16;function Pu(S){try{if(S.get(1))return new di(S);if(!S.get(2))return new co(S);switch(fi.extractNumericValueFromBitArray(S,1,4)){case 4:return new ph(S);case 5:return new xh(S)}switch(fi.extractNumericValueFromBitArray(S,1,5)){case 12:return new Bn(S);case 13:return new Bt(S)}switch(fi.extractNumericValueFromBitArray(S,1,7)){case 56:return new Xe(S,"310","11");case 57:return new Xe(S,"320","11");case 58:return new Xe(S,"310","13");case 59:return new Xe(S,"320","13");case 60:return new Xe(S,"310","15");case 61:return new Xe(S,"320","15");case 62:return new Xe(S,"310","17");case 63:return new Xe(S,"320","17")}}catch(t){throw console.log(t),new bn("unknown decoder: "+S)}}class lr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof lr?lr.equalsOrNull(t.leftchar,r.leftchar)&&lr.equalsOrNull(t.rightchar,r.rightchar)&&lr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:lr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Va{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Va?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,l)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(s=!0)})}),s}}class Y extends Mt{constructor(t){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,s+1)}catch(c){this.verbose&&console.log(c)}}throw new W}static isValidSequence(t){for(let r of Y.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let c=this.rows[s];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),s++}l||o||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Va(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let l of t)if(lr.equals(o,l))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let l of t){let c=!1;for(let d of s.getPairs())if(l.equals(d)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=gh.buildBitArray(t),o=Pu(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new Ze(o,null,null,d,ae.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),l++;let x=h.getRightChar();x!=null&&(o+=x.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,d=-1;do this.findNextPair(t,r,d),l=this.parseFoundFinderPattern(t,s,o),l==null?d=Y.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let x;try{x=this.decodeDataCharacter(t,l,o,!1)}catch(y){x=null,this.verbose&&console.log(y)}return new lr(h,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c;s>=0?c=s:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;c<l&&(h=!t.get(c),!!h);)c++;let x=0,y=c;for(let v=c;v<l;v++)if(t.get(v)!=h)o[x]++;else{if(x==3){if(d&&Y.reverseCounters(o),Y.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=v;return}d&&Y.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,x--}else x++;o[x]=1,h=!h}throw new W}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,l,c;if(s){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,o=this.startEnd[0]-x,l=x,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let d=this.getDecodeFinderCounters();B.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,Y.FINDER_PATTERNS)}catch{return null}return new lo(h,[l,c],l,c,r)}decodeDataCharacter(t,r,s,o){let l=this.getDataCharacterCounters();for(let Pe=0;Pe<l.length;Pe++)l[Pe]=0;if(o)Y.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Y.recordPattern(t,r.getStartEnd()[1],l);for(let Pe=0,It=l.length-1;Pe<It;Pe++,It--){let Jt=l[Pe];l[Pe]=l[It],l[It]=Jt}}let c=17,d=Ie.sum(new Int32Array(l))/c,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new W;let x=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Pe=0;Pe<l.length;Pe++){let It=1*l[Pe]/d,Jt=It+.5;if(Jt<1){if(It<.3)throw new W;Jt=1}else if(Jt>8){if(It>8.7)throw new W;Jt=8}let mi=Pe/2;Pe&1?(y[mi]=Jt,I[mi]=It-Jt):(x[mi]=Jt,v[mi]=It-Jt)}this.adjustOddEvenCounts(c);let _=4*r.getValue()+(s?0:2)+(o?0:1)-1,D=0,L=0;for(let Pe=x.length-1;Pe>=0;Pe--){if(Y.isNotA1left(r,s,o)){let It=Y.WEIGHTS[_][2*Pe];L+=x[Pe]*It}D+=x[Pe]}let P=0;for(let Pe=y.length-1;Pe>=0;Pe--)if(Y.isNotA1left(r,s,o)){let It=Y.WEIGHTS[_][2*Pe+1];P+=y[Pe]*It}let H=L+P;if(D&1||D>13||D<4)throw new W;let K=(13-D)/2,q=Y.SYMBOL_WIDEST[K],Q=9-q,Ee=Ln.getRSSvalue(x,q,!0),me=Ln.getRSSvalue(y,Q,!1),Gt=Y.EVEN_TOTAL_SUBSET[K],vn=Y.GSUM[K],Yt=Ee*Gt+me+vn;return new ui(Yt,H)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Ie.sum(new Int32Array(this.getOddCounts())),s=Ie.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let c=!1,d=!1;s>13?d=!0:s<4&&(c=!0);let h=r+s-t,x=(r&1)==1,y=(s&1)==0;if(h==1)if(x){if(y)throw new W;l=!0}else{if(!y)throw new W;d=!0}else if(h==-1)if(x){if(y)throw new W;o=!0}else{if(!y)throw new W;c=!0}else if(h==0){if(x){if(!y)throw new W;r<s?(o=!0,d=!0):(l=!0,c=!0)}else if(y)throw new W}else throw new W;if(o){if(l)throw new W;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new W;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class mh extends ui{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class nt extends Mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);nt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,s);nt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&nt.checkChecksum(c,d))return nt.constructResult(c,d)}throw new W}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),l=new Se;for(let x=13-o.length;x>0;x--)l.append("0");l.append(o);let c=0;for(let x=0;x<13;x++){let y=l.charAt(x).charCodeAt(0)-48;c+=x&1?y:3*y}c=10-c%10,c===10&&(c=0),l.append(c.toString());let d=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ze(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let l=this.findFinderPattern(t,r),c=this.parseFoundFinderPattern(t,s,r,l),d=o==null?null:o.get(J.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(l[0]+l[1])/2;r&&(y=t.getSize()-1-y),d.foundPossibleResultPoint(new oe(y,s))}let h=this.decodeDataCharacter(t,c,!0),x=this.decodeDataCharacter(t,c,!1);return new mh(1597*h.getValue()+x.getValue(),h.getChecksumPortion()+4*x.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let P=0;P<o.length;P++)o[P]=0;if(s)ut.recordPatternInReverse(t,r.getStartEnd()[0],o);else{ut.recordPattern(t,r.getStartEnd()[1]+1,o);for(let P=0,H=o.length-1;P<H;P++,H--){let K=o[P];o[P]=o[H],o[H]=K}}let l=s?16:15,c=Ie.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let P=0;P<o.length;P++){let H=o[P]/c,K=Math.floor(H+.5);K<1?K=1:K>8&&(K=8);let q=Math.floor(P/2);P&1?(h[q]=K,y[q]=H-K):(d[q]=K,x[q]=H-K)}this.adjustOddEvenCounts(s,l);let v=0,I=0;for(let P=d.length-1;P>=0;P--)I*=9,I+=d[P],v+=d[P];let _=0,D=0;for(let P=h.length-1;P>=0;P--)_*=9,_+=h[P],D+=h[P];let L=I+3*_;if(s){if(v&1||v>12||v<4)throw new W;let P=(12-v)/2,H=nt.OUTSIDE_ODD_WIDEST[P],K=9-H,q=Ln.getRSSvalue(d,H,!1),Q=Ln.getRSSvalue(h,K,!0),Ee=nt.OUTSIDE_EVEN_TOTAL_SUBSET[P],me=nt.OUTSIDE_GSUM[P];return new ui(q*Ee+Q+me,L)}else{if(D&1||D>10||D<4)throw new W;let P=(10-D)/2,H=nt.INSIDE_ODD_WIDEST[P],K=9-H,q=Ln.getRSSvalue(d,H,!0),Q=Ln.getRSSvalue(h,K,!1),Ee=nt.INSIDE_ODD_TOTAL_SUBSET[P],me=nt.INSIDE_GSUM[P];return new ui(Q*Ee+q+me,L)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),l=!1,c=0;for(;c<o&&(l=!t.get(c),r!==l);)c++;let d=0,h=c;for(let x=c;x<o;x++)if(t.get(x)!==l)s[d]++;else{if(d===3){if(Mt.isFinderPattern(s))return[h,x];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,l=!l}throw new W}parseFoundFinderPattern(t,r,s,o){let l=t.get(o[0]),c=o[0]-1;for(;c>=0&&l!==t.get(c);)c--;c++;const d=o[0]-c,h=this.getDecodeFinderCounters(),x=new Int32Array(h.length);B.arraycopy(h,0,x,1,h.length-1),x[0]=d;const y=this.parseFinderValue(x,nt.FINDER_PATTERNS);let v=c,I=o[1];return s&&(v=t.getSize()-1-v,I=t.getSize()-1-I),new lo(y,[c,o[1]],v,I,r)}adjustOddEvenCounts(t,r){let s=Ie.sum(new Int32Array(this.getOddCounts())),o=Ie.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,h=!1;t?(s>12?c=!0:s<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(s>11?c=!0:s<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));let x=s+o-r,y=(s&1)===(t?1:0),v=(o&1)===1;if(x===1)if(y){if(v)throw new W;c=!0}else{if(!v)throw new W;h=!0}else if(x===-1)if(y){if(v)throw new W;l=!0}else{if(!v)throw new W;d=!0}else if(x===0){if(y){if(!v)throw new W;s<o?(l=!0,h=!0):(c=!0,d=!0)}else if(v)throw new W}else throw new W;if(l){if(c)throw new W;Mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new W;Mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],nt.OUTSIDE_GSUM=[0,161,961,2015,2715],nt.INSIDE_GSUM=[0,336,1036,1516],nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],nt.INSIDE_ODD_WIDEST=[2,4,6,8],nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class hi extends ut{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(J.POSSIBLE_FORMATS):null,o=t&&t.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ae.EAN_13)||s.includes(ae.UPC_A)||s.includes(ae.EAN_8)||s.includes(ae.UPC_E))&&this.readers.push(new Ua(t)),s.includes(ae.CODE_39)&&this.readers.push(new dt(o)),s.includes(ae.CODE_128)&&this.readers.push(new te),s.includes(ae.ITF)&&this.readers.push(new ke),s.includes(ae.RSS_14)&&this.readers.push(new nt),s.includes(ae.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new Ua(t)),this.readers.push(new dt),this.readers.push(new Ua(t)),this.readers.push(new te),this.readers.push(new ke),this.readers.push(new nt),this.readers.push(new Y(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class wh extends un{constructor(t=500,r){super(new hi(r),t,r)}}class Re{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(t,r,s,o,l,c){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let d=0;const h=c.getECCodewords(),x=c.getECBlocks();for(let y of x)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new V;for(let s of Ae.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Ae(1,10,10,8,8,new Re(5,new Oe(1,3))),new Ae(2,12,12,10,10,new Re(7,new Oe(1,5))),new Ae(3,14,14,12,12,new Re(10,new Oe(1,8))),new Ae(4,16,16,14,14,new Re(12,new Oe(1,12))),new Ae(5,18,18,16,16,new Re(14,new Oe(1,18))),new Ae(6,20,20,18,18,new Re(18,new Oe(1,22))),new Ae(7,22,22,20,20,new Re(20,new Oe(1,30))),new Ae(8,24,24,22,22,new Re(24,new Oe(1,36))),new Ae(9,26,26,24,24,new Re(28,new Oe(1,44))),new Ae(10,32,32,14,14,new Re(36,new Oe(1,62))),new Ae(11,36,36,16,16,new Re(42,new Oe(1,86))),new Ae(12,40,40,18,18,new Re(48,new Oe(1,114))),new Ae(13,44,44,20,20,new Re(56,new Oe(1,144))),new Ae(14,48,48,22,22,new Re(68,new Oe(1,174))),new Ae(15,52,52,24,24,new Re(42,new Oe(2,102))),new Ae(16,64,64,14,14,new Re(56,new Oe(2,140))),new Ae(17,72,72,16,16,new Re(36,new Oe(4,92))),new Ae(18,80,80,18,18,new Re(48,new Oe(4,114))),new Ae(19,88,88,20,20,new Re(56,new Oe(4,144))),new Ae(20,96,96,22,22,new Re(68,new Oe(4,174))),new Ae(21,104,104,24,24,new Re(56,new Oe(6,136))),new Ae(22,120,120,18,18,new Re(68,new Oe(6,175))),new Ae(23,132,132,20,20,new Re(62,new Oe(8,163))),new Ae(24,144,144,22,22,new Re(62,new Oe(8,156),new Oe(2,155))),new Ae(25,8,18,6,16,new Re(7,new Oe(1,5))),new Ae(26,8,32,6,14,new Re(11,new Oe(1,10))),new Ae(27,12,26,10,24,new Re(14,new Oe(1,16))),new Ae(28,12,36,10,16,new Re(18,new Oe(1,22))),new Ae(29,16,36,14,16,new Re(24,new Oe(1,32))),new Ae(30,16,48,14,22,new Re(28,new Oe(1,49)))]}}Ae.VERSIONS=Ae.buildVersions();class Wa{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new V;this.version=Wa.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return Ae.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,h=!1,x=!1,y=!1;do if(s===l&&o===0&&!d)t[r++]=this.readCorner1(l,c)&255,s-=2,o+=2,d=!0;else if(s===l-2&&o===0&&c&3&&!h)t[r++]=this.readCorner2(l,c)&255,s-=2,o+=2,h=!0;else if(s===l+4&&o===2&&!(c&7)&&!x)t[r++]=this.readCorner3(l,c)&255,s-=2,o+=2,x=!0;else if(s===l-2&&o===0&&(c&7)===4&&!y)t[r++]=this.readCorner4(l,c)&255,s-=2,o+=2,y=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,c)&255),s-=2,o+=2;while(s>=0&&o<c);s+=1,o+=3;do s>=0&&o<c&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,c)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<c);if(r!==this.version.getTotalCodewords())throw new V;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let l=0;return this.readModule(t-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r,s,o)&&(l|=1),l<<=1,this.readModule(t,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t,r,s,o)&&(l|=1),l}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/o|0,d=s/l|0,h=c*o,x=d*l,y=new ot(x,h);for(let v=0;v<c;++v){const I=v*o;for(let _=0;_<d;++_){const D=_*l;for(let L=0;L<o;++L){const P=v*(o+2)+1+L,H=I+L;for(let K=0;K<l;++K){const q=_*(l+2)+1+K;if(t.get(q,P)){const Q=D+K;y.set(Q,H)}}}}}return y}}class Ga{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let L of l)o+=L.getCount();const c=new Array(o);let d=0;for(let L of l)for(let P=0;P<L.getCount();P++){const H=L.getDataCodewords(),K=s.getECCodewords()+H;c[d++]=new Ga(H,new Uint8Array(K))}const x=c[0].codewords.length-s.getECCodewords(),y=x-1;let v=0;for(let L=0;L<y;L++)for(let P=0;P<d;P++)c[P].codewords[L]=t[v++];const I=r.getVersionNumber()===24,_=I?8:d;for(let L=0;L<_;L++)c[L].codewords[x-1]=t[v++];const D=c[0].codewords.length;for(let L=x;L<D;L++)for(let P=0;P<d;P++){const H=I?(P+8)%d:P,K=I&&H>7?L-1:L;c[H].codewords[K]=t[v++]}if(v!==t.length)throw new A;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ya{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new A(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const c=8-s,d=t<c?t:c,h=c-d,x=255>>8-d<<h;r=(l[o]&x)>>h,t-=d,s+=d,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const c=8-t,d=255>>c<<c;r=r<<t|(l[o]&d)>>c,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class cr{static decode(t){const r=new Ya(t),s=new Se,o=new Se,l=new Array;let c=ht.ASCII_ENCODE;do if(c===ht.ASCII_ENCODE)c=this.decodeAsciiSegment(r,s,o);else{switch(c){case ht.C40_ENCODE:this.decodeC40Segment(r,s);break;case ht.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new V}c=ht.ASCII_ENCODE}while(c!==ht.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new $i(t,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let l=t.readBits(8);if(l===0)throw new V;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),ht.ASCII_ENCODE;if(l===129)return ht.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new V;break}}while(t.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else throw new V;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new V}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new V}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else throw new V;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new V}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x),l=0}else throw new V;break;default:throw new V}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let l=0;l<3;l++){const c=s[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new V;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let c;if(l===0?c=t.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),c<0)throw new V;const d=new Uint8Array(c);for(let h=0;h<c;h++){if(t.available()<8)throw new V;d[h]=this.unrandomize255State(t.readBits(8),o++)}s.push(d);try{r.append(Fe.decode(d,ue.ISO88591))}catch(h){throw new bn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}cr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],cr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],cr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],cr.TEXT_SHIFT2_SET_CHARS=cr.C40_SHIFT2_SET_CHARS,cr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class yh{constructor(){this.rsDecoder=new ts(_e.DATA_MATRIX_FIELD_256)}decode(t){const r=new Wa(t),s=r.getVersion(),o=r.readCodewords(),l=Ga.getDataBlocks(o,s);let c=0;for(let x of l)c+=x.getNumDataCodewords();const d=new Uint8Array(c),h=l.length;for(let x=0;x<h;x++){const y=l[x],v=y.getCodewords(),I=y.getNumDataCodewords();this.correctErrors(v,I);for(let _=0;_<I;_++)d[_*h+x]=v[_]}return cr.decode(d)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new b}for(let o=0;o<r;o++)t[o]=s[o]}}class at{constructor(t){this.image=t,this.rectangleDetector=new Qn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],c=r[3];let d=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(l,c)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let x=at.sampleGrid(this.image,s,o,l,c,d,h);return new oo(x,[s,o,l,c])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),l=(r.getY()-t.getY())/(s+1);return new oe(t.getX()+o,t.getY()+l)}static moveAway(t,r,s){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new oe(o,l)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],l=t[2],c=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,l),x=this.transitionsBetween(l,r),y=c,v=[l,r,s,o];return y>d&&(y=d,v[0]=r,v[1]=s,v[2]=o,v[3]=l),y>h&&(y=h,v[0]=s,v[1]=o,v[2]=l,v[3]=r),y>x&&(v[0]=o,v[1]=l,v[2]=r,v[3]=s),v}detectSolid2(t){let r=t[0],s=t[1],o=t[2],l=t[3],c=this.transitionsBetween(r,l),d=at.shiftPoint(s,o,(c+1)*4),h=at.shiftPoint(o,s,(c+1)*4),x=this.transitionsBetween(d,r),y=this.transitionsBetween(h,l);return x<y?(t[0]=r,t[1]=s,t[2]=o,t[3]=l):(t[0]=s,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],l=t[3],c=this.transitionsBetween(r,l),d=this.transitionsBetween(s,l),h=at.shiftPoint(r,s,(d+1)*4),x=at.shiftPoint(o,s,(c+1)*4);c=this.transitionsBetween(h,l),d=this.transitionsBetween(x,l);let y=new oe(l.getX()+(o.getX()-s.getX())/(c+1),l.getY()+(o.getY()-s.getY())/(c+1)),v=new oe(l.getX()+(r.getX()-s.getX())/(d+1),l.getY()+(r.getY()-s.getY())/(d+1));if(!this.isValid(y))return this.isValid(v)?v:null;if(!this.isValid(v))return y;let I=this.transitionsBetween(h,y)+this.transitionsBetween(x,y),_=this.transitionsBetween(h,v)+this.transitionsBetween(x,v);return I>_?y:v}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],l=t[3],c=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1,h=at.shiftPoint(r,s,d*4),x=at.shiftPoint(o,s,c*4);c=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(x,l)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let y=(r.getX()+s.getX()+o.getX()+l.getX())/4,v=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=at.moveAway(r,y,v),s=at.moveAway(s,y,v),o=at.moveAway(o,y,v),l=at.moveAway(l,y,v);let I,_;return h=at.shiftPoint(r,s,d*4),h=at.shiftPoint(h,l,c*4),I=at.shiftPoint(s,r,d*4),I=at.shiftPoint(I,o,c*4),x=at.shiftPoint(o,l,d*4),x=at.shiftPoint(x,s,c*4),_=at.shiftPoint(l,o,d*4),_=at.shiftPoint(_,r,c*4),[h,I,x,_]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,l,c,d){return ar.getInstance().sampleGrid(t,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),d=Math.abs(c-o)>Math.abs(l-s);if(d){let L=s;s=o,o=L,L=l,l=c,c=L}let h=Math.abs(l-s),x=Math.abs(c-o),y=-h/2,v=o<c?1:-1,I=s<l?1:-1,_=0,D=this.image.get(d?o:s,d?s:o);for(let L=s,P=o;L!==l;L+=I){let H=this.image.get(d?P:L,d?L:P);if(H!==D&&(_++,D=H),y+=x,y>0){if(P===c)break;P+=v,y-=h}}return _}}class ur{constructor(){this.decoder=new yh}decode(t,r=null){let s,o;if(r!=null&&r.has(J.PURE_BARCODE)){const x=ur.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(x),o=ur.NO_POINTS}else{const x=new at(t.getBlackMatrix()).detect();s=this.decoder.decode(x.getBits()),o=x.getPoints()}const l=s.getRawBytes(),c=new Ze(s.getText(),l,8*l.length,o,ae.DATA_MATRIX,B.currentTimeMillis()),d=s.getByteSegments();d!=null&&c.putMetadata(mt.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&c.putMetadata(mt.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new W;const o=this.moduleSize(r,t);let l=r[1];const c=s[1];let d=r[0];const x=(s[0]-d+1)/o,y=(c-l+1)/o;if(x<=0||y<=0)throw new W;const v=o/2;l+=v,d+=v;const I=new ot(x,y);for(let _=0;_<y;_++){const D=l+_*o;for(let L=0;L<x;L++)t.get(d+L*o,D)&&I.set(L,_)}return I}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const l=t[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new W;const c=o-t[0];if(c===0)throw new W;return c}}ur.NO_POINTS=[];class Ch extends un{constructor(t=500){super(new ur,t)}}var gi;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(gi||(gi={}));class Ue{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,Ue.FOR_BITS.set(s,this),Ue.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ue.L;case"M":return Ue.M;case"Q":return Ue.Q;case"H":return Ue.H;default:throw new E(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ue))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ue.FOR_BITS.size)throw new A;return Ue.FOR_BITS.get(t)}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.L=new Ue(gi.L,"L",1),Ue.M=new Ue(gi.M,"M",0),Ue.Q=new Ue(gi.Q,"Q",3),Ue.H=new Ue(gi.H,"H",2);class Ot{constructor(t){this.errorCorrectionLevel=Ue.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return M.bitCount(t^r)}static decodeFormatInformation(t,r){const s=Ot.doDecodeFormatInformation(t,r);return s!==null?s:Ot.doDecodeFormatInformation(t^Ot.FORMAT_INFO_MASK_QR,r^Ot.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Ot.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===t||c===r)return new Ot(l[1]);let d=Ot.numBitsDiffering(t,c);d<s&&(o=l[1],s=d),t!==r&&(d=Ot.numBitsDiffering(r,c),d<s&&(o=l[1],s=d))}return s<=3?new Ot(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Ot))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Ot.FORMAT_INFO_MASK_QR=21522,Ot.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class le{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();for(const d of c)o+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new V;try{return this.getVersionForNumber((t-17)/4)}catch{throw new V}}static getVersionForNumber(t){if(t<1||t>40)throw new A;return le.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<le.VERSION_DECODE_INFO.length;o++){const l=le.VERSION_DECODE_INFO[o];if(l===t)return le.getVersionForNumber(o+7);const c=Ot.numBitsDiffering(t,l);c<r&&(s=o+7,r=c)}return r<=3?le.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new ot(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<s;c++)o===0&&(c===0||c===s-1)||o===s-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),le.VERSIONS=[new le(1,new Int32Array(0),new F(7,new T(1,19)),new F(10,new T(1,16)),new F(13,new T(1,13)),new F(17,new T(1,9))),new le(2,Int32Array.from([6,18]),new F(10,new T(1,34)),new F(16,new T(1,28)),new F(22,new T(1,22)),new F(28,new T(1,16))),new le(3,Int32Array.from([6,22]),new F(15,new T(1,55)),new F(26,new T(1,44)),new F(18,new T(2,17)),new F(22,new T(2,13))),new le(4,Int32Array.from([6,26]),new F(20,new T(1,80)),new F(18,new T(2,32)),new F(26,new T(2,24)),new F(16,new T(4,9))),new le(5,Int32Array.from([6,30]),new F(26,new T(1,108)),new F(24,new T(2,43)),new F(18,new T(2,15),new T(2,16)),new F(22,new T(2,11),new T(2,12))),new le(6,Int32Array.from([6,34]),new F(18,new T(2,68)),new F(16,new T(4,27)),new F(24,new T(4,19)),new F(28,new T(4,15))),new le(7,Int32Array.from([6,22,38]),new F(20,new T(2,78)),new F(18,new T(4,31)),new F(18,new T(2,14),new T(4,15)),new F(26,new T(4,13),new T(1,14))),new le(8,Int32Array.from([6,24,42]),new F(24,new T(2,97)),new F(22,new T(2,38),new T(2,39)),new F(22,new T(4,18),new T(2,19)),new F(26,new T(4,14),new T(2,15))),new le(9,Int32Array.from([6,26,46]),new F(30,new T(2,116)),new F(22,new T(3,36),new T(2,37)),new F(20,new T(4,16),new T(4,17)),new F(24,new T(4,12),new T(4,13))),new le(10,Int32Array.from([6,28,50]),new F(18,new T(2,68),new T(2,69)),new F(26,new T(4,43),new T(1,44)),new F(24,new T(6,19),new T(2,20)),new F(28,new T(6,15),new T(2,16))),new le(11,Int32Array.from([6,30,54]),new F(20,new T(4,81)),new F(30,new T(1,50),new T(4,51)),new F(28,new T(4,22),new T(4,23)),new F(24,new T(3,12),new T(8,13))),new le(12,Int32Array.from([6,32,58]),new F(24,new T(2,92),new T(2,93)),new F(22,new T(6,36),new T(2,37)),new F(26,new T(4,20),new T(6,21)),new F(28,new T(7,14),new T(4,15))),new le(13,Int32Array.from([6,34,62]),new F(26,new T(4,107)),new F(22,new T(8,37),new T(1,38)),new F(24,new T(8,20),new T(4,21)),new F(22,new T(12,11),new T(4,12))),new le(14,Int32Array.from([6,26,46,66]),new F(30,new T(3,115),new T(1,116)),new F(24,new T(4,40),new T(5,41)),new F(20,new T(11,16),new T(5,17)),new F(24,new T(11,12),new T(5,13))),new le(15,Int32Array.from([6,26,48,70]),new F(22,new T(5,87),new T(1,88)),new F(24,new T(5,41),new T(5,42)),new F(30,new T(5,24),new T(7,25)),new F(24,new T(11,12),new T(7,13))),new le(16,Int32Array.from([6,26,50,74]),new F(24,new T(5,98),new T(1,99)),new F(28,new T(7,45),new T(3,46)),new F(24,new T(15,19),new T(2,20)),new F(30,new T(3,15),new T(13,16))),new le(17,Int32Array.from([6,30,54,78]),new F(28,new T(1,107),new T(5,108)),new F(28,new T(10,46),new T(1,47)),new F(28,new T(1,22),new T(15,23)),new F(28,new T(2,14),new T(17,15))),new le(18,Int32Array.from([6,30,56,82]),new F(30,new T(5,120),new T(1,121)),new F(26,new T(9,43),new T(4,44)),new F(28,new T(17,22),new T(1,23)),new F(28,new T(2,14),new T(19,15))),new le(19,Int32Array.from([6,30,58,86]),new F(28,new T(3,113),new T(4,114)),new F(26,new T(3,44),new T(11,45)),new F(26,new T(17,21),new T(4,22)),new F(26,new T(9,13),new T(16,14))),new le(20,Int32Array.from([6,34,62,90]),new F(28,new T(3,107),new T(5,108)),new F(26,new T(3,41),new T(13,42)),new F(30,new T(15,24),new T(5,25)),new F(28,new T(15,15),new T(10,16))),new le(21,Int32Array.from([6,28,50,72,94]),new F(28,new T(4,116),new T(4,117)),new F(26,new T(17,42)),new F(28,new T(17,22),new T(6,23)),new F(30,new T(19,16),new T(6,17))),new le(22,Int32Array.from([6,26,50,74,98]),new F(28,new T(2,111),new T(7,112)),new F(28,new T(17,46)),new F(30,new T(7,24),new T(16,25)),new F(24,new T(34,13))),new le(23,Int32Array.from([6,30,54,78,102]),new F(30,new T(4,121),new T(5,122)),new F(28,new T(4,47),new T(14,48)),new F(30,new T(11,24),new T(14,25)),new F(30,new T(16,15),new T(14,16))),new le(24,Int32Array.from([6,28,54,80,106]),new F(30,new T(6,117),new T(4,118)),new F(28,new T(6,45),new T(14,46)),new F(30,new T(11,24),new T(16,25)),new F(30,new T(30,16),new T(2,17))),new le(25,Int32Array.from([6,32,58,84,110]),new F(26,new T(8,106),new T(4,107)),new F(28,new T(8,47),new T(13,48)),new F(30,new T(7,24),new T(22,25)),new F(30,new T(22,15),new T(13,16))),new le(26,Int32Array.from([6,30,58,86,114]),new F(28,new T(10,114),new T(2,115)),new F(28,new T(19,46),new T(4,47)),new F(28,new T(28,22),new T(6,23)),new F(30,new T(33,16),new T(4,17))),new le(27,Int32Array.from([6,34,62,90,118]),new F(30,new T(8,122),new T(4,123)),new F(28,new T(22,45),new T(3,46)),new F(30,new T(8,23),new T(26,24)),new F(30,new T(12,15),new T(28,16))),new le(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new T(3,117),new T(10,118)),new F(28,new T(3,45),new T(23,46)),new F(30,new T(4,24),new T(31,25)),new F(30,new T(11,15),new T(31,16))),new le(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new T(7,116),new T(7,117)),new F(28,new T(21,45),new T(7,46)),new F(30,new T(1,23),new T(37,24)),new F(30,new T(19,15),new T(26,16))),new le(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new T(5,115),new T(10,116)),new F(28,new T(19,47),new T(10,48)),new F(30,new T(15,24),new T(25,25)),new F(30,new T(23,15),new T(25,16))),new le(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new T(13,115),new T(3,116)),new F(28,new T(2,46),new T(29,47)),new F(30,new T(42,24),new T(1,25)),new F(30,new T(23,15),new T(28,16))),new le(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new T(17,115)),new F(28,new T(10,46),new T(23,47)),new F(30,new T(10,24),new T(35,25)),new F(30,new T(19,15),new T(35,16))),new le(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new T(17,115),new T(1,116)),new F(28,new T(14,46),new T(21,47)),new F(30,new T(29,24),new T(19,25)),new F(30,new T(11,15),new T(46,16))),new le(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new T(13,115),new T(6,116)),new F(28,new T(14,46),new T(23,47)),new F(30,new T(44,24),new T(7,25)),new F(30,new T(59,16),new T(1,17))),new le(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new T(12,121),new T(7,122)),new F(28,new T(12,47),new T(26,48)),new F(30,new T(39,24),new T(14,25)),new F(30,new T(22,15),new T(41,16))),new le(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new T(6,121),new T(14,122)),new F(28,new T(6,47),new T(34,48)),new F(30,new T(46,24),new T(10,25)),new F(30,new T(2,15),new T(64,16))),new le(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new T(17,122),new T(4,123)),new F(28,new T(29,46),new T(14,47)),new F(30,new T(49,24),new T(10,25)),new F(30,new T(24,15),new T(46,16))),new le(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new T(4,122),new T(18,123)),new F(28,new T(13,46),new T(32,47)),new F(30,new T(48,24),new T(14,25)),new F(30,new T(42,15),new T(32,16))),new le(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new T(20,117),new T(4,118)),new F(28,new T(40,47),new T(7,48)),new F(30,new T(43,24),new T(22,25)),new F(30,new T(10,15),new T(67,16))),new le(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new T(19,118),new T(6,119)),new F(28,new T(18,47),new T(31,48)),new F(30,new T(34,24),new T(34,25)),new F(30,new T(20,15),new T(61,16)))];var wt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class dn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}dn.values=new Map([[wt.DATA_MASK_000,new dn(wt.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[wt.DATA_MASK_001,new dn(wt.DATA_MASK_001,(S,t)=>(S&1)===0)],[wt.DATA_MASK_010,new dn(wt.DATA_MASK_010,(S,t)=>t%3===0)],[wt.DATA_MASK_011,new dn(wt.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[wt.DATA_MASK_100,new dn(wt.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[wt.DATA_MASK_101,new dn(wt.DATA_MASK_101,(S,t)=>S*t%6===0)],[wt.DATA_MASK_110,new dn(wt.DATA_MASK_110,(S,t)=>S*t%6<3)],[wt.DATA_MASK_111,new dn(wt.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class Eh{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new V;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Ot.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return le.getVersionForNumber(r);let s=0;const o=t-11;for(let c=5;c>=0;c--)for(let d=t-9;d>=o;d--)s=this.copyBit(d,c,s);let l=le.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;s=0;for(let c=5;c>=0;c--)for(let d=t-9;d>=o;d--)s=this.copyBit(c,d,s);if(l=le.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new V}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=dn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let c=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,x=0,y=0;for(let v=o-1;v>0;v-=2){v===6&&v--;for(let I=0;I<o;I++){const _=c?o-1-I:I;for(let D=0;D<2;D++)l.get(v-D,_)||(y++,x<<=1,this.bitMatrix.get(v-D,_)&&(x|=1),y===8&&(d[h++]=x,y=0,x=0))}c=!c}if(h!==r.getTotalCodewords())throw new V;return d}remask(){if(this.parsedFormatInfo===null)return;const t=dn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Xa{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new A;const o=r.getECBlocksForLevel(s);let l=0;const c=o.getECBlocks();for(const D of c)l+=D.getCount();const d=new Array(l);let h=0;for(const D of c)for(let L=0;L<D.getCount();L++){const P=D.getDataCodewords(),H=o.getECCodewordsPerBlock()+P;d[h++]=new Xa(P,new Uint8Array(H))}const x=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==x;)y--;y++;const v=x-o.getECCodewordsPerBlock();let I=0;for(let D=0;D<v;D++)for(let L=0;L<h;L++)d[L].codewords[D]=t[I++];for(let D=y;D<h;D++)d[D].codewords[v]=t[I++];const _=d[0].codewords.length;for(let D=v;D<_;D++)for(let L=0;L<h;L++){const P=L<y?D:D+1;d[L].codewords[P]=t[I++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var hn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(hn||(hn={}));class ce{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,ce.FOR_BITS.set(o,this),ce.FOR_VALUE.set(t,this)}static forBits(t){const r=ce.FOR_BITS.get(t);if(r===void 0)throw new A;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ce))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}ce.FOR_BITS=new Map,ce.FOR_VALUE=new Map,ce.TERMINATOR=new ce(hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ce.NUMERIC=new ce(hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ce.ALPHANUMERIC=new ce(hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ce.STRUCTURED_APPEND=new ce(hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ce.BYTE=new ce(hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ce.ECI=new ce(hn.ECI,"ECI",Int32Array.from([0,0,0]),7),ce.KANJI=new ce(hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ce.FNC1_FIRST_POSITION=new ce(hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ce.FNC1_SECOND_POSITION=new ce(hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ce.HANZI=new ce(hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ke{static decode(t,r,s,o){const l=new Ya(t);let c=new Se;const d=new Array;let h=-1,x=-1;try{let y=null,v=!1,I;do{if(l.available()<4)I=ce.TERMINATOR;else{const _=l.readBits(4);I=ce.forBits(_)}switch(I){case ce.TERMINATOR:break;case ce.FNC1_FIRST_POSITION:case ce.FNC1_SECOND_POSITION:v=!0;break;case ce.STRUCTURED_APPEND:if(l.available()<16)throw new V;h=l.readBits(8),x=l.readBits(8);break;case ce.ECI:const _=Ke.parseECIValue(l);if(y=G.getCharacterSetECIByValue(_),y===null)throw new V;break;case ce.HANZI:const D=l.readBits(4),L=l.readBits(I.getCharacterCountBits(r));D===Ke.GB2312_SUBSET&&Ke.decodeHanziSegment(l,c,L);break;default:const P=l.readBits(I.getCharacterCountBits(r));switch(I){case ce.NUMERIC:Ke.decodeNumericSegment(l,c,P);break;case ce.ALPHANUMERIC:Ke.decodeAlphanumericSegment(l,c,P,v);break;case ce.BYTE:Ke.decodeByteSegment(l,c,P,y,d,o);break;case ce.KANJI:Ke.decodeKanjiSegment(l,c,P);break;default:throw new V}break}}while(I!==ce.TERMINATOR)}catch{throw new V}return new $i(t,c.toString(),d.length===0?null:d,s===null?null:s.toString(),h,x)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new V;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=t.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,o[l]=d>>8&255,o[l+1]=d&255,l+=2,s--}try{r.append(Fe.decode(o,ue.GB2312))}catch(c){throw new V(c)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new V;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=t.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,o[l]=d>>8,o[l+1]=d,l+=2,s--}try{r.append(Fe.decode(o,ue.SHIFT_JIS))}catch(c){throw new V(c)}}static decodeByteSegment(t,r,s,o,l,c){if(8*s>t.available())throw new V;const d=new Uint8Array(s);for(let x=0;x<s;x++)d[x]=t.readBits(8);let h;o===null?h=ue.guessEncoding(d,c):h=o.getName();try{r.append(Fe.decode(d,h))}catch(x){throw new V(x)}l.push(d)}static toAlphaNumericChar(t){if(t>=Ke.ALPHANUMERIC_CHARS.length)throw new V;return Ke.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const l=r.length();for(;s>1;){if(t.available()<11)throw new V;const c=t.readBits(11);r.append(Ke.toAlphaNumericChar(Math.floor(c/45))),r.append(Ke.toAlphaNumericChar(c%45)),s-=2}if(s===1){if(t.available()<6)throw new V;r.append(Ke.toAlphaNumericChar(t.readBits(6)))}if(o)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new V;const o=t.readBits(10);if(o>=1e3)throw new V;r.append(Ke.toAlphaNumericChar(Math.floor(o/100))),r.append(Ke.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Ke.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new V;const o=t.readBits(7);if(o>=100)throw new V;r.append(Ke.toAlphaNumericChar(Math.floor(o/10))),r.append(Ke.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new V;const o=t.readBits(4);if(o>=10)throw new V;r.append(Ke.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new V}}Ke.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ke.GB2312_SUBSET=1;class Fu{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Ah{constructor(){this.rsDecoder=new ts(_e.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(ot.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new Eh(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new Fu(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=Xa.getDataBlocks(l,s,o);let d=0;for(const y of c)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let x=0;for(const y of c){const v=y.getCodewords(),I=y.getNumDataCodewords();this.correctErrors(v,I);for(let _=0;_<I;_++)h[x++]=v[_]}return Ke.decode(h,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new b}for(let o=0;o<r;o++)t[o]=s[o]}}class Qa extends oe{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+s)/2;return new Qa(o,l,c)}}class fo{constructor(t,r,s,o,l,c,d){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,l=this.startY+r/2,c=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const x=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let y=t;for(;y<o&&!d.get(y,x);)y++;let v=0;for(;y<o;){if(d.get(y,x))if(v===1)c[1]++;else if(v===2){if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,x,y);if(I!==null)return I}c[0]=c[2],c[1]=1,c[2]=0,v=1}else c[++v]++;else v===1&&v++,c[v]++;y++}if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,x,o);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const l=this.image,c=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<c&&l.get(r,h)&&d[1]<=s;)d[1]++,h++;if(h===c||d[1]>s)return NaN;for(;h<c&&!l.get(r,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-o)>=2*o?NaN:this.foundPatternCross(d)?fo.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],l=fo.centerFromEnd(t,s),c=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(c)){const d=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,c,l))return x.combineEstimate(c,l,d);const h=new Qa(l,c,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Za extends oe{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+t)/o,d=(this.count*this.estimatedModuleSize+s)/o;return new Za(l,c,d,o)}}class Sh{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(J.TRY_HARDER)!==void 0,s=t!=null&&t.get(J.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let d=Math.floor(3*l/(4*yt.MAX_MODULES));(d<yt.MIN_SKIP||r)&&(d=yt.MIN_SKIP);let h=!1;const x=new Int32Array(5);for(let v=d-1;v<l&&!h;v+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let I=0;for(let _=0;_<c;_++)if(o.get(_,v))(I&1)===1&&I++,x[I]++;else if(I&1)x[I]++;else if(I===4)if(yt.foundPatternCross(x)){if(this.handlePossibleCenter(x,v,_,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>x[2]&&(v+=L-x[2]-d,_=c-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,I=3;continue}I=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,I=3;else x[++I]++;yt.foundPatternCross(x)&&this.handlePossibleCenter(x,v,c,s)===!0&&(d=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return oe.orderBestPatterns(y),new Sh(y)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const c=t[l];if(c===0)return!1;r+=c}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const l=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;t>=c&&r>=c&&d.get(r-c,t-c);)l[2]++,c++;if(t<c||r<c)return!1;for(;t>=c&&r>=c&&!d.get(r-c,t-c)&&l[1]<=s;)l[1]++,c++;if(t<c||r<c||l[1]>s)return!1;for(;t>=c&&r>=c&&d.get(r-c,t-c)&&l[0]<=s;)l[0]++,c++;if(l[0]>s)return!1;const h=d.getHeight(),x=d.getWidth();for(c=1;t+c<h&&r+c<x&&d.get(r+c,t+c);)l[2]++,c++;if(t+c>=h||r+c>=x)return!1;for(;t+c<h&&r+c<x&&!d.get(r+c,t+c)&&l[3]<s;)l[3]++,c++;if(t+c>=h||r+c>=x||l[3]>=s)return!1;for(;t+c<h&&r+c<x&&d.get(r+c,t+c)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-o)<2*o&&yt.foundPatternCross(l)}crossCheckVertical(t,r,s,o){const l=this.image,c=l.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<c&&l.get(r,h);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(r,h)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(r,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-o)>=2*o?NaN:yt.foundPatternCross(d)?yt.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,r,s,o){const l=this.image,c=l.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<c&&l.get(h,r);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(h,r)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(h,r)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-o)>=o?NaN:yt.foundPatternCross(d)?yt.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let c=yt.centerFromEnd(t,s),d=this.crossCheckVertical(r,Math.floor(c),t[2],l);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),t[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),t[2],l)))){const h=l/7;let x=!1;const y=this.possibleCenters;for(let v=0,I=y.length;v<I;v++){const _=y[v];if(_.aboutEquals(h,d,c)){y[v]=_.combineEstimate(d,c,h),x=!0;break}}if(!x){const v=new Za(c,d,h);y.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=yt.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=yt.CENTER_QUORUM&&(t++,r+=c.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const r=this.possibleCenters;let s;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const x=h.getEstimatedModuleSize();o+=x,l+=x*x}s=o/t;let c=Math.sqrt(l/t-s*s);r.sort((h,x)=>{const y=Math.abs(x.getEstimatedModuleSize()-s),v=Math.abs(h.getEstimatedModuleSize()-s);return y<v?-1:y>v?1:0});const d=Math.max(.2*s,c);for(let h=0;h<r.length&&r.length>3;h++){const x=r[h];Math.abs(x.getEstimatedModuleSize()-s)>d&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}yt.CENTER_QUORUM=2,yt.MIN_SKIP=3,yt.MAX_MODULES=57;class rs{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(J.NEED_RESULT_POINT_CALLBACK);const s=new yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new W("No pattern found in proccess finder.");const c=rs.computeDimension(r,s,o,l),d=le.getProvisionalVersionForDimension(c),h=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const _=s.getX()-r.getX()+o.getX(),D=s.getY()-r.getY()+o.getY(),L=1-3/h,P=Math.floor(r.getX()+L*(_-r.getX())),H=Math.floor(r.getY()+L*(D-r.getY()));for(let K=4;K<=16;K<<=1)try{x=this.findAlignmentInRegion(l,P,H,K);break}catch(q){if(!(q instanceof W))throw q}}const y=rs.createTransform(r,s,o,x,c),v=rs.sampleGrid(this.image,y,c);let I;return x===null?I=[o,r,s]:I=[o,r,s,x],new oo(v,I)}static createTransform(t,r,s,o,l){const c=l-3.5;let d,h,x,y;return o!==null?(d=o.getX(),h=o.getY(),x=c-3,y=x):(d=r.getX()-t.getX()+s.getX(),h=r.getY()-t.getY()+s.getY(),x=c,y=c),An.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,x,y,3.5,c,t.getX(),t.getY(),r.getX(),r.getY(),d,h,s.getX(),s.getY())}static sampleGrid(t,r,s){return ar.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const l=Ie.round(oe.distance(t,r)/o),c=Ie.round(oe.distance(t,s)/o);let d=Math.floor((l+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new W("Dimensions could be not found.")}return d}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,s,o),c=1,d=t-(s-t);d<0?(c=t/(t-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*c);return c=1,h<0?(c=r/(r-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*c),l+=this.sizeOfBlackWhiteBlackRun(t,r,d,h),l-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const l=Math.abs(o-r)>Math.abs(s-t);if(l){let _=t;t=r,r=_,_=s,s=o,o=_}const c=Math.abs(s-t),d=Math.abs(o-r);let h=-c/2;const x=t<s?1:-1,y=r<o?1:-1;let v=0;const I=s+x;for(let _=t,D=r;_!==I;_+=x){const L=l?D:_,P=l?_:D;if(v===1===this.image.get(L,P)){if(v===2)return Ie.distance(_,D,t,r);v++}if(h+=d,h>0){if(D===o)break;D+=y,h-=c}}return v===2?Ie.distance(s+x,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const l=Math.floor(o*t),c=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-c<t*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),x=Math.min(this.image.getHeight()-1,s+l);if(x-h<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new fo(this.image,c,h,d-c,x-h,t,this.resultPointCallback).find()}}class fr{constructor(){this.decoder=new Ah}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(J.PURE_BARCODE)!==void 0){const h=fr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=fr.NO_POINTS}else{const h=new rs(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Fu&&s.getOther().applyMirroredCorrection(o);const l=new Ze(s.getText(),s.getRawBytes(),void 0,o,ae.QR_CODE,void 0),c=s.getByteSegments();c!==null&&l.putMetadata(mt.BYTE_SEGMENTS,c);const d=s.getECLevel();return d!==null&&l.putMetadata(mt.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(mt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new W;const o=this.moduleSize(r,t);let l=r[1],c=s[1],d=r[0],h=s[0];if(d>=h||l>=c)throw new W;if(c-l!==h-d&&(h=d+(c-l),h>=t.getWidth()))throw new W;const x=Math.round((h-d+1)/o),y=Math.round((c-l+1)/o);if(x<=0||y<=0)throw new W;if(y!==x)throw new W;const v=Math.floor(o/2);l+=v,d+=v;const I=d+Math.floor((x-1)*o)-h;if(I>0){if(I>v)throw new W;d-=I}const _=l+Math.floor((y-1)*o)-c;if(_>0){if(_>v)throw new W;l-=_}const D=new ot(x,y);for(let L=0;L<y;L++){const P=l+Math.floor(L*o);for(let H=0;H<x;H++)t.get(d+Math.floor(H*o),P)&&D.set(H,L)}return D}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let l=t[0],c=t[1],d=!0,h=0;for(;l<o&&c<s;){if(d!==r.get(l,c)){if(++h===5)break;d=!d}l++,c++}if(l===o||c===s)throw new W;return(l-t[0])/7}}fr.NO_POINTS=new Array;class he{PDF417Common(){}static getBitCountSum(t){return Ie.sum(t)}static toIntArray(t){if(t==null||!t.length)return he.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=O.binarySearch(he.SYMBOL_TABLE,t&262143);return r<0?-1:(he.CODEWORD_TABLE[r]-1)%he.NUMBER_OF_CODEWORDS}}he.NUMBER_OF_CODEWORDS=929,he.MAX_CODEWORDS_IN_BARCODE=he.NUMBER_OF_CODEWORDS-1,he.MIN_ROWS_IN_BARCODE=3,he.MAX_ROWS_IN_BARCODE=90,he.MODULES_IN_CODEWORD=17,he.MODULES_IN_STOP_PATTERN=18,he.BARS_IN_MODULE=8,he.EMPTY_INT_ARRAY=new Int32Array([]),he.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),he.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),l=we.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=we.detect(s,o)),new vh(o,l)}static detect(t,r){const s=new Array;let o=0,l=0,c=!1;for(;o<r.getHeight();){const d=we.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=we.ROW_STEP;continue}if(c=!0,s.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),l=t.getWidth(),c=new Array(8);return we.copyToResult(c,we.findRowsWithPattern(t,o,l,r,s,we.START_PATTERN),we.INDEXES_START_PATTERN),c[4]!=null&&(s=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),we.copyToResult(c,we.findRowsWithPattern(t,o,l,r,s,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),c}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,l,c){const d=new Array(4);let h=!1;const x=new Int32Array(c.length);for(;o<r;o+=we.ROW_STEP){let v=we.findGuardPattern(t,l,o,s,!1,c,x);if(v!=null){for(;o>0;){const I=we.findGuardPattern(t,l,--o,s,!1,c,x);if(I!=null)v=I;else{o++;break}}d[0]=new oe(v[0],o),d[1]=new oe(v[1],o),h=!0;break}}let y=o+1;if(h){let v=0,I=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<r;y++){const _=we.findGuardPattern(t,I[0],y,s,!1,c,x);if(_!=null&&Math.abs(I[0]-_[0])<we.MAX_PATTERN_DRIFT&&Math.abs(I[1]-_[1])<we.MAX_PATTERN_DRIFT)I=_,v=0;else{if(v>we.SKIPPED_ROW_COUNT_MAX)break;v++}}y-=v+1,d[2]=new oe(I[0],y),d[3]=new oe(I[1],y)}return y-o<we.BARCODE_MIN_HEIGHT&&O.fill(d,null),d}static findGuardPattern(t,r,s,o,l,c,d){O.fillWithin(d,0,d.length,0);let h=r,x=0;for(;t.get(h,s)&&h>0&&x++<we.MAX_PIXEL_DRIFT;)h--;let y=h,v=0,I=c.length;for(let _=l;y<o;y++)if(t.get(y,s)!==_)d[v]++;else{if(v===I-1){if(we.patternMatchVariance(d,c,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],B.arraycopy(d,2,d,0,v-1),d[v-1]=0,d[v]=0,v--}else v++;d[v]=1,_=!_}return v===I-1&&we.patternMatchVariance(d,c,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(t,r,s){let o=t.length,l=0,c=0;for(let x=0;x<o;x++)l+=t[x],c+=r[x];if(l<c)return 1/0;let d=l/c;s*=d;let h=0;for(let x=0;x<o;x++){let y=t[x],v=r[x]*d,I=y>v?y-v:v-y;if(I>s)return 1/0;h+=I}return h/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class St{constructor(t,r){if(r.length===0)throw new A;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),B.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let c=r;r=s,s=c}let o=new Int32Array(s.length),l=s.length-r.length;B.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=this.field.add(r[c-l],s[c]);return new St(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof St?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new St(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,c=new Int32Array(s+l-1);for(let d=0;d<s;d++){let h=r[d];for(let x=0;x<l;x++)c[d+x]=this.field.add(c[d+x],this.field.multiply(h,o[x]))}return new St(this.field,c)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new St(this.field,r)}multiplyScalar(t){if(t===0)return new St(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new St(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new A;if(r===0)return new St(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new St(this.field,o)}toString(){let t=new Se;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Ih{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new A;return this.logTable[t]}inverse(t){if(t===0)throw new io;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ka extends Ih{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new St(this,new Int32Array([0])),this.one=new St(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new A;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new St(this,s)}}Ka.PDF417_GF=new Ka(he.NUMBER_OF_CODEWORDS,3);class ju{constructor(){this.field=Ka.PDF417_GF}decode(t,r,s){let o=new St(this.field,t),l=new Int32Array(r),c=!1;for(let D=r;D>0;D--){let L=o.evaluateAt(this.field.exp(D));l[r-D]=L,L!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(s!=null)for(const D of s){let L=this.field.exp(t.length-1-D),P=new St(this.field,new Int32Array([this.field.subtract(0,L),1]));d=d.multiply(P)}let h=new St(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),y=x[0],v=x[1],I=this.findErrorLocations(y),_=this.findErrorMagnitudes(v,y,I);for(let D=0;D<I.length;D++){let L=t.length-1-this.field.log(I[D]);if(L<0)throw b.getChecksumInstance();t[L]=this.field.subtract(t[L],_[D])}return I.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let o=t,l=r,c=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let I=o,_=c;if(o=l,c=d,o.isZero())throw b.getChecksumInstance();l=I;let D=this.field.getZero(),L=o.getCoefficient(o.getDegree()),P=this.field.inverse(L);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let H=l.getDegree()-o.getDegree(),K=this.field.multiply(l.getCoefficient(l.getDegree()),P);D=D.add(this.field.buildMonomial(H,K)),l=l.subtract(o.multiplyByMonomial(H,K))}d=D.multiply(c).subtract(_).negative()}let h=d.getCoefficient(0);if(h===0)throw b.getChecksumInstance();let x=this.field.inverse(h),y=d.multiply(x),v=l.multiply(x);return[y,v]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw b.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let x=1;x<=o;x++)l[o-x]=this.field.multiply(x,r.getCoefficient(x));let c=new St(this.field,l),d=s.length,h=new Int32Array(d);for(let x=0;x<d;x++){let y=this.field.inverse(s[x]),v=this.field.subtract(0,t.evaluateAt(y)),I=this.field.inverse(c.evaluateAt(y));h[x]=this.field.multiply(v,I)}return h}}class Gr{constructor(t,r,s,o,l){t instanceof Gr?this.constructor_2(t):this.constructor_1(t,r,s,o,l)}constructor_1(t,r,s,o,l){const c=r==null||s==null,d=o==null||l==null;if(c&&d)throw new W;c?(r=new oe(0,o.getY()),s=new oe(0,l.getY())):d&&(o=new oe(t.getWidth()-1,r.getY()),l=new oe(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Gr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(t>0){let h=s?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);let y=new oe(h.getX(),x);s?o=y:c=y}if(r>0){let h=s?this.bottomLeft:this.bottomRight,x=Math.trunc(h.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let y=new oe(h.getX(),x);s?l=y:d=y}return new Gr(this.image,o,l,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Nh{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class is{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(c,d,h,x,y,v){if(c==="%%")return"%";if(r[++s]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let I=y?parseInt(y.substr(1)):void 0,_;switch(v){case"s":_=r[s];break;case"c":_=r[s][0];break;case"f":_=parseFloat(r[s]).toFixed(c);break;case"p":_=parseFloat(r[s]).toPrecision(c);break;case"e":_=parseFloat(r[s]).toExponential(c);break;case"x":_=parseInt(r[s]).toString(I||16);break;case"d":_=parseFloat(parseInt(r[s],I||10).toPrecision(c)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(I);let D=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;_.length<D;)_=d!==void 0?_+L:L+_;return _}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=is.form(t,r)}toString(){return this.buffer}}class ss{constructor(t){this.boundingBox=new Gr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<ss.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new is;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}ss.MAX_NEARBY_DISTANCE=5;class os{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return he.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Uu extends ss{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,x=1,y=0;for(let v=c;v<d;v++){if(r[v]==null)continue;let I=r[v],_=I.getRowNumber()-h;if(_===0)y++;else if(_===1)x=Math.max(x,y),y=1,h=I.getRowNumber();else if(_<0||I.getRowNumber()>=t.getRowCount()||_>v)r[v]=null;else{let D;x>2?D=(x-2)*_:D=_;let L=D>=v;for(let P=1;P<=D&&!L;P++)L=r[v-P]!=null;L?r[v]=null:(h=I.getRowNumber(),y=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let x=l;x<c;x++){if(d[x]==null)continue;let y=d[x];y.setRowNumberAsRowIndicatorColumn();let v=y.getRowNumber()-h;v===0||(v===1?h=y.getRowNumber():y.getRowNumber()>=t.getRowCount()?d[x]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new os,s=new os,o=new os,l=new os;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<he.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>he.MAX_ROWS_IN_BARCODE)return null;let c=new Nh(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:l+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class as{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=he.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(t[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=as.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=as.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=s[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=s[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=l[r+2],d[13]=c[r+2]);for(let h of d)if(as.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new is;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ls{constructor(t,r,s,o){this.rowNumber=ls.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ls.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ls.BARCODE_ROW_UNKNOWN=-1;class Wt{static initialize(){for(let t=0;t<he.SYMBOL_TABLE.length;t++){let r=he.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<he.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,Wt.RATIOS_TABLE[t]||(Wt.RATIOS_TABLE[t]=new Array(he.BARS_IN_MODULE)),Wt.RATIOS_TABLE[t][he.BARS_IN_MODULE-o-1]=Math.fround(l/he.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Wt.getDecodedCodewordValue(Wt.sampleBitCounts(t));return r!==-1?r:Wt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Ie.sum(t),s=new Int32Array(he.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<he.MODULES_IN_CODEWORD;c++){let d=r/(2*he.MODULES_IN_CODEWORD)+c*r/he.MODULES_IN_CODEWORD;l+t[o]<=d&&(l+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=Wt.getBitValue(t);return he.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Ie.sum(t),s=new Array(he.BARS_IN_MODULE);if(r>1)for(let c=0;c<s.length;c++)s[c]=Math.fround(t[c]/r);let o=so.MAX_VALUE,l=-1;this.bSymbolTableReady||Wt.initialize();for(let c=0;c<Wt.RATIOS_TABLE.length;c++){let d=0,h=Wt.RATIOS_TABLE[c];for(let x=0;x<he.BARS_IN_MODULE;x++){let y=Math.fround(h[x]-s[x]);if(d+=Math.fround(y*y),d>=o)break}d<o&&(o=d,l=he.SYMBOL_TABLE[c])}return l}}Wt.bSymbolTableReady=!1,Wt.RATIOS_TABLE=new Array(he.SYMBOL_TABLE.length).map(S=>new Array(he.BARS_IN_MODULE));class zu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Hu{static parseLong(t,r=void 0){return parseInt(t,r)}}class Vu extends p{}Vu.kind="NullPointerException";class Th{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new Vu;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new U;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class _h extends p{}class Mh extends Th{constructor(t=32){if(super(),this.count=0,t<0)throw new A("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new _h;s=M.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new U;this.ensureCapacity(this.count+s),B.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Le;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Le||(Le={}));function Wu(){if(typeof window<"u")return window.BigInt||null;if(typeof fs<"u")return fs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ho;function dr(S){if(typeof ho>"u"&&(ho=Wu()),ho===null)throw new Error("BigInt is not supported!");return ho(S)}function Oh(){let S=[];S[0]=dr(1);let t=dr(900);S[1]=t;for(let r=2;r<16;r++)S[r]=S[r-1]*t;return S}class z{static decode(t,r){let s=new Se(""),o=G.ISO8859_1;s.enableDecoding(o);let l=1,c=t[l++],d=new zu;for(;l<t[0];){switch(c){case z.TEXT_COMPACTION_MODE_LATCH:l=z.textCompaction(t,l,s);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:l=z.byteCompaction(c,t,o,l,s);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[l++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:l=z.numericCompaction(t,l,s);break;case z.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case z.ECI_GENERAL_PURPOSE:l+=2;break;case z.ECI_USER_DEFINED:l++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=z.decodeMacroBlock(t,l,d);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new V;default:l--,l=z.textCompaction(t,l,s);break}if(l<t.length)c=t[l++];else throw V.getFormatInstance()}if(s.length()===0)throw V.getFormatInstance();let h=new $i(null,s.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(t,r,s){if(r+z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw V.getFormatInstance();let o=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<z.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=t[r];s.setSegmentIndex(M.parseInt(z.decodeBase900toBase10(o,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Se;r=z.textCompaction(t,r,l),s.setFileId(l.toString());let c=-1;for(t[r]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<t[0];)switch(t[r]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Se;r=z.textCompaction(t,r+1,d),s.setFileName(d.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Se;r=z.textCompaction(t,r+1,h),s.setSender(h.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Se;r=z.textCompaction(t,r+1,x),s.setAddressee(x.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Se;r=z.numericCompaction(t,r+1,y),s.setSegmentCount(M.parseInt(y.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Se;r=z.numericCompaction(t,r+1,v),s.setTimestamp(Hu.parseLong(v.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Se;r=z.numericCompaction(t,r+1,I),s.setChecksum(M.parseInt(I.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new Se;r=z.numericCompaction(t,r+1,_),s.setFileSize(Hu.parseLong(_.toString()));break;default:throw V.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(c!==-1){let d=r-c;s.isLastSegment()&&d--,s.setOptionalData(O.copyOfRange(t,c,c+d))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),c=0,d=!1;for(;r<t[0]&&!d;){let h=t[r++];if(h<z.TEXT_COMPACTION_MODE_LATCH)o[c]=h/30,o[c+1]=h%30,c+=2;else switch(h){case z.TEXT_COMPACTION_MODE_LATCH:o[c++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[c]=h,c++;break}}return z.decodeTextCompaction(o,l,c,s),r}static decodeTextCompaction(t,r,s,o){let l=Le.ALPHA,c=Le.ALPHA,d=0;for(;d<s;){let h=t[d],x="";switch(l){case Le.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case z.LL:l=Le.LOWER;break;case z.ML:l=Le.MIXED;break;case z.PS:c=l,l=Le.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case z.AS:c=l,l=Le.ALPHA_SHIFT;break;case z.ML:l=Le.MIXED;break;case z.PS:c=l,l=Le.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.MIXED:if(h<z.PL)x=z.MIXED_CHARS[h];else switch(h){case z.PL:l=Le.PUNCT;break;case 26:x=" ";break;case z.LL:l=Le.LOWER;break;case z.AL:l=Le.ALPHA;break;case z.PS:c=l,l=Le.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.PUNCT:if(h<z.PAL)x=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=Le.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.ALPHA_SHIFT:if(l=c,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break;case Le.PUNCT_SHIFT:if(l=c,h<z.PAL)x=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=Le.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Le.ALPHA;break}break}x!==""&&o.append(x),d++}}static byteCompaction(t,r,s,o,l){let c=new Mh,d=0,h=0,x=!1;switch(t){case z.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),v=r[o++];for(;o<r[0]&&!x;)switch(y[d++]=v,h=900*h+v,v=r[o++],v){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,x=!0;break;default:if(d%5===0&&d>0){for(let I=0;I<6;++I)c.write(Number(dr(h)>>dr(8*(5-I))));h=0,d=0}break}o===r[0]&&v<z.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=v);for(let I=0;I<d;I++)c.write(y[I]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!x;){let I=r[o++];if(I<z.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+I;else switch(I){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,x=!0;break}if(d%5===0&&d>0){for(let _=0;_<6;++_)c.write(Number(dr(h)>>dr(8*(5-_))));h=0,d=0}}break}return l.append(Fe.decode(c.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,l=!1,c=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let d=t[r++];if(r===t[0]&&(l=!0),d<z.TEXT_COMPACTION_MODE_LATCH)c[o]=d,o++;else switch(d){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%z.MAX_NUMERIC_CODEWORDS===0||d===z.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(z.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=dr(0);for(let l=0;l<r;l++)s+=z.EXP900[r-l-1]*dr(t[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new V;return o.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=Wu()?Oh():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ye{constructor(){}static decode(t,r,s,o,l,c,d){let h=new Gr(t,r,s,o,l),x=null,y=null,v;for(let D=!0;;D=!1){if(r!=null&&(x=ye.getRowIndicatorColumn(t,h,r,!0,c,d)),o!=null&&(y=ye.getRowIndicatorColumn(t,h,o,!1,c,d)),v=ye.merge(x,y),v==null)throw W.getNotFoundInstance();let L=v.getBoundingBox();if(D&&L!=null&&(L.getMinY()<h.getMinY()||L.getMaxY()>h.getMaxY()))h=L;else break}v.setBoundingBox(h);let I=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,x),v.setDetectionResultColumn(I,y);let _=x!=null;for(let D=1;D<=I;D++){let L=_?D:I-D;if(v.getDetectionResultColumn(L)!==void 0)continue;let P;L===0||L===I?P=new Uu(h,L===0):P=new ss(h),v.setDetectionResultColumn(L,P);let H=-1,K=H;for(let q=h.getMinY();q<=h.getMaxY();q++){if(H=ye.getStartColumn(v,L,q,_),H<0||H>h.getMaxX()){if(K===-1)continue;H=K}let Q=ye.detectCodeword(t,h.getMinX(),h.getMaxX(),_,H,q,c,d);Q!=null&&(P.setCodeword(q,Q),K=H,c=Math.min(c,Q.getWidth()),d=Math.max(d,Q.getWidth()))}}return ye.createDecoderResult(v)}static merge(t,r){if(t==null&&r==null)return null;let s=ye.getBarcodeMetadata(t,r);if(s==null)return null;let o=Gr.merge(ye.adjustBoundingBox(t),ye.adjustBoundingBox(r));return new as(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=ye.getMax(r),o=0;for(let d of r)if(o+=s-d,d>0)break;let l=t.getCodewords();for(let d=0;o>0&&l[d]==null;d++)o--;let c=0;for(let d=r.length-1;d>=0&&(c+=s-r[d],!(r[d]>0));d--);for(let d=l.length-1;c>0&&l[d]==null;d--)c--;return t.getBoundingBox().addMissingRows(o,c,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,l,c){let d=new Uu(r,o);for(let h=0;h<2;h++){let x=h===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let v=Math.trunc(Math.trunc(s.getY()));v<=r.getMaxY()&&v>=r.getMinY();v+=x){let I=ye.detectCodeword(t,0,t.getWidth(),o,y,v,l,c);I!=null&&(d.setCodeword(v,I),o?y=I.getStartX():y=I.getEndX())}}return d}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ye.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>he.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(t){let r=ye.createBarcodeMatrix(t);ye.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],c=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let x=0;x<t.getBarcodeColumnCount();x++){let y=r[h][x+1].getValue(),v=h*t.getBarcodeColumnCount()+x;y.length===0?s.push(v):y.length===1?o[v]=y[0]:(c.push(v),l.push(y))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return ye.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,he.toIntArray(s),he.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(t,r,s,o,l){let c=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<c.length;h++)r[o[h]]=l[h][c[h]];try{return ye.decodeCodewords(r,t,s)}catch(h){if(!(h instanceof b))throw h}if(c.length===0)throw b.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<l[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new os;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let l=o?1:-1,c=null;if(ye.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodeword(s)),c!=null)return o?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(s),c!=null)return o?c.getStartX():c.getEndX();if(ye.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodewordNearby(s)),c!=null)return o?c.getEndX():c.getStartX();let d=0;for(;ye.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,l,c,d,h){l=ye.adjustCodewordStartColumn(t,r,s,o,l,c);let x=ye.getModuleBitCount(t,r,s,o,l,c);if(x==null)return null;let y,v=Ie.sum(x);if(o)y=l+v;else{for(let D=0;D<x.length/2;D++){let L=x[D];x[D]=x[x.length-1-D],x[x.length-1-D]=L}y=l,l=y-v}if(!ye.checkCodewordSkew(v,d,h))return null;let I=Wt.getDecodedValue(x),_=he.getCodeword(I);return _===-1?null:new ls(l,y,ye.getCodewordBucketNumber(I),_)}static getModuleBitCount(t,r,s,o,l,c){let d=l,h=new Int32Array(8),x=0,y=o?1:-1,v=o;for(;(o?d<s:d>=r)&&x<h.length;)t.get(d,c)===v?(h[x]++,d+=y):(x++,v=!v);return x===h.length||d===(o?s:r)&&x===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,l,c){let d=l,h=o?-1:1;for(let x=0;x<2;x++){for(;(o?d>=r:d<s)&&o===t.get(d,c);){if(Math.abs(l-d)>ye.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(t,r,s){return r-ye.CODEWORD_SKEW_SIZE<=t&&t<=s+ye.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw V.getFormatInstance();let o=1<<r+1,l=ye.correctErrors(t,s,o);ye.verifyCodewordCount(t,o);let c=z.decode(t,""+r);return c.setErrorsCorrected(l),c.setErasures(s.length),c}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+ye.MAX_ERRORS||s<0||s>ye.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return ye.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw V.getFormatInstance();let s=t[0];if(s>t.length)throw V.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw V.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ye.getCodewordBucketNumber(ye.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new is;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let l=t[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}ye.CODEWORD_SKEW_SIZE=2,ye.MAX_ERRORS=3,ye.MAX_EC_CODEWORDS=512,ye.errorCorrection=new ju;class vt{decode(t,r=null){let s=vt.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw W.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return vt.decode(t,r,!0)}catch(s){throw s instanceof V||s instanceof b?W.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,l=we.detectMultiple(t,r,s);for(const c of l.getPoints()){const d=ye.decode(l.getBits(),c[4],c[5],c[6],c[7],vt.getMinCodewordWidth(c),vt.getMaxCodewordWidth(c)),h=new Ze(d.getText(),d.getRawBytes(),void 0,c,ae.PDF_417);h.putMetadata(mt.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&h.putMetadata(mt.PDF417_EXTRA_METADATA,x),o.push(h)}return o.map(c=>c)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?M.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(vt.getMaxWidth(t[0],t[4]),vt.getMaxWidth(t[6],t[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.max(vt.getMaxWidth(t[1],t[5]),vt.getMaxWidth(t[7],t[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(vt.getMinWidth(t[0],t[4]),vt.getMinWidth(t[6],t[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.min(vt.getMinWidth(t[1],t[5]),vt.getMinWidth(t[7],t[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}reset(){}}class go extends p{}go.kind="ReaderException";class Gu{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(J.TRY_HARDER)===!0,s=a(t)?null:t.get(J.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(c=>c===ae.UPC_A||c===ae.UPC_E||c===ae.EAN_13||c===ae.EAN_8||c===ae.CODABAR||c===ae.CODE_39||c===ae.CODE_93||c===ae.CODE_128||c===ae.ITF||c===ae.RSS_14||c===ae.RSS_EXPANDED);l&&!r&&o.push(new hi(t,this.verbose)),s.includes(ae.QR_CODE)&&o.push(new fr),s.includes(ae.DATA_MATRIX)&&o.push(new ur),s.includes(ae.AZTEC)&&o.push(new ao),s.includes(ae.PDF_417)&&o.push(new vt),l&&r&&o.push(new hi(t,this.verbose))}o.length===0&&(r||o.push(new hi(t,this.verbose)),o.push(new fr),o.push(new ur),o.push(new ao),o.push(new vt),r&&o.push(new hi(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new go("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof go)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Rh extends un{constructor(t=null,r=500){const s=new Gu;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Dh extends un{constructor(t=500){super(new vt,t)}}class bh extends un{constructor(t=500){super(new fr,t)}}var qa;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(qa||(qa={}));var gt=qa;class Ja{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new zt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const c=s.multiply(new zt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(c),s=c}}return r[t]}encode(t,r){if(r===0)throw new A("No error correction bytes");const s=t.length-r;if(s<=0)throw new A("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);B.arraycopy(t,0,l,0,s);let c=new zt(this.field,l);c=c.multiplyByMonomial(r,1);const h=c.divide(o)[1].getCoefficients(),x=r-h.length;for(let y=0;y<x;y++)t[s+y]=0;B.arraycopy(h,0,t,s+x,h.length)}}class rt{constructor(){}static applyMaskPenaltyRule1(t){return rt.applyMaskPenaltyRule1Internal(t,!0)+rt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let c=0;c<l-1;c++){const d=s[c];for(let h=0;h<o-1;h++){const x=d[h];x===d[h+1]&&x===s[c+1][h]&&x===s[c+1][h+1]&&r++}}return rt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let c=0;c<l;c++)for(let d=0;d<o;d++){const h=s[c];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(rt.isWhiteHorizontal(h,d-4,d)||rt.isWhiteHorizontal(h,d+7,d+11))&&r++,c+6<l&&s[c][d]===1&&s[c+1][d]===0&&s[c+2][d]===1&&s[c+3][d]===1&&s[c+4][d]===1&&s[c+5][d]===0&&s[c+6][d]===1&&(rt.isWhiteVertical(s,d,c-4,c)||rt.isWhiteVertical(s,d,c+7,c+11))&&r++}return r*rt.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let l=s;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const x=s[h];for(let y=0;y<o;y++)x[y]===1&&r++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*rt.N4}static getDataMaskBit(t,r,s){let o,l;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new A("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),c=t.getArray();for(let d=0;d<o;d++){let h=0,x=-1;for(let y=0;y<l;y++){const v=r?c[d][y]:c[y][d];v===x?h++:(h>=5&&(s+=rt.N1+(h-5)),h=1,x=v)}h>=5&&(s+=rt.N1+(h-5))}return s}}rt.N1=3,rt.N2=3,rt.N3=40,rt.N4=10;class po{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)O.fill(r,t)}equals(t){if(!(t instanceof po))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],c=r.bytes[s];for(let d=0,h=this.width;d<h;++d)if(l[d]!==c[d])return!1}return!0}toString(){const t=new Se;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Yr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Se;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Yr.NUM_MASK_PATTERNS}}Yr.NUM_MASK_PATTERNS=8;class Be extends p{}Be.kind="WriterException";class fe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,l){fe.clearMatrix(l),fe.embedBasicPatterns(s,l),fe.embedTypeInfo(r,o,l),fe.maybeEmbedVersionInfo(s,l),fe.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){fe.embedPositionDetectionPatternsAndSeparators(r),fe.embedDarkDotAtLeftBottomCorner(r),fe.maybeEmbedPositionAdjustmentPatterns(t,r),fe.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new j;fe.makeTypeInfoBits(t,r,o);for(let l=0,c=o.getSize();l<c;++l){const d=o.get(o.getSize()-1-l),h=fe.TYPE_INFO_COORDINATES[l],x=h[0],y=h[1];if(s.setBoolean(x,y,d),l<8){const v=s.getWidth()-l-1;s.setBoolean(v,8,d)}else{const I=s.getHeight()-7+(l-8);s.setBoolean(8,I,d)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new j;fe.makeVersionInfoBits(t,s);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const d=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+c,d),r.setBoolean(r.getHeight()-11+c,l,d)}}static embedDataBits(t,r,s){let o=0,l=-1,c=s.getWidth()-1,d=s.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const x=c-h;if(!fe.isEmpty(s.get(x,d)))continue;let y;o<t.getSize()?(y=t.get(o),++o):y=!1,r!==255&&rt.getDataMaskBit(r,x,d)&&(y=!y),s.setBoolean(x,d,y)}d+=l}l=-l,d+=l,c-=2}if(o!==t.getSize())throw new Be("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-M.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new A("0 polynomial");const s=fe.findMSBSet(r);for(t<<=s-1;fe.findMSBSet(t)>=s;)t^=r<<fe.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!Yr.isValidMaskPattern(r))throw new Be("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const l=fe.calculateBCHCode(o,fe.TYPE_INFO_POLY);s.appendBits(l,10);const c=new j;if(c.appendBits(fe.TYPE_INFO_MASK_PATTERN,15),s.xor(c),s.getSize()!==15)throw new Be("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=fe.calculateBCHCode(t.getVersionNumber(),fe.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Be("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;fe.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),fe.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Be;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!fe.isEmpty(s.get(t+o,r)))throw new Be;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!fe.isEmpty(s.get(t,r+o)))throw new Be;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const l=fe.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)s.setNumber(t+c,r+o,l[c])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const l=fe.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)s.setNumber(t+c,r+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(t){const r=fe.POSITION_DETECTION_PATTERN[0].length;fe.embedPositionDetectionPattern(0,0,t),fe.embedPositionDetectionPattern(t.getWidth()-r,0,t),fe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;fe.embedHorizontalSeparationPattern(0,s-1,t),fe.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),fe.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;fe.embedVerticalSeparationPattern(o,0,t),fe.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),fe.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,c=o.length;l!==c;l++){const d=o[l];if(d>=0)for(let h=0;h!==c;h++){const x=o[h];x>=0&&fe.isEmpty(r.get(x,d))&&fe.embedPositionAdjustmentPattern(x-2,d-2,r)}}}}fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),fe.VERSION_INFO_POLY=7973,fe.TYPE_INFO_POLY=1335,fe.TYPE_INFO_MASK_PATTERN=21522;class Lh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class He{constructor(){}static calculateMaskPenalty(t){return rt.applyMaskPenaltyRule1(t)+rt.applyMaskPenaltyRule2(t)+rt.applyMaskPenaltyRule3(t)+rt.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=He.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(gt.CHARACTER_SET)!==void 0;l&&(o=s.get(gt.CHARACTER_SET).toString());const c=this.chooseMode(t,o),d=new j;if(c===ce.BYTE&&(l||He.DEFAULT_BYTE_MODE_ENCODING!==o)){const q=G.getCharacterSetECIByName(o);q!==void 0&&this.appendECI(q,d)}this.appendModeInfo(c,d);const h=new j;this.appendBytes(t,c,h,o);let x;if(s!==null&&s.get(gt.QR_VERSION)!==void 0){const q=Number.parseInt(s.get(gt.QR_VERSION).toString(),10);x=le.getVersionForNumber(q);const Q=this.calculateBitsNeeded(c,d,h,x);if(!this.willFit(Q,x,r))throw new Be("Data too big for requested version")}else x=this.recommendVersion(r,c,d,h);const y=new j;y.appendBitArray(d);const v=c===ce.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(v,x,c,y),y.appendBitArray(h);const I=x.getECBlocksForLevel(r),_=x.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(_,y);const D=this.interleaveWithECBytes(y,x.getTotalCodewords(),_,I.getNumBlocks()),L=new Yr;L.setECLevel(r),L.setMode(c),L.setVersion(x);const P=x.getDimensionForVersion(),H=new po(P,P),K=this.chooseMaskPattern(D,r,x,H);return L.setMaskPattern(K),fe.buildMatrix(D,r,x,K,H),L.setMatrix(H),L}static recommendVersion(t,r,s,o){const l=this.calculateBitsNeeded(r,s,o,le.getVersionForNumber(1)),c=this.chooseVersion(l,t),d=this.calculateBitsNeeded(r,s,o,c);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<He.ALPHANUMERIC_TABLE.length?He.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ce.KANJI;let s=!1,o=!1;for(let l=0,c=t.length;l<c;++l){const d=t.charAt(l);if(He.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return ce.BYTE}return o?ce.ALPHANUMERIC:s?ce.NUMERIC:ce.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Fe.encode(t,G.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<Yr.NUM_MASK_PATTERNS;d++){fe.buildMatrix(t,r,s,d,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,c=d)}return c}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=le.getVersionForNumber(s);if(He.willFit(t,o,r))return o}throw new Be("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(s).getTotalECCodewords(),d=o-c,h=(t+7)/8;return d>=h}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new Be("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let c=0;c<4&&r.getSize()<s;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==s)throw new Be("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,l,c){if(o>=s)throw new Be("Block ID too large");const d=t%s,h=s-d,x=Math.floor(t/s),y=x+1,v=Math.floor(r/s),I=v+1,_=x-v,D=y-I;if(_!==D)throw new Be("EC bytes mismatch");if(s!==h+d)throw new Be("RS blocks mismatch");if(t!==(v+_)*h+(I+D)*d)throw new Be("Total bytes mismatch");o<h?(l[0]=v,c[0]=_):(l[0]=I,c[0]=D)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new Be("Number of bits and data bytes does not match");let l=0,c=0,d=0;const h=new Array;for(let y=0;y<o;++y){const v=new Int32Array(1),I=new Int32Array(1);He.getNumDataBytesAndNumECBytesForBlockID(r,s,o,y,v,I);const _=v[0],D=new Uint8Array(_);t.toBytes(8*l,D,0,_);const L=He.generateECBytes(D,I[0]);h.push(new Lh(D,L)),c=Math.max(c,_),d=Math.max(d,L.length),l+=v[0]}if(s!==l)throw new Be("Data bytes does not match offset");const x=new j;for(let y=0;y<c;++y)for(const v of h){const I=v.getDataBytes();y<I.length&&x.appendBits(I[y],8)}for(let y=0;y<d;++y)for(const v of h){const I=v.getErrorCorrectionBytes();y<I.length&&x.appendBits(I[y],8)}if(r!==x.getSizeInBytes())throw new Be("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let c=0;c<s;c++)o[c]=t[c]&255;new Ja(_e.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=o[s+c];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const l=s.getCharacterCountBits(r);if(t>=1<<l)throw new Be(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,s,o){switch(r){case ce.NUMERIC:He.appendNumericBytes(t,s);break;case ce.ALPHANUMERIC:He.appendAlphanumericBytes(t,s);break;case ce.BYTE:He.append8BitBytes(t,s,o);break;case ce.KANJI:He.appendKanjiBytes(t,s);break;default:throw new Be("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=He.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=He.getDigit(t.charAt(o));if(o+2<s){const c=He.getDigit(t.charAt(o+1)),d=He.getDigit(t.charAt(o+2));r.appendBits(l*100+c*10+d,10),o+=3}else if(o+1<s){const c=He.getDigit(t.charAt(o+1));r.appendBits(l*10+c,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=He.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Be;if(o+1<s){const c=He.getAlphanumericCode(t.charCodeAt(o+1));if(c===-1)throw new Be;r.appendBits(l*45+c,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,s){let o;try{o=Fe.encode(t,s)}catch(l){throw new Be(l)}for(let l=0,c=o.length;l!==c;l++){const d=o[l];r.appendBits(d,8)}}static appendKanjiBytes(t,r){let s;try{s=Fe.encode(t,G.SJIS)}catch(l){throw new Be(l)}const o=s.length;for(let l=0;l<o;l+=2){const c=s[l]&255,d=s[l+1]&255,h=c<<8&4294967295|d;let x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),x===-1)throw new Be("Invalid byte sequence");const y=(x>>8)*192+(x&255);r.appendBits(y,13)}}static appendECI(t,r){r.appendBits(ce.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}He.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),He.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Xr{write(t,r,s,o=null){if(t.length===0)throw new A("Found empty contents");if(r<0||s<0)throw new A("Requested dimensions are too small: "+r+"x"+s);let l=Ue.L,c=Xr.QUIET_ZONE_SIZE;o!==null&&(o.get(gt.ERROR_CORRECTION)!==void 0&&(l=Ue.fromString(o.get(gt.ERROR_CORRECTION).toString())),o.get(gt.MARGIN)!==void 0&&(c=Number.parseInt(o.get(gt.MARGIN).toString(),10)));const d=He.encode(t,l,o);return this.renderResult(d,r,s,c)}writeToDom(t,r,s,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(r,s,o,l);t&&t.appendChild(c)}renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new bn;const c=l.getWidth(),d=l.getHeight(),h=c+o*2,x=d+o*2,y=Math.max(r,h),v=Math.max(s,x),I=Math.min(Math.floor(y/h),Math.floor(v/x)),_=Math.floor((y-c*I)/2),D=Math.floor((v-d*I)/2),L=this.createSVGElement(y,v);for(let P=0,H=D;P<d;P++,H+=I)for(let K=0,q=_;K<c;K++,q+=I)if(l.get(K,P)===1){const Q=this.createSvgRectElement(q,H,I,I);L.appendChild(Q)}return L}createSVGElement(t,r){const s=document.createElementNS(Xr.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const l=document.createElementNS(Xr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Xr.QUIET_ZONE_SIZE=4,Xr.SVG_NS="http://www.w3.org/2000/svg";class pi{encode(t,r,s,o,l){if(t.length===0)throw new A("Found empty contents");if(r!==ae.QR_CODE)throw new A("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new A(`Requested dimensions are too small: ${s}x${o}`);let c=Ue.L,d=pi.QUIET_ZONE_SIZE;l!==null&&(l.get(gt.ERROR_CORRECTION)!==void 0&&(c=Ue.fromString(l.get(gt.ERROR_CORRECTION).toString())),l.get(gt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(gt.MARGIN).toString(),10)));const h=He.encode(t,c,l);return pi.renderResult(h,s,o,d)}static renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new bn;const c=l.getWidth(),d=l.getHeight(),h=c+o*2,x=d+o*2,y=Math.max(r,h),v=Math.max(s,x),I=Math.min(Math.floor(y/h),Math.floor(v/x)),_=Math.floor((y-c*I)/2),D=Math.floor((v-d*I)/2),L=new ot(y,v);for(let P=0,H=D;P<d;P++,H+=I)for(let K=0,q=_;K<c;K++,q+=I)l.get(K,P)===1&&L.setRegion(q,H,I,I);return L}}pi.QUIET_ZONE_SIZE=4;class kh{encode(t,r,s,o,l){let c;switch(r){case ae.QR_CODE:c=new pi;break;default:throw new A("No encoder available for format "+r)}return c.encode(t,r,s,o,l)}}class Pn extends ne{constructor(t,r,s,o,l,c,d,h){if(super(c,d),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+c>r||l+d>s)throw new A("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,d)}getRow(t,r){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return B.arraycopy(this.yuvData,l,o,0,s),o;for(let c=0;c<r;c++){const d=c*t;B.arraycopy(this.yuvData,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new Pn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/Pn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Pn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const d=c*t;for(let h=0;h<t;h++){const x=o[l+h*Pn.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|x*65793}l+=this.dataWidth*Pn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Pn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Pn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const c=l+t/2;for(let d=l,h=l+t-1;d<c;d++,h--){const x=s[d];s[d]=s[h],s[h]=x}}}invert(){return new de(this)}}Pn.THUMBNAIL_SCALE_FACTOR=2;class $a extends ne{constructor(t,r,s,o,l,c,d){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,t.BYTES_PER_ELEMENT===4){const h=r*s,x=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const v=t[y],I=v>>16&255,_=v>>7&510,D=v&255;x[y]=(I+_+D)/4&255}this.luminances=x}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return B.arraycopy(this.luminances,l,o,0,s),o;for(let c=0;c<r;c++){const d=c*t;B.arraycopy(this.luminances,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new $a(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new de(this)}}class Yu extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class el{}el.ISO_8859_1=G.ISO8859_1;class Xu{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Qu{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Bh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class xi extends Bh{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new xi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+M.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class tl extends xi{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new tl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ph(S,t,r){return new tl(S,t,r)}function cs(S,t,r){return new xi(S,t,r)}const Fh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],hr=0,xo=1,gn=2,Zu=3,Fn=4,jh=new xi(null,0,0),nl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Uh(S){for(let t of S)O.fill(t,-1);return S[hr][Fn]=0,S[xo][Fn]=0,S[xo][hr]=28,S[Zu][Fn]=0,S[gn][Fn]=0,S[gn][hr]=15,S}const Ku=Uh(O.createInt32Array(6,6));class jn{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let c=nl[this.mode][t];o=cs(o,c&65535,c>>16),s+=c>>16}let l=t===gn?4:5;return o=cs(o,r,l),new jn(o,t,0,s+l)}shiftAndAppend(t,r){let s=this.token,o=this.mode===gn?4:5;return s=cs(s,Ku[this.mode][t],o),s=cs(s,r,5),new jn(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Fn||this.mode===gn){let d=nl[s][hr];r=cs(r,d&65535,d>>16),o+=d>>16,s=hr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new jn(r,s,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Ph(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new jn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(nl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=jn.calculateBinaryShiftCost(t)-jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new j;for(const o of r)o.appendTo(s,t);return s}toString(){return ue.format("%s bits=%d bytes=%d",Fh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}jn.INITIAL_STATE=new jn(jh,hr,0,0);function zh(S){const t=ue.getCharCode(" "),r=ue.getCharCode("."),s=ue.getCharCode(",");S[hr][t]=1;const o=ue.getCharCode("Z"),l=ue.getCharCode("A");for(let I=l;I<=o;I++)S[hr][I]=I-l+2;S[xo][t]=1;const c=ue.getCharCode("z"),d=ue.getCharCode("a");for(let I=d;I<=c;I++)S[xo][I]=I-d+2;S[gn][t]=1;const h=ue.getCharCode("9"),x=ue.getCharCode("0");for(let I=x;I<=h;I++)S[gn][I]=I-x+2;S[gn][s]=12,S[gn][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<y.length;I++)S[Zu][ue.getCharCode(y[I])]=I;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<v.length;I++)ue.getCharCode(v[I])>0&&(S[Fn][ue.getCharCode(v[I])]=I);return S}const rl=zh(O.createInt32Array(5,256));class us{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let s=Qu.singletonList(jn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ue.getCharCode("\r"):c=d===r?2:0;break;case ue.getCharCode("."):c=d===t?3:0;break;case ue.getCharCode(","):c=d===t?4:0;break;case ue.getCharCode(":"):c=d===t?5:0;break;default:c=0}c>0?(s=us.updateStateListForPair(s,l,c),l++):s=this.updateStateListForChar(s,l)}return Qu.min(s,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return us.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,l=rl[t.getMode()][o]>0,c=null;for(let d=0;d<=Fn;d++){let h=rl[d][o];if(h>0){if(c==null&&(c=t.endBinaryShift(r)),!l||d===t.getMode()||d===gn){const x=c.latchAndAppend(d,h);s.push(x)}if(!l&&Ku[t.getMode()][d]>=0){const x=c.shiftAndAppend(d,h);s.push(x)}}}if(t.getBinaryShiftByteCount()>0||rl[t.getMode()][o]===0){let d=t.addBinaryShiftChar(r);s.push(d)}}static updateStateListForPair(t,r,s){const o=[];for(let l of t)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Fn,s)),t.getMode()!==Fn&&o.push(l.shiftAndAppend(Fn,s)),s===3||s===4){let c=l.latchAndAppend(gn,16-s).latchAndAppend(gn,1);o.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}o&&r.push(s)}return r}}class Ne{constructor(){}static encodeBytes(t){return Ne.encode(t,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new us(t).encode(),l=M.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+l,d,h,x,y,v;if(s!==Ne.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new A(ue.format("Illegal value %s for layers",s));x=Ne.totalBitsInLayer(h,d),y=Ne.WORD_SIZE[h];let Q=x-x%y;if(v=Ne.stuffBits(o,y),v.getSize()+l>Q)throw new A("Data to large for user specified layer");if(d&&v.getSize()>y*64)throw new A("Data to large for user specified layer")}else{y=0,v=null;for(let Q=0;;Q++){if(Q>Ne.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(d=Q<=3,h=d?Q+1:Q,x=Ne.totalBitsInLayer(h,d),c>x)continue;(v==null||y!==Ne.WORD_SIZE[h])&&(y=Ne.WORD_SIZE[h],v=Ne.stuffBits(o,y));let Ee=x-x%y;if(!(d&&v.getSize()>y*64)&&v.getSize()+l<=Ee)break}}let I=Ne.generateCheckWords(v,x,y),_=v.getSize()/y,D=Ne.generateModeMessage(d,h,_),L=(d?11:14)+h*4,P=new Int32Array(L),H;if(d){H=L;for(let Q=0;Q<P.length;Q++)P[Q]=Q}else{H=L+1+2*M.truncDivision(M.truncDivision(L,2)-1,15);let Q=M.truncDivision(L,2),Ee=M.truncDivision(H,2);for(let me=0;me<Q;me++){let Gt=me+M.truncDivision(me,15);P[Q-me-1]=Ee-Gt-1,P[Q+me]=Ee+Gt+1}}let K=new ot(H);for(let Q=0,Ee=0;Q<h;Q++){let me=(h-Q)*4+(d?9:12);for(let Gt=0;Gt<me;Gt++){let vn=Gt*2;for(let Yt=0;Yt<2;Yt++)I.get(Ee+vn+Yt)&&K.set(P[Q*2+Yt],P[Q*2+Gt]),I.get(Ee+me*2+vn+Yt)&&K.set(P[Q*2+Gt],P[L-1-Q*2-Yt]),I.get(Ee+me*4+vn+Yt)&&K.set(P[L-1-Q*2-Yt],P[L-1-Q*2-Gt]),I.get(Ee+me*6+vn+Yt)&&K.set(P[L-1-Q*2-Gt],P[Q*2+Yt])}Ee+=me*8}if(Ne.drawModeMessage(K,d,H,D),d)Ne.drawBullsEye(K,M.truncDivision(H,2),5);else{Ne.drawBullsEye(K,M.truncDivision(H,2),7);for(let Q=0,Ee=0;Q<M.truncDivision(L,2)-1;Q+=15,Ee+=16)for(let me=M.truncDivision(H,2)&1;me<H;me+=2)K.set(M.truncDivision(H,2)-Ee,me),K.set(M.truncDivision(H,2)+Ee,me),K.set(me,M.truncDivision(H,2)-Ee),K.set(me,M.truncDivision(H,2)+Ee)}let q=new Xu;return q.setCompact(d),q.setSize(H),q.setLayers(h),q.setCodeWords(_),q.setMatrix(K),q}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new j;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Ne.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Ne.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let l=M.truncDivision(s,2);if(r)for(let c=0;c<7;c++){let d=l-3+c;o.get(c)&&t.set(d,l-5),o.get(c+7)&&t.set(l+5,d),o.get(20-c)&&t.set(d,l+5),o.get(27-c)&&t.set(l-5,d)}else for(let c=0;c<10;c++){let d=l-5+c+M.truncDivision(c,5);o.get(c)&&t.set(d,l-7),o.get(c+10)&&t.set(l+7,d),o.get(29-c)&&t.set(d,l+7),o.get(39-c)&&t.set(l-7,d)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,l=new Ja(Ne.getGF(s)),c=M.truncDivision(r,s),d=Ne.bitsToWords(t,s,c);l.encode(d,c-o);let h=r%s,x=new j;x.appendBits(0,h);for(const y of Array.from(d))x.appendBits(y,s);return x}static bitsToWords(t,r,s){let o=new Int32Array(s),l,c;for(l=0,c=t.getSize()/r;l<c;l++){let d=0;for(let h=0;h<r;h++)d|=t.get(l*r+h)?1<<r-h-1:0;o[l]=d}return o}static getGF(t){switch(t){case 4:return _e.AZTEC_PARAM;case 6:return _e.AZTEC_DATA_6;case 8:return _e.AZTEC_DATA_8;case 10:return _e.AZTEC_DATA_10;case 12:return _e.AZTEC_DATA_12;default:throw new A("Unsupported word size "+t)}}static stuffBits(t,r){let s=new j,o=t.getSize(),l=(1<<r)-2;for(let c=0;c<o;c+=r){let d=0;for(let h=0;h<r;h++)(c+h>=o||t.get(c+h))&&(d|=1<<r-1-h);(d&l)===l?(s.appendBits(d&l,r),c--):d&l?s.appendBits(d,r):(s.appendBits(d|1,r),c--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mo{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,l){let c=el.ISO_8859_1,d=Ne.DEFAULT_EC_PERCENT,h=Ne.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(gt.CHARACTER_SET)&&(c=Yu.forName(l.get(gt.CHARACTER_SET).toString())),l.has(gt.ERROR_CORRECTION)&&(d=M.parseInt(l.get(gt.ERROR_CORRECTION).toString())),l.has(gt.AZTEC_LAYERS)&&(h=M.parseInt(l.get(gt.AZTEC_LAYERS).toString()))),mo.encodeLayers(t,r,s,o,c,d,h)}static encodeLayers(t,r,s,o,l,c,d){if(r!==ae.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let h=Ne.encode(ue.getBytes(t,l),c,d);return mo.renderResult(h,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new bn;let l=o.getWidth(),c=o.getHeight(),d=Math.max(r,l),h=Math.max(s,c),x=Math.min(d/l,h/c),y=(d-l*x)/2,v=(h-c*x)/2,I=new ot(d,h);for(let _=0,D=v;_<c;_++,D+=x)for(let L=0,P=y;L<l;L++,P+=x)o.get(L,_)&&I.setRegion(P,D,x,x);return I}}i.AbstractExpandedDecoder=Ha,i.ArgumentException=E,i.ArithmeticException=io,i.AztecCode=Xu,i.AztecCodeReader=ao,i.AztecCodeWriter=mo,i.AztecDecoder=je,i.AztecDetector=bu,i.AztecDetectorResult=Ru,i.AztecEncoder=Ne,i.AztecHighLevelEncoder=us,i.AztecPoint=kt,i.BarcodeFormat=ae,i.Binarizer=k,i.BinaryBitmap=N,i.BitArray=j,i.BitMatrix=ot,i.BitSource=Ya,i.BrowserAztecCodeReader=hh,i.BrowserBarcodeReader=wh,i.BrowserCodeReader=un,i.BrowserDatamatrixCodeReader=Ch,i.BrowserMultiFormatReader=Rh,i.BrowserPDF417Reader=Dh,i.BrowserQRCodeReader=bh,i.BrowserQRCodeSvgWriter=Xr,i.CharacterSetECI=G,i.ChecksumException=b,i.Code128Reader=te,i.Code39Reader=dt,i.DataMatrixDecodedBitStreamParser=cr,i.DataMatrixReader=ur,i.DecodeHintType=J,i.DecoderResult=$i,i.DefaultGridSampler=Du,i.DetectorResult=oo,i.EAN13Reader=Hr,i.EncodeHintType=gt,i.Exception=p,i.FormatException=V,i.GenericGF=_e,i.GenericGFPoly=zt,i.GlobalHistogramBinarizer=et,i.GridSampler=Fa,i.GridSamplerInstance=ar,i.HTMLCanvasElementLuminanceSource=ge,i.HybridBinarizer=pe,i.ITFReader=ke,i.IllegalArgumentException=A,i.IllegalStateException=bn,i.InvertedLuminanceSource=de,i.LuminanceSource=ne,i.MathUtils=Ie,i.MultiFormatOneDReader=hi,i.MultiFormatReader=Gu,i.MultiFormatWriter=kh,i.NotFoundException=W,i.OneDReader=ut,i.PDF417DecodedBitStreamParser=z,i.PDF417DecoderErrorCorrection=ju,i.PDF417Reader=vt,i.PDF417ResultMetadata=zu,i.PerspectiveTransform=An,i.PlanarYUVLuminanceSource=Pn,i.QRCodeByteMatrix=po,i.QRCodeDataMask=dn,i.QRCodeDecodedBitStreamParser=Ke,i.QRCodeDecoderErrorCorrectionLevel=Ue,i.QRCodeDecoderFormatInformation=Ot,i.QRCodeEncoder=He,i.QRCodeEncoderQRCode=Yr,i.QRCodeMaskUtil=rt,i.QRCodeMatrixUtil=fe,i.QRCodeMode=ce,i.QRCodeReader=fr,i.QRCodeVersion=le,i.QRCodeWriter=pi,i.RGBLuminanceSource=$a,i.RSS14Reader=nt,i.RSSExpandedReader=Y,i.ReaderException=go,i.ReedSolomonDecoder=ts,i.ReedSolomonEncoder=Ja,i.ReedSolomonException=ci,i.Result=Ze,i.ResultMetadataType=mt,i.ResultPoint=oe,i.StringUtils=ue,i.UnsupportedOperationException=xe,i.VideoInputDevice=Ye,i.WhiteRectangleDetector=Qn,i.WriterException=Be,i.ZXingArrays=O,i.ZXingCharset=Yu,i.ZXingInteger=M,i.ZXingStandardCharsets=el,i.ZXingStringBuilder=Se,i.ZXingStringEncoding=Fe,i.ZXingSystem=B,i.createAbstractExpandedDecoder=Pu,Object.defineProperty(i,"__esModule",{value:!0})})})(_c,_c.exports);var We=_c.exports;const jx=D0(We),Ux=R0({__proto__:null,default:jx},[We]);var C0=function(){function e(n,i,a){if(this.formatMap=new Map([[ie.QR_CODE,We.BarcodeFormat.QR_CODE],[ie.AZTEC,We.BarcodeFormat.AZTEC],[ie.CODABAR,We.BarcodeFormat.CODABAR],[ie.CODE_39,We.BarcodeFormat.CODE_39],[ie.CODE_93,We.BarcodeFormat.CODE_93],[ie.CODE_128,We.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,We.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,We.BarcodeFormat.MAXICODE],[ie.ITF,We.BarcodeFormat.ITF],[ie.EAN_13,We.BarcodeFormat.EAN_13],[ie.EAN_8,We.BarcodeFormat.EAN_8],[ie.PDF_417,We.BarcodeFormat.PDF_417],[ie.RSS_14,We.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,We.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,We.BarcodeFormat.UPC_A],[ie.UPC_E,We.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,We.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ux)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var u=this.createZXingFormats(n),f=new Map;f.set(We.DecodeHintType.POSSIBLE_FORMATS,u),f.set(We.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,u){try{a(i.decode(n))}catch(f){u(f)}})},e.prototype.decode=function(n){var i=new We.MultiFormatReader(this.verbose,this.hints),a=new We.HTMLCanvasElementLuminanceSource(n),u=new We.BinaryBitmap(new We.HybridBinarizer(a)),f=i.decode(u);return{text:f.text,format:oh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,u){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),zx=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},Hx=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},E0=function(){function e(n,i,a){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var u=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return zx(this,void 0,void 0,function(){var i,a;return Hx(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:oh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,u=0,f=n;u<f.length;u++){var g=f[u],C=g.boundingBox.width*g.boundingBox.height;C>a&&(a=C,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,u){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),A0=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},S0=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Vx=function(){function e(n,i,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&E0.isSupported()?(this.primaryDecoder=new E0(n,a,u),this.secondaryDecoder=new C0(n,a,u)):this.primaryDecoder=new C0(n,a,u)}return e.prototype.decodeAsync=function(n){return A0(this,void 0,void 0,function(){var i;return S0(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return A0(this,void 0,void 0,function(){var i,a;return S0(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var u=a[i];n+=u}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Mu=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),ya=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},Ca=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},uh=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Wx=function(e){Mu(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var u={advanced:[a]};return this.track.applyConstraints(u)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(uh),Gx=function(e){Mu(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Wx),Yx=function(e){Mu(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(uh),Xx=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Gx(this.track)},e.prototype.torchFeature=function(){return new Yx(this.track)},e}(),Qx=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,u=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,u),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,u){return ya(this,void 0,void 0,function(){var f,g;return Ca(this,function(C){switch(C.label){case 0:return f=new e(n,i,u),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:C.sent(),C.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return ya(this,void 0,void 0,function(){return Ca(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var u=n.mediaStream.getVideoTracks(),f=u.length,g=0;n.mediaStream.getVideoTracks().forEach(function(C){n.mediaStream.removeTrack(C),C.stop(),++g,g>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Xx(this.getFirstTrackOrFail())},e}(),Zx=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return ya(this,void 0,void 0,function(){return Ca(this,function(u){return[2,Qx.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return ya(this,void 0,void 0,function(){var i,a;return Ca(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=u.sent(),[2,new e(a)]}})})},e}(),v0=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},I0=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Kx=function(){function e(){}return e.failIfNotSupported=function(){return v0(this,void 0,void 0,function(){return I0(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return v0(this,void 0,void 0,function(){return I0(this,function(i){return[2,Zx.create(n)]})})},e}(),qx=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},Jx=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},$x=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=bi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=bi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return qx(this,void 0,void 0,function(){var n,i,a,u,f,g,C;return Jx(this,function(m){switch(m.label){case 0:return n=function(p){for(var E=p.getVideoTracks(),A=0,N=E;A<N.length;A++){var b=N[A];b.enabled=!1,b.stop(),p.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=m.sent(),u=[],f=0,g=a;f<g.length;f++)C=g[f],C.kind==="videoinput"&&u.push({id:C.deviceId,label:C.label});return n(i),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(f){for(var g=[],C=0,m=f;C<m.length;C++){var p=m[C];p.kind==="video"&&g.push({id:p.id,label:p.label})}n(g)},u=MediaStreamTrack;u.getSources(a)})},e}(),it;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(it||(it={}));var em=function(){function e(){this.state=it.NOT_STARTED,this.onGoingTransactionNewState=it.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=it.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=it.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==it.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case it.UNKNOWN:throw"Transition from unknown is not allowed";case it.NOT_STARTED:this.failIfNewStateIs(n,[it.PAUSED]);break;case it.SCANNING:break;case it.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,u=i;a<u.length;a++){var f=u[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),tm=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===it.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==it.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===it.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===it.PAUSED},e}(),nm=function(){function e(){}return e.create=function(){return new tm(new em)},e}(),rm=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),en=function(e){rm(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(_n),im=function(){function e(n,i){this.logger=i,this.fps=en.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=en.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ch.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Vn(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),N0=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new lh(this.verbose),this.qrcode=new Vx(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=nm.create()}return e.prototype.start=function(n,i,a,u){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var C=im.create(i,this.logger);this.clearElement();var m=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:en.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,N=this.stateManagerProxy.startTransition(it.SCANNING);return new Promise(function(b,k){var B=p?C.videoConstraints:A.createVideoConstraints(n);if(!B){N.cancel(),k("videoConstraints should be defined");return}var U={};(!p||C.aspectRatio)&&(U.aspectRatio=C.aspectRatio);var R={onRenderSurfaceReady:function(O,M){A.setupUi(O,M,C),A.isScanning=!0,A.foreverScan(C,a,g)}};Kx.failIfNotSupported().then(function(O){O.create(B).then(function(M){return M.render(f.element,U,R).then(function(j){A.renderedCamera=j,N.execute(),b(null)}).catch(function(j){N.cancel(),k(j)})}).catch(function(M){N.cancel(),k(bi.errorGettingUserMedia(M))})}).catch(function(O){N.cancel(),k(bi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(it.PAUSED),this.showPausedState(),(Vn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(it.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(it.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById(en.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Vn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var g=new Image;g.onload=function(){var C=g.width,m=g.height,p=document.getElementById(a.elementId),E=p.clientWidth?p.clientWidth:en.DEFAULT_WIDTH,A=Math.max(p.clientHeight?p.clientHeight:m,en.FILE_SCAN_MIN_HEIGHT),N=a.computeCanvasDrawConfig(C,m,E,A);if(i){var b=a.createCanvasElement(E,A,"qr-canvas-visible");b.style.display="inline-block",p.appendChild(b);var k=b.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=E,k.canvas.height=A,k.drawImage(g,0,0,C,m,N.x,N.y,N.width,N.height)}var B=en.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(g.width,N.width),R=Math.max(g.height,N.height),O=U+2*B,M=R+2*B,j=a.createCanvasElement(O,M);p.appendChild(j);var $=j.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=O,$.canvas.height=M,$.drawImage(g,0,0,C,m,B,B,U,R);try{a.qrcode.decodeRobustlyAsync(j).then(function(J){u(w0.createFromQrcodeResult(J))}).catch(f)}catch(J){f("QR code parse error, error = ".concat(J))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return $x.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!ch.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=n.formatsToSupport;u<f.length;u++){var g=f[u];Px(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Vn(n))return!0;if(!Vn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Vn(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return Vn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,i,f),C=function(p){if(p<en.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(en.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>n&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=n),p};C(g.width),C(g.height),g.width=m(g.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var u=Vn(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(n,i,u);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,C={x:0,y:0,width:n,height:i},m=g?this.getShadedRegionBounds(n,i,f):C,p=this.createCanvasElement(m.width,m.height),E={willReadFrequently:!0},A=p.getContext("2d",E);A.canvas.width=m.width,A.canvas.height=m.height,this.element.append(p),g&&this.possiblyInsertShadingElement(this.element,n,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=A,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=bi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return n(u.text,w0.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=bi.codeParseError(u);return i(f,ah.createFrom(f)),!1})},e.prototype.foreverScan=function(n,i,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,C=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*g,p=this.qrRegion.height*C,E=this.qrRegion.x*g,A=this.qrRegion.y*C;this.context.drawImage(f,E,A,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(n,i,a)},u.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(b){!b&&n.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,a).finally(function(){N()})):N()}).catch(function(b){u.logger.logError("Error happend while scanning context",b),N()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",g=function(k){if(k in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},C=Object.keys(n);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var m=Object.keys(n)[0];if(m!==i&&m!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(m===i){var p=n.facingMode;if(typeof p=="string"){if(g(p))return{facingMode:p}}else if(typeof p=="object")if(f in p){if(g(p["".concat(f)]))return{facingMode:{exact:p["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var E=typeof p;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=n.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(f in A)return{deviceId:{exact:A["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var N=typeof A;throw"Invalid type of 'deviceId' = ".concat(N)}}}var b=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(n,i,a,u){if(n<=a&&i<=u){var f=(a-n)/2,g=(u-i)/2;return{x:f,y:g,width:n,height:i}}else{var C=n,m=i;return n>a&&(i=a/n*i,n=a),i>u&&(n=u/i*n,i=u),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(m)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?en.BORDER_SHADER_MATCH_COLOR:en.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var u=n,f=i,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=Vn(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,u){if(!(i-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-u.width)/2,C=(a-u.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(en.SHADED_REGION_ELEMENT_ID),i-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(f,p,m,-m,null,0,!0),this.insertShaderBorders(f,p,m,-m,null,0,!1),this.insertShaderBorders(f,p,m,null,-m,0,!0),this.insertShaderBorders(f,p,m,null,-m,0,!1),this.insertShaderBorders(f,m,p+m,-m,null,-m,!0),this.insertShaderBorders(f,m,p+m,null,-m,-m,!0),this.insertShaderBorders(f,m,p+m,-m,null,-m,!1),this.insertShaderBorders(f,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(f)}},e.prototype.insertShaderBorders=function(n,i,a,u,f,g,C){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=en.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(i,"px"),m.style.height="".concat(a,"px"),u!==null&&(m.style.top="".concat(u,"px")),f!==null&&(m.style.bottom="".concat(f,"px")),C?m.style.left="".concat(g,"px"):m.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Ou="data:image/svg+xml;base64,",sm=Ou+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",om=Ou+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",T0=Ou+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",am="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),lm=function(){function e(){this.data=_0.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=_0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),cm=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=y0.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(u);var f=document.createElement("a");f.innerText=y0.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),um=function(){function e(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=T0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=am,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=T0,this.infoIcon.style.opacity="0.6")},e}(),fm=function(){function e(){var n=this;this.infoDiv=new cm,this.infoIcon=new um(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),dm=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},hm=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},M0=function(){function e(){}return e.hasPermissions=function(){return dm(this,void 0,void 0,function(){var n,i,a,u;return hm(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=f.sent(),i=0,a=n;i<a.length;i++)if(u=a[i],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e}(),pr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var a=i[n];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(n){return n===Lr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Lr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return _n.DEFAULT_SUPPORTED_SCAN_TYPE;var i=_n.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,u=n;a<u.length;a++){var f=u[a];if(!_n.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return n},e}(),rn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),$n=function(){function e(){}return e.createElement=function(n,i){var a=document.createElement(n);return a.id=i,a.classList.add(rn.ALL_ELEMENT_CLASS),n==="button"&&a.setAttribute("type","button"),a},e}(),fh=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function C(E){try{p(a.next(E))}catch(A){g(A)}}function m(E){try{p(a.throw(E))}catch(A){g(A)}}function p(E){E.done?f(E.value):u(E.value).then(C,m)}p((a=a.apply(e,n||[])).next())})},dh=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function C(p){return function(E){return m([p,E])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(a=1,u&&(f=p[0]&2?u.return:p[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,p[1])).done)return f;switch(u=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){i.label=p[1];break}if(p[0]===6&&i.label<f[1]){i.label=f[1],f=p;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(p);break}f[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(e,i)}catch(E){p=[6,E],u=0}finally{a=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},O0=function(){function e(n,i,a){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return fh(this,void 0,void 0,function(){var n,i;return dh(this,function(a){switch(a.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=a.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?De.torchOffButton():De.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(n,i){var a=n?De.torchOnFailedMessage():De.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),gm=function(){function e(n,i){this.onTorchActionFailureCallback=i,this.torchButton=$n.createElement("button",rn.TORCH_BUTTON_ID),this.torchController=new O0(n,this,i)}return e.prototype.render=function(n,i){var a=this;this.torchButton.innerText=De.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var u=this;this.torchButton.addEventListener("click",function(f){return fh(a,void 0,void 0,function(){return dh(this,function(g){switch(g.label){case 0:return[4,u.torchController.flipState()];case 1:return g.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new O0(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=De.torchOnButton(),this.torchController.reset()},e.create=function(n,i,a,u){var f=new e(i,u);return f.render(n,a),f},e}(),pm=function(){function e(n,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=$n.createElement("button",rn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(C){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=$n.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(C){if(!(C==null||C.target==null)){var m=C.target;if(!(m.files&&m.files.length===0)){var p=m.files,E=p[0],A=E.name;f.setImageNameToButton(A),a(E)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(C){C.stopPropagation(),C.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var m=C.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var E=!1,A=0;A<p.length;++A){var N=p.item(A);if(N){var b=/image.*/;if(N.type.match(b)){E=!0;var k=N.name;f.setImageNameToButton(k),a(N),g.innerText=De.dragAndDropMessage();break}}}E||(g.innerText=De.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=De.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var a=n.substring(0,8),u=n.length,f=n.substring(u-8,u);n="".concat(a,"....").concat(f)}var g=De.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var n=De.fileSelectionChooseImage()+" - "+De.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,i,a){var u=new e(n,i,a);return u},e}(),xm=function(){function e(n){this.selectElement=$n.createElement("select",rn.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var u=De.selectCamera();i.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,C=this.cameras;g<C.length;g++){var m=C[g],p=m.id,E=m.label==null?p:m.label;(!E||E==="")&&(E=[De.anonymousCameraPrefix(),f++].join(" "));var A=document.createElement("option");A.value=p,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}i.appendChild(this.selectElement),n.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var i=0,a=this.options;i<a.length;i++){var u=a[i];if(u.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,i){var a=new e(i);return a.render(n),a},e}(),mm=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=$n.createElement("input",rn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=De.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=De.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,i,a,u){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,i){var a=new e;return a.render(n,i),a},e}(),tn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(tn||(tn={}));function wm(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function ym(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var Cm=function(){function e(n,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new pr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new lh(this.verbose),this.persistedDataManager=new lm,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(n)n(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(De.lastMatch(f),tn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new N0(this.getScanRegionId(),ym(this.config,this.verbose))},e.prototype.pause=function(n){(Vn(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,i=function(){var a=document.getElementById(n.elementId);a&&(a.innerHTML="",n.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,u){if(!n.html5Qrcode){a();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(f){if(!n.html5Qrcode){a();return}n.html5Qrcode.clear(),i(),a()}).catch(function(f){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",f),u(f)}):(n.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=_n.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!_n.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=_n.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=_n.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:_n.SCAN_DEFAULT_FPS,rememberLastUsedCamera:_n.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:_n.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),pr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),f=this.getDashboardId();u.id=f,u.style.width="100%",n.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var a=new fm;a.renderInto(i);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",i.appendChild(u)},e.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},e.prototype.createCameraListUi=function(n,i,a){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(De.cameraPermissionRequesting());var f=function(){a||u.createPermissionButton(n,i)};N0.getCameras().then(function(g){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),g&&g.length>0?(n.removeChild(i),u.renderCameraSelection(g)):(u.setHeaderMessage(De.noCameraFound(),tn.STATUS_WARNING),f())}).catch(function(g){u.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),u.setHeaderMessage(g,tn.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,i){var a=this,u=$n.createElement("button",this.getCameraPermissionButtonId());u.innerText=De.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,a.createCameraListUi(n,i,u)}),i.appendChild(u)},e.prototype.createPermissionsUi=function(n,i){var a=this;if(pr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){M0.hasPermissions().then(function(u){u?a.createCameraListUi(n,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i))}).catch(function(u){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=pr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var u=document.createElement("div");u.style.textAlign="center",a.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,u),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(n){var i=pr.isFileScanType(this.currentScanType),a=this,u=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";pr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(De.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,tn.STATUS_WARNING),a.qrCodeErrorCallback(g,ah.createFrom(g))}))};this.fileSelectionUi=pm.create(n,i,u)},e.prototype.renderCameraSelection=function(n){var i=this,a=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var f=mm.create(u,!1),g=function(B){var U=B.zoomFeature();if(U.isSupported()){f.setOnCameraZoomValueChangeCallback(function(O){U.apply(O)});var R=1;i.config.defaultZoomValueIfSupported&&(R=i.config.defaultZoomValueIfSupported),R=Fx(R,U.min(),U.max()),f.setValues(U.min(),U.max(),R,U.step()),f.show()}},C=xm.create(u,n),m=document.createElement("span"),p=$n.createElement("button",rn.CAMERA_START_BUTTON_ID);p.innerText=De.scanButtonStartScanningText(),m.appendChild(p);var E=$n.createElement("button",rn.CAMERA_STOP_BUTTON_ID);E.innerText=De.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,m.appendChild(E);var A,N=function(B){if(!B.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(B.torchFeature()):A=gm.create(m,B.torchFeature(),{display:"none",marginLeft:"5px"},function(U){a.setHeaderMessage(U,tn.STATUS_WARNING)}),A.show()};u.appendChild(m);var b=function(B){B||(p.style.display="none"),p.innerText=De.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,B&&(p.style.display="inline-block")};if(p.addEventListener("click",function(B){p.innerText=De.scanButtonScanningStarting(),C.disable(),p.disabled=!0,p.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var U=C.getValue();a.persistedDataManager.setLastUsedCameraId(U),a.html5Qrcode.start(U,wm(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(R){E.disabled=!1,E.style.display="inline-block",b(!1);var O=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&N(O),i.config.showZoomSliderIfSupported===!0&&g(O)}).catch(function(R){a.showHideScanTypeSwapLink(!0),C.enable(),b(!0),a.setHeaderMessage(R,tn.STATUS_WARNING)})}),C.hasSingleItem()&&p.click(),E.addEventListener("click",function(B){if(!a.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,a.html5Qrcode.stop().then(function(U){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),C.enable(),p.disabled=!1,E.style.display="none",p.style.display="inline-block",A&&(A.reset(),A.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(U){E.disabled=!1,a.setHeaderMessage(U,tn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var k=a.persistedDataManager.getLastUsedCameraId();C.hasValue(k)?(C.setValue(k),p.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,i=De.textIfCameraScanSelected(),a=De.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=$n.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=pr.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,pr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),g.innerText=a,n.currentScanType=Lr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),g.innerText=i,n.currentScanType=Lr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),f.appendChild(g),u.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){M0.hasPermissions().then(function(a){if(a){var u=document.getElementById(i.getCameraPermissionButtonId());if(!u)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,i){i||(i=tn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=n,a.style.display="block",i){case tn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case tn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case tn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=sm,this.cameraScanImage.alt=De.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=om,this.fileScanImage.alt=De.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return rn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return rn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function Em(){const{user:e}=Ur(),n=X.useRef(null),[i,a]=X.useState(!1),[u,f]=X.useState(null),[g,C]=X.useState(null);X.useEffect(()=>()=>{n.current&&n.current.clear().catch(console.error)},[]);const m=()=>{C(null),f(null),a(!0);const U=new Cm("qr-reader",{qrbox:{width:250,height:250},fps:10},!1);n.current=U,U.render(R=>{N(R),U.clear().catch(console.error),a(!1)},R=>{R&&!R.includes("No QR code found")&&C(R)})},p=()=>{n.current&&(n.current.clear().catch(console.error),n.current=null),a(!1)},[E,A]=X.useState(!1),N=U=>{try{let R;try{R=JSON.parse(U)}catch{const M=new URL(U).searchParams.get("data");if(M)R=JSON.parse(decodeURIComponent(M));else throw new Error("Invalid QR code")}if(R.type==="booth"||R.type==="poster"){k(R),A(!0),f(R);return}if(R.name&&R.email)b(R),A(!1),f(R);else throw new Error("Invalid data format")}catch{C("Could not read QR code. Please try again.")}},b=U=>{const R=JSON.parse(localStorage.getItem("collected_cards")||"[]");R.some(M=>M.email===U.email&&M.userId===U.userId)||(U.collectedAt=new Date().toISOString(),R.push(U),localStorage.setItem("collected_cards",JSON.stringify(R)))},k=U=>{const R=JSON.parse(localStorage.getItem("booth_progress")||"{}");R[U.id]={name:U.name,timestamp:new Date().toISOString()},localStorage.setItem("booth_progress",JSON.stringify(R))},B=()=>{f(null),C(null),A(!1)};return w.jsxs("div",{className:"scan-card-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("div",{className:"container",children:w.jsx("h1",{children:"Scan QR Code"})})]}),w.jsxs("div",{className:"container",children:[w.jsx("p",{className:"page-description",children:"Scan someone's QR code to instantly receive their business card"}),!i&&!u&&w.jsx("div",{className:"scan-section",children:w.jsxs("div",{className:"card",children:[w.jsx("div",{id:"qr-reader",className:"qr-reader-placeholder",children:w.jsxs("div",{className:"placeholder-content",children:[w.jsx("div",{className:"placeholder-icon",children:""}),w.jsx("p",{children:"Click the button below to start scanning"})]})}),w.jsx("button",{onClick:m,className:"btn-primary",style:{width:"100%",marginTop:"16px"},children:"Start Camera Scanner"})]})}),i&&w.jsx("div",{className:"scan-section",children:w.jsxs("div",{className:"card",children:[w.jsx("div",{id:"qr-reader"}),w.jsx("button",{onClick:p,className:"btn-secondary",style:{width:"100%",marginTop:"16px"},children:"Stop Scanning"})]})}),g&&w.jsxs("div",{className:"card error-message",children:[w.jsx("p",{children:g}),i&&w.jsx("button",{onClick:p,className:"btn-secondary",style:{width:"100%",marginTop:"12px"},children:"Stop Scanning"})]}),u&&w.jsx("div",{className:"scanned-card-result",children:w.jsxs("div",{className:"card success-message",children:[w.jsxs("div",{className:"success-header",children:[w.jsx("span",{className:"success-icon",children:""}),w.jsx("h2",{children:E?"Visit Registered!":"Card Saved Successfully!"})]}),E?w.jsxs("div",{className:"booth-success-detail",children:[w.jsx("p",{children:"You have successfully registered your visit to:"}),w.jsx("h3",{children:u.name}),w.jsx("div",{className:"booth-badge",children:"Passport Updated"})]}):w.jsxs("div",{className:"scanned-card-preview",children:[w.jsxs("div",{className:"preview-header",children:[u.picture&&w.jsx("img",{src:u.picture,alt:u.name,className:"preview-avatar"}),w.jsxs("div",{className:"preview-name-section",children:[w.jsx("h3",{children:u.name}),u.title&&w.jsx("p",{className:"preview-title",children:u.title}),u.company&&w.jsx("p",{className:"preview-company",children:u.company})]})]}),w.jsxs("div",{className:"scanned-card-details",children:[u.email&&w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Email:"}),w.jsx("a",{href:`mailto:${u.email}`,children:u.email})]}),u.phone&&w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Phone:"}),w.jsx("a",{href:`tel:${u.phone}`,children:u.phone})]}),u.linkedin&&w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"LinkedIn:"}),w.jsx("a",{href:u.linkedin,target:"_blank",rel:"noopener noreferrer",children:"View Profile"})]}),u.website&&w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Website:"}),w.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",children:"Visit"})]}),u.bio&&w.jsxs("div",{className:"detail-row bio-row",children:[w.jsx("span",{className:"detail-label",children:"Bio:"}),w.jsx("p",{children:u.bio})]})]})]}),w.jsx("div",{className:"scanned-card-actions",children:w.jsx("button",{onClick:B,className:"btn-primary",style:{width:"100%"},children:E?"Ready for Next Scan":"Scan Another Card"})})]})})]}),w.jsx(Xn,{})]})}function Am(){const[e,n]=X.useState([]),[i,a]=X.useState(""),[u,f]=X.useState(null);X.useEffect(()=>{g()},[]);const g=()=>{const E=JSON.parse(localStorage.getItem("collected_cards")||"[]");n(E)},C=E=>{if(window.confirm("Are you sure you want to delete this card?")){const A=e.filter((N,b)=>b!==E);n(A),localStorage.setItem("collected_cards",JSON.stringify(A)),f(null)}},m=e.filter(E=>{var N,b,k,B;const A=i.toLowerCase();return((N=E.name)==null?void 0:N.toLowerCase().includes(A))||((b=E.email)==null?void 0:b.toLowerCase().includes(A))||((k=E.company)==null?void 0:k.toLowerCase().includes(A))||((B=E.title)==null?void 0:B.toLowerCase().includes(A))}),p=({card:E,onClose:A,onDelete:N})=>w.jsx("div",{className:"card-detail-overlay",onClick:A,children:w.jsxs("div",{className:"card-detail-modal",onClick:b=>b.stopPropagation(),children:[w.jsxs("div",{className:"card-detail-header",children:[w.jsx("h2",{children:E.name}),w.jsx("button",{onClick:A,className:"close-button",children:""})]}),w.jsxs("div",{className:"card-detail-content",children:[E.picture&&w.jsx("img",{src:E.picture,alt:E.name,className:"card-detail-avatar"}),E.title&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Title"}),w.jsx("p",{children:E.title})]}),E.company&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Company"}),w.jsx("p",{children:E.company})]}),E.email&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Email"}),w.jsx("a",{href:`mailto:${E.email}`,children:E.email})]}),E.phone&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Phone"}),w.jsx("a",{href:`tel:${E.phone}`,children:E.phone})]}),E.linkedin&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"LinkedIn"}),w.jsx("a",{href:E.linkedin,target:"_blank",rel:"noopener noreferrer",children:"View Profile"})]}),E.website&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Website"}),w.jsx("a",{href:E.website,target:"_blank",rel:"noopener noreferrer",children:"Visit Website"})]}),E.bio&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Bio"}),w.jsx("p",{className:"bio-text",children:E.bio})]}),E.collectedAt&&w.jsxs("div",{className:"card-detail-field",children:[w.jsx("label",{children:"Collected"}),w.jsx("p",{children:new Date(E.collectedAt).toLocaleString()})]})]}),w.jsx("div",{className:"card-detail-actions",children:w.jsx("button",{onClick:N,className:"btn-danger",children:"Delete Card"})})]})});return w.jsxs("div",{className:"my-cards-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("div",{className:"container",children:w.jsx("h1",{children:"Collected Cards"})})]}),w.jsxs("div",{className:"container",children:[w.jsx("p",{className:"page-description",children:"View and manage all the business cards you've collected"}),w.jsxs("div",{className:"cards-header",children:[w.jsxs("div",{className:"search-box",children:[w.jsx("input",{type:"text",placeholder:"Search cards...",value:i,onChange:E=>a(E.target.value),className:"search-input"}),w.jsx("span",{className:"search-icon",children:""})]}),w.jsxs("div",{className:"cards-count",children:[m.length," card",m.length!==1?"s":""]})]}),m.length===0?w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-icon",children:""}),w.jsx("h3",{children:"No cards yet"}),w.jsx("p",{children:i?"No cards match your search.":"Start scanning QR codes to collect business cards!"}),!i&&w.jsx(En,{to:"/scan",className:"btn-primary",children:"Scan a Card"})]}):w.jsx("div",{className:"cards-grid",children:m.map((E,A)=>{var b;const N=e.indexOf(E);return w.jsxs("div",{className:"card-item",onClick:()=>f({...E,index:N}),children:[w.jsxs("div",{className:"card-item-header",children:[E.picture?w.jsx("img",{src:E.picture,alt:E.name,className:"card-item-avatar"}):w.jsx("div",{className:"card-item-avatar-placeholder",children:((b=E.name)==null?void 0:b.charAt(0).toUpperCase())||"?"}),w.jsxs("div",{className:"card-item-info",children:[w.jsx("h3",{children:E.name||"Unknown"}),E.title&&w.jsx("p",{className:"card-item-title",children:E.title}),E.company&&w.jsx("p",{className:"card-item-company",children:E.company})]})]}),E.email&&w.jsx("div",{className:"card-item-email",children:E.email}),w.jsxs("div",{className:"card-item-footer",children:[w.jsx("span",{className:"card-item-date",children:E.collectedAt?new Date(E.collectedAt).toLocaleDateString():"No date"}),w.jsx("span",{className:"card-item-arrow",children:""})]})]},N)})})]}),u&&w.jsx(p,{card:u,onClose:()=>f(null),onDelete:()=>{C(u.index)}}),w.jsx(Xn,{})]})}function Sm(){const[e]=X.useState([{id:1,title:"Welcome & Opening Keynote",speaker:"Dr. Jane Smith",time:"09:00 - 10:00",location:"Main Hall",description:"Join us for the opening keynote address and welcome ceremony.",date:"2024-03-15"},{id:2,title:"Networking Break",speaker:null,time:"10:00 - 10:30",location:"Lobby",description:"Coffee, refreshments, and networking opportunity.",date:"2024-03-15"},{id:3,title:"The Future of Web Development",speaker:"John Doe",time:"10:30 - 11:30",location:"Room A",description:"Explore the latest trends and technologies in web development.",date:"2024-03-15"},{id:4,title:"AI in Business Applications",speaker:"Sarah Johnson",time:"10:30 - 11:30",location:"Room B",description:"Learn how AI is transforming business processes.",date:"2024-03-15"},{id:5,title:"Lunch Break",speaker:null,time:"12:00 - 13:30",location:"Dining Hall",description:"Buffet lunch served.",date:"2024-03-15"},{id:6,title:"Panel Discussion: Industry Insights",speaker:"Multiple Speakers",time:"13:30 - 15:00",location:"Main Hall",description:"A panel of industry experts share their insights.",date:"2024-03-15"},{id:7,title:"Closing Remarks",speaker:"Conference Organizers",time:"16:00 - 16:30",location:"Main Hall",description:"Thank you and closing remarks.",date:"2024-03-15"}]),[n]=X.useState("2024-03-15"),[i,a]=X.useState(null),f=e.filter(C=>C.date===n).reduce((C,m)=>{const p=m.time.split(" - ")[0];return C[p]||(C[p]=[]),C[p].push(m),C},{}),g=Object.keys(f).sort();return w.jsxs("div",{className:"schedule-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("div",{className:"container",children:w.jsx("h1",{children:"Conference Schedule"})})]}),w.jsxs("div",{className:"container",children:[w.jsx("p",{className:"page-description",children:"View all events and sessions happening at the conference"}),w.jsx("div",{className:"schedule-content",children:g.length===0?w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-icon",children:""}),w.jsx("h3",{children:"No schedule available"}),w.jsx("p",{children:"Schedule information will be updated soon."})]}):w.jsx("div",{className:"schedule-list",children:g.map(C=>w.jsxs("div",{className:"schedule-time-group",children:[w.jsx("div",{className:"time-header",children:w.jsx("span",{className:"time-badge",children:C})}),w.jsx("div",{className:"events-list",children:f[C].map(m=>w.jsxs("div",{className:`schedule-item ${(i==null?void 0:i.id)===m.id?"selected":""}`,onClick:()=>a(m),children:[w.jsxs("div",{className:"schedule-item-header",children:[w.jsx("h3",{children:m.title}),w.jsx("span",{className:"schedule-location",children:m.location})]}),m.speaker&&w.jsx("p",{className:"schedule-speaker",children:m.speaker}),w.jsx("p",{className:"schedule-time",children:m.time}),(i==null?void 0:i.id)===m.id&&w.jsx("div",{className:"schedule-description",children:w.jsx("p",{children:m.description})})]},m.id))})]},C))})})]}),w.jsx(Xn,{})]})}function vm(){const e={name:"Sustainable Futures Conference",date:"March 15, 2024",location:"Discovery Hall, UNT",description:"Join us for an exciting day of networking, learning, and innovation. Connect with industry leaders, discover the latest technologies, and expand your professional network.",organizers:"Conference Organizing Committee",contact:{email:"info@conference.com",phone:"+1 (555) 123-4567",website:"https://conference.com"},wifi:{network:"Conference_Guest",password:"Innovate2024!"},hashtag:"#SustainableTech"};return w.jsxs("div",{className:"info-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("div",{className:"container",children:w.jsx("h1",{children:"Conference Information"})})]}),w.jsx("div",{className:"container",children:w.jsxs("div",{className:"info-content",children:[w.jsxs("div",{className:"info-card",children:[w.jsx("div",{className:"info-icon",children:""}),w.jsx("h2",{children:"About"}),w.jsx("p",{className:"conference-name",children:e.name}),w.jsx("p",{className:"conference-description",children:e.description}),w.jsxs("div",{className:"info-details",children:[w.jsxs("div",{className:"info-detail-item",children:[w.jsx("span",{className:"detail-icon",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Date"}),w.jsx("p",{children:e.date})]})]}),w.jsxs("div",{className:"info-detail-item",children:[w.jsx("span",{className:"detail-icon",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Location"}),w.jsx("p",{children:e.location})]})]}),w.jsxs("div",{className:"info-detail-item",children:[w.jsx("span",{className:"detail-icon",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Organized by"}),w.jsx("p",{children:e.organizers})]})]})]})]}),w.jsxs("div",{className:"info-card",children:[w.jsx("div",{className:"info-icon",children:""}),w.jsx("h2",{children:"WiFi Information"}),w.jsxs("div",{className:"wifi-info",children:[w.jsxs("div",{className:"wifi-item",children:[w.jsx("label",{children:"Network Name"}),w.jsxs("div",{className:"wifi-value",children:[w.jsx("span",{children:e.wifi.network}),w.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e.wifi.network),alert("Network name copied!")},className:"copy-button",children:"Copy"})]})]}),w.jsxs("div",{className:"wifi-item",children:[w.jsx("label",{children:"Password"}),w.jsxs("div",{className:"wifi-value",children:[w.jsx("span",{children:e.wifi.password}),w.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e.wifi.password),alert("Password copied!")},className:"copy-button",children:"Copy"})]})]})]})]}),w.jsxs("div",{className:"info-card",children:[w.jsx("div",{className:"info-icon",children:""}),w.jsx("h2",{children:"Contact"}),w.jsxs("div",{className:"contact-info",children:[w.jsxs("a",{href:`mailto:${e.contact.email}`,className:"contact-link",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.contact.email})]}),w.jsxs("a",{href:`tel:${e.contact.phone}`,className:"contact-link",children:[w.jsx("span",{children:""}),w.jsx("span",{children:e.contact.phone})]}),w.jsxs("a",{href:e.contact.website,target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Visit Website"})]})]})]}),w.jsxs("div",{className:"info-card",children:[w.jsx("div",{className:"info-icon",children:"#"}),w.jsx("h2",{children:"Social Media"}),w.jsxs("div",{className:"social-info",children:[w.jsxs("p",{className:"hashtag",children:["Share your experience using: ",w.jsx("strong",{children:e.hashtag})]}),w.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e.hashtag),alert("Hashtag copied!")},className:"btn-secondary",style:{width:"100%"},children:"Copy Hashtag"})]})]}),w.jsxs("div",{className:"info-card",children:[w.jsx("div",{className:"info-icon",children:""}),w.jsx("h2",{children:"Need Help?"}),w.jsx("p",{children:"If you need assistance during the conference, please contact:"}),w.jsxs("ul",{className:"help-list",children:[w.jsx("li",{children:"Information desk in the lobby"}),w.jsx("li",{children:"Conference staff (wearing blue badges)"}),w.jsxs("li",{children:["Email: ",e.contact.email]})]})]})]})}),w.jsx(Xn,{})]})}function Im(){const e=[{id:1,title:"Project A",student:"Presenter A",description:"Project description goes here."},{id:2,title:"Project B",student:"Presenter B",description:"Project description goes here."},{id:3,title:"Project C",student:"Presenter C",description:"Project description goes here."}];return w.jsxs("div",{className:"room-page",children:[w.jsxs("div",{className:"room-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("h1",{children:"Poster and Research Room"})]}),w.jsxs("div",{className:"room-content",children:[w.jsxs("section",{className:"room-intro",children:[w.jsx("h2",{children:"Student Research & Community Projects"}),w.jsx("p",{children:"Explore innovative sustainable initiatives and community projects."}),w.jsxs("div",{className:"judge-notice",children:[w.jsx("span",{className:"icon",children:""}),w.jsx("p",{children:"Projects are being presented for judging."})]})]}),w.jsx("div",{className:"project-grid",children:e.map(n=>w.jsxs("div",{className:"project-card",children:[w.jsx("h3",{children:n.title}),w.jsxs("p",{className:"student-name",children:["By ",n.student]}),w.jsx("p",{className:"project-desc",children:n.description}),w.jsx("div",{className:"card-footer",children:w.jsx("span",{className:"status-tag",children:"Ready for Judging"})})]},n.id))})]}),w.jsx(Xn,{})]})}function Nm(){const e=[{id:1,name:"Company A",industry:"Sector A",opportunity:"Role A",location:"Booth 1"},{id:2,name:"Company B",industry:"Sector B",opportunity:"Role B",location:"Booth 2"},{id:3,name:"Company C",industry:"Sector C",opportunity:"Role C",location:"Booth 3"}];return w.jsxs("div",{className:"room-page",children:[w.jsxs("div",{className:"room-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("h1",{children:"Sustainable Company Booths"})]}),w.jsxs("div",{className:"room-content",children:[w.jsxs("section",{className:"room-intro",children:[w.jsx("h2",{children:"Hallway of Opportunities"}),w.jsx("p",{children:"Connect with companies leading the way in sustainability. These booths are looking for fresh talent."}),w.jsxs("div",{className:"booth-notice",children:[w.jsx("span",{className:"icon",children:""}),w.jsx("p",{children:"Companies are looking for individuals for internships and jobs."})]})]}),w.jsx("div",{className:"booth-grid",children:e.map(n=>w.jsxs("div",{className:"booth-card",children:[w.jsx("div",{className:"booth-header",children:w.jsx("div",{className:"booth-id",children:n.location})}),w.jsx("h3",{children:n.name}),w.jsx("p",{className:"industry",children:n.industry}),w.jsxs("div",{className:"opportunity-tag",children:[w.jsx("span",{className:"label",children:"Open Roles:"}),w.jsx("span",{className:"value",children:n.opportunity})]}),w.jsx("button",{className:"btn-primary",children:"Visit Booth"})]},n.id))})]}),w.jsx(Xn,{})]})}function Tm(){const[e,n]=X.useState(""),[i,a]=X.useState({}),u=[{id:1,name:"Project Name 1",founder:"Founder Name 1",pitch:"Brief description of the project and its sustainability impact.",url:"#"},{id:2,name:"Project Name 2",founder:"Founder Name 2",pitch:"Brief description of the project and its sustainability impact.",url:"#"},{id:3,name:"Project Name 3",founder:"Founder Name 3",pitch:"Brief description of the project and its sustainability impact.",url:"#"},{id:4,name:"Project Name 4",founder:"Founder Name 4",pitch:"Brief description of the project and its sustainability impact.",url:"#"}],f=u.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())||p.founder.toLowerCase().includes(e.toLowerCase())||p.pitch.toLowerCase().includes(e.toLowerCase())),g=(p,E,A)=>{a(N=>({...N,[p]:{...N[p],[E]:A}}))},C=p=>{console.log(`Submitted rating for ${p}:`,i[p]);const E=u.find(A=>A.id===p);if(E){const A=JSON.parse(localStorage.getItem("booth_progress")||"{}");A[`pitch_${p}`]={name:E.name,type:"pitch",timestamp:new Date().toISOString()},localStorage.setItem("booth_progress",JSON.stringify(A))}alert("Thank you for your feedback! This visit has been registered in your Booth Wallet.")},m=[{key:"sustainable",label:"How sustainable was this company?"},{key:"impactful",label:"How impactful is this company?"},{key:"feasible",label:"How feasible/viable is this company to implement?"},{key:"overall",label:"How did you like it overall?"}];return w.jsxs("div",{className:"room-page",children:[w.jsxs("div",{className:"room-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("h1",{children:"Pitch Room"})]}),w.jsxs("div",{className:"room-content",children:[w.jsx("section",{className:"phase-indicator",children:w.jsxs("div",{className:"phase active",children:[w.jsx("span",{className:"phase-num",children:"1"}),w.jsx("span",{className:"phase-text",children:"Community Vote"})]})}),w.jsxs("section",{className:"room-intro",children:[w.jsx("h2",{children:"Vote & Rate Projects"}),w.jsx("p",{children:"Search for projects and rate them on key metrics."})]}),w.jsx("div",{className:"search-bar-container",children:w.jsx("input",{type:"text",placeholder:"Search projects...",value:e,onChange:p=>n(p.target.value),className:"search-input"})}),w.jsxs("div",{className:"startup-list",children:[f.map(p=>w.jsxs("div",{className:"startup-card-expanded",children:[w.jsx("div",{className:"startup-header",children:w.jsxs("div",{className:"startup-info",children:[w.jsx("h3",{children:p.name}),w.jsxs("p",{className:"founder",children:["Founded by ",p.founder]}),w.jsx("p",{className:"pitch",children:p.pitch})]})}),w.jsxs("div",{className:"rating-section",children:[w.jsx("h4",{children:"Rate this Project"}),m.map(({key:E,label:A})=>{var N,b;return w.jsxs("div",{className:"rating-question",children:[w.jsxs("label",{children:[A," (1-10)"]}),w.jsxs("div",{className:"rating-input",children:[w.jsx("input",{type:"range",min:"1",max:"10",value:((N=i[p.id])==null?void 0:N[E])||5,onChange:k=>g(p.id,E,parseInt(k.target.value))}),w.jsx("span",{children:((b=i[p.id])==null?void 0:b[E])||5})]})]},E)}),w.jsx("button",{className:"btn-primary",onClick:()=>C(p.id),children:"Submit Rating"})]})]},p.id)),f.length===0&&w.jsxs("p",{className:"no-results",children:['No projects found matching "',e,'"']})]}),w.jsxs("section",{className:"phase-details mt-3",children:[w.jsx("h3",{children:"Phase 2 Preview"}),w.jsx("p",{children:"The top 10 projects will be seen by investors for potential initial investment."})]})]}),w.jsx(Xn,{})]})}function _m({eventId:e="general"}){const[n,i]=X.useState("");X.useEffect(()=>{const u=localStorage.getItem(`note_${e}`);u&&i(u)},[e]);const a=u=>{const f=u.target.value;i(f),localStorage.setItem(`note_${e}`,f)};return w.jsxs("div",{className:"notes-container",children:[w.jsx("h3",{children:"My Notes"}),w.jsx("textarea",{className:"notes-area",value:n,onChange:a,placeholder:"Type your notes here... (Automatically saved)"})]})}const Mm=["naughty","word1","word2","spam","abuse"],Om=e=>{if(!e)return"";let n=e;return Mm.forEach(i=>{const a=new RegExp(i,"gi");n=n.replace(a,"***")}),n},Rm=(e,n,i=5,a=6e4)=>{const u=`ratelimit_${e}_${n}`,f=Date.now(),C=JSON.parse(localStorage.getItem(u)||"[]").filter(m=>f-m<a);return C.length>=i?!1:(C.push(f),localStorage.setItem(u,JSON.stringify(C)),!0)};function Dm(){const e={id:"keynote-1",title:"Welcome & Opening Keynote",speaker:"Dr. Jane Smith",time:"09:00 - 10:00 AM",description:"Join us for the opening keynote address and welcome ceremony. Dr. Smith discusses the future of sustainable technology."},[n,i]=X.useState([]),[a,u]=X.useState(""),[f,g]=X.useState("");X.useEffect(()=>{const m=localStorage.getItem("auditorium_user_messages");m&&i(JSON.parse(m))},[]);const C=m=>{if(m.preventDefault(),!a.trim())return;if(g(""),!Rm("currentUser","auditorium_chat",5,3e4)){g("You are sending messages too fast. Please wait a moment.");return}const p=Om(a),E={id:Date.now(),text:p,timestamp:new Date().toISOString(),sender:"user"},A=[...n,E];i(A),u(""),localStorage.setItem("auditorium_user_messages",JSON.stringify(A));const N=JSON.parse(localStorage.getItem("admin_inbox_questions")||"[]");N.push({...E,user:"Attendee"}),localStorage.setItem("admin_inbox_questions",JSON.stringify(N))};return w.jsxs("div",{className:"auditorium-page",children:[w.jsxs("div",{className:"page-header",children:[w.jsx(En,{to:"/",className:"back-button",children:" Back to Home"}),w.jsx("div",{className:"container",children:w.jsx("h1",{children:"Main Auditorium"})})]}),w.jsxs("div",{className:"auditorium-content container",children:[w.jsxs("div",{className:"main-stage-col",children:[w.jsxs("div",{className:"stage-info-card",children:[w.jsxs("div",{className:"live-indicator",children:[w.jsx("span",{className:"pulsing-dot"}),"LIVE NOW"]}),w.jsx("h2",{children:e.title}),w.jsxs("div",{className:"event-meta",children:[w.jsxs("p",{className:"speaker",children:[w.jsx("strong",{children:"Speaker:"})," ",e.speaker]}),w.jsxs("p",{className:"time",children:[w.jsx("strong",{children:"Time:"})," ",e.time]})]}),w.jsx("p",{className:"description",children:e.description})]}),w.jsxs("div",{className:"qa-section",children:[w.jsxs("div",{className:"qa-header",children:[w.jsx("h3",{children:"Ask the Host"}),w.jsx("p",{className:"qa-subtitle",children:"Direct message the AV team/Host. Your questions are private."})]}),w.jsx("div",{className:"qa-chat-box",children:n.length===0?w.jsx("div",{className:"empty-chat",children:w.jsx("p",{children:"No questions sent yet. Ask something!"})}):w.jsx("div",{className:"messages-list",children:n.map(m=>w.jsxs("div",{className:"message-container",children:[w.jsxs("div",{className:"message-bubble sent",children:[w.jsx("p",{children:m.text}),w.jsx("span",{className:"timestamp",children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.reply&&w.jsxs("div",{className:"message-bubble received admin-reply",children:[w.jsx("div",{className:"reply-label",children:"Host Reply"}),w.jsx("p",{children:m.reply}),w.jsx("span",{className:"timestamp",children:new Date(m.repliedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},m.id))})}),f&&w.jsx("p",{className:"chat-error",style:{color:"#d32f2f",fontSize:"0.85rem",padding:"0 20px",margin:"10px 0 0"},children:f}),w.jsxs("form",{onSubmit:C,className:"qa-input-area",children:[w.jsx("input",{type:"text",value:a,onChange:m=>u(m.target.value),placeholder:"Type your question here...",className:"qa-input"}),w.jsx("button",{type:"submit",disabled:!a.trim(),className:"btn-primary send-btn",children:"Send"})]})]})]}),w.jsx("div",{className:"notes-section",children:w.jsx(_m,{eventId:e.id})})]}),w.jsx(Xn,{})]})}function bm(){const{user:e}=Ur(),n="admin@example.com,your-email@gmail.com".split(",");return w.jsxs("div",{className:"dashboard-page",children:[w.jsxs("div",{className:"dashboard-header",children:[w.jsx("h1",{children:"Admin Control Panel"}),w.jsx("p",{children:"Manage conference settings and user access"})]}),w.jsx("div",{className:"stats-grid",children:w.jsxs("div",{className:"stat-card",children:[w.jsxs("h3",{children:["Welcome, ",e==null?void 0:e.name]}),w.jsx("p",{children:"You have full administrative access."})]})}),w.jsxs("div",{className:"quick-actions",children:[w.jsx("h2",{children:"Admin Overview"}),w.jsxs("div",{className:"action-grid",children:[w.jsxs("div",{className:"action-card",children:[w.jsx("div",{className:"action-icon",children:""}),w.jsxs("div",{className:"action-info",children:[w.jsx("h3",{children:"Authorized Admins"}),w.jsxs("p",{children:[n.length," emails configured"]}),w.jsx("ul",{style:{textAlign:"left",marginTop:"10px",fontSize:"0.9rem",color:"rgba(255,255,255,0.7)"},children:n.map(i=>w.jsx("li",{children:i},i))})]})]}),w.jsxs("div",{className:"action-card disabled",children:[w.jsx("div",{className:"action-icon",children:""}),w.jsxs("div",{className:"action-info",children:[w.jsx("h3",{children:"User Statistics"}),w.jsx("p",{children:"Coming Soon"})]})]}),w.jsxs("div",{className:"action-card disabled",children:[w.jsx("div",{className:"action-icon",children:""}),w.jsxs("div",{className:"action-info",children:[w.jsx("h3",{children:"Site Settings"}),w.jsx("p",{children:"Coming Soon"})]})]})]})]}),w.jsxs("div",{className:"admin-section",style:{marginTop:"40px"},children:[w.jsx("h2",{children:"Live Auditorium Questions"}),w.jsx("div",{className:"questions-container",style:{background:"white",borderRadius:"12px",padding:"20px",minHeight:"200px",maxHeight:"500px",overflowY:"auto",color:"#333"},children:w.jsx(Lm,{})})]}),w.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[w.jsx("h2",{style:{color:"#ff4d4d"},children:" Security Note"}),w.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.95rem",lineHeight:"1.6"},children:["This page is only visible to users whose email is listed in the ",w.jsx("code",{children:"VITE_ADMIN_EMAILS"})," environment variable. To add or remove admins, update your ",w.jsx("code",{children:".env"})," file (locally) or your deployment platform's environment variables."]})]})]})}function Lm(){const[e,n]=X.useState([]);X.useEffect(()=>{const a=()=>{const f=localStorage.getItem("admin_inbox_questions");if(f)try{n(JSON.parse(f).reverse())}catch(g){console.error("Error parsing questions",g)}};a();const u=setInterval(a,5e3);return()=>clearInterval(u)},[]);const i=()=>{window.confirm("Clear all questions?")&&(localStorage.removeItem("admin_inbox_questions"),n([]))};return e.length===0?w.jsx("p",{className:"no-data",style:{textAlign:"center",color:"#666",fontStyle:"italic",padding:"20px"},children:"No questions received yet."}):w.jsxs("div",{className:"live-questions-list",children:[w.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",marginBottom:"15px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:[w.jsxs("span",{style:{fontWeight:"bold"},children:[e.length," Questions"]}),w.jsx("button",{onClick:i,style:{background:"#dc3545",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer"},children:"Clear All"})]}),e.map((a,u)=>w.jsxs("div",{className:"admin-question-card",style:{background:"#f8f9fa",padding:"15px",marginBottom:"10px",borderRadius:"8px",borderLeft:"4px solid #007bff"},children:[w.jsxs("div",{className:"q-meta",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.85rem",color:"#666"},children:[w.jsx("span",{className:"q-user",style:{fontWeight:"bold"},children:a.user||"Anonymous"}),w.jsx("span",{className:"q-time",children:new Date(a.timestamp).toLocaleTimeString()})]}),w.jsx("p",{className:"q-text",style:{margin:"10px 0",fontSize:"1.1rem",fontWeight:"500"},children:a.text}),w.jsx("div",{className:"admin-reply-box",style:{marginTop:"15px",borderTop:"1px solid #eee",paddingTop:"10px"},children:a.reply?w.jsxs("div",{className:"existing-reply",style:{background:"#e3f2fd",padding:"10px",borderRadius:"4px",fontSize:"0.9rem"},children:[w.jsx("strong",{children:"Admin Reply:"})," ",a.reply]}):w.jsx(km,{questionId:a.id})})]},u))]})}function km({questionId:e}){const[n,i]=X.useState(""),[a,u]=X.useState(!1),f=g=>{if(g.preventDefault(),!n.trim())return;u(!0);const m=JSON.parse(localStorage.getItem("admin_inbox_questions")||"[]").map(A=>A.id===e?{...A,reply:n,repliedAt:new Date().toISOString()}:A);localStorage.setItem("admin_inbox_questions",JSON.stringify(m));const E=JSON.parse(localStorage.getItem("auditorium_user_messages")||"[]").map(A=>A.id===e?{...A,reply:n,repliedAt:new Date().toISOString()}:A);localStorage.setItem("auditorium_user_messages",JSON.stringify(E)),i(""),u(!1),window.location.reload()};return w.jsxs("form",{onSubmit:f,style:{display:"flex",gap:"10px"},children:[w.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),placeholder:"Write a reply...",style:{flex:1,padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}}),w.jsx("button",{type:"submit",disabled:a||!n.trim(),style:{background:"#28a745",color:"white",border:"none",padding:"8px 15px",borderRadius:"4px",cursor:"pointer"},children:"Reply"})]})}function zn({children:e}){const{user:n,loading:i}=Ur();return i?w.jsx("div",{className:"loading",children:"Loading..."}):n?e:w.jsx(th,{to:"/login",replace:!0})}function Bm({children:e}){const{user:n,isAdmin:i,loading:a}=Ur();return a?w.jsx("div",{className:"loading",children:"Loading..."}):!n||!i?w.jsx(th,{to:"/",replace:!0}):e}function Pm(){return w.jsxs(lx,{children:[w.jsx($t,{path:"/login",element:w.jsx(Cx,{})}),w.jsx($t,{path:"/",element:w.jsx(zn,{children:w.jsx(Ex,{})})}),w.jsx($t,{path:"/card",element:w.jsx(zn,{children:w.jsx(Bx,{})})}),w.jsx($t,{path:"/scan",element:w.jsx(zn,{children:w.jsx(Em,{})})}),w.jsx($t,{path:"/cards",element:w.jsx(zn,{children:w.jsx(Am,{})})}),w.jsx($t,{path:"/schedule",element:w.jsx(zn,{children:w.jsx(Sm,{})})}),w.jsx($t,{path:"/info",element:w.jsx(zn,{children:w.jsx(vm,{})})}),w.jsx($t,{path:"/research",element:w.jsx(zn,{children:w.jsx(Im,{})})}),w.jsx($t,{path:"/booths",element:w.jsx(zn,{children:w.jsx(Nm,{})})}),w.jsx($t,{path:"/auditorium",element:w.jsx(zn,{children:w.jsx(Dm,{})})}),w.jsx($t,{path:"/sharktank",element:w.jsx(zn,{children:w.jsx(Tm,{})})}),w.jsx($t,{path:"/admin",element:w.jsx(Bm,{children:w.jsx(bm,{})})})]})}function Fm(){return w.jsx(yx,{children:w.jsx(px,{basename:"/Conference",children:w.jsx("div",{className:"App",children:w.jsx(Pm,{})})})})}Rl.createRoot(document.getElementById("root")).render(w.jsx(Ci.StrictMode,{children:w.jsx(Fm,{})}));
